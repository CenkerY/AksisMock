function uys_build_pagination(n,t,i){var u;UYS_DATATABLE_LAST_SELECTED_PAGE=1;var f=Math.ceil(i/t),e="",o='<ul id="pager" class="pagination pagination-sm pull-right" count="'+f+'">',r="";for(r+='<li class="pager-item left-arrow disabled" ><a href="#"><i class="fa fa-angle-double-left"><\/i><\/a><\/li>',r+='<li class="pager-item active"><a href="#">1<\/a><\/li>',u=2;u<=f;u++)r+='<li class="pager-item"><a href="#">'+u+"<\/a><\/li>";r+='<li class="pager-item right-arrow"><a href="#"><i class="fa fa-angle-double-right"><\/i><\/a><\/li>';e+=o+r+"<\/ul>";$("#"+n).append(e)}function uys_build_sub_paginationForHareket(n,t,i){var e=Math.ceil(i/t),s="",h='<ul id="sub_pager" class="pagination pagination-sm pull-right" count="'+e+'">',u="",o,r,f;if(u+='<li class="sub-pager-item left-arrow" ><a href="#"><i class="fa fa-angle-double-left"><\/i><\/a><\/li>',o=0,parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)==0&&(o=1),UYS_DATATABLE_PAGE_COUNT=e,e<=10)for(r=1;r<=e;r++)u+=r==o?'<li class="sub-pager-item active"><a href="#">'+r+"<\/a><\/li>":r==parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)?'<li class="sub-pager-item active"><a href="#">'+r+"<\/a><\/li>":'<li class="sub-pager-item"><a href="#">'+r+"<\/a><\/li>";else for(r=parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE);r<=parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)+10;r++)if(parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)==0&&r==0)continue;else if(parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)==0&&r==1){u+='<li class="sub-pager-item active"><a href="#">'+r+"<\/a><\/li>";continue}else if(parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)+10>parseInt(UYS_DATATABLE_PAGE_COUNT)&&parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)!=parseInt(UYS_DATATABLE_PAGE_COUNT)){for(u+='<li class="sub-pager-item active"><a href="#">'+parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)+"<\/a><\/li>",f=parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)+1;f<=parseInt(UYS_DATATABLE_PAGE_COUNT);f++)u+='<li class="sub-pager-item"><a href="#">'+f+"<\/a><\/li>";break}else if(parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)==parseInt(UYS_DATATABLE_PAGE_COUNT)){for(f=parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)-10;f<parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE);f++)u+='<li class="sub-pager-item"><a href="#">'+f+"<\/a><\/li>";u+='<li class="sub-pager-item active"><a href="#">'+f+"<\/a><\/li>";break}else u+=r==parseInt(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE)?'<li class="sub-pager-item active"><a href="#">'+r+"<\/a><\/li>":'<li class="sub-pager-item"><a href="#">'+r+"<\/a><\/li>";u+='<li class="sub-pager-item right-arrow"><a href="#"><i class="fa fa-angle-double-right"><\/i><\/a><\/li>';s+=h+u+"<\/ul>";$("#"+n).append(s)}function uys_click_pager_item(n){var t=$(n),u=$("#pager").attr("count"),r=$("#pager > li.active").get(0),i;t.hasClass("left-arrow")?t=$(r).prev():t.hasClass("right-arrow")&&(t=$(r).next());i=t.children("a").get(0).text;i!=null&&i!=""&&(UYS_DATATABLE_LAST_SELECTED_PAGE=i,$("#pager > li").removeClass("active"),t.addClass("active"),$("#pager > *").removeClass("disabled"),i==1?$("#pager > .left-arrow").addClass("disabled"):i==u&&$("#pager > .right-arrow").addClass("disabled"))}function uys_build_sub_pagination(n,t,i){var u;UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=1;var f=Math.ceil(i/t),e="",o='<ul id="sub_pager" class="pagination pagination-sm pull-right" count="'+f+'">',r="";for(r+='<li class="sub-pager-item left-arrow disabled" ><a href="#"><i class="fa fa-angle-double-left"><\/i><\/a><\/li>',r+='<li class="sub-pager-item active"><a href="#">1<\/a><\/li>',u=2;u<=f;u++)r+='<li class="sub-pager-item"><a href="#">'+u+"<\/a><\/li>";r+='<li class="sub-pager-item right-arrow"><a href="#"><i class="fa fa-angle-double-right"><\/i><\/a><\/li>';e+=o+r+"<\/ul>";$("#"+n).append(e)}function uys_click_sub_pager_item(n){var t=$(n),u=$("#sub_pager").attr("count"),r=$("#sub_pager > li.active").get(0),i;t.hasClass("left-arrow")?t=$(r).prev():t.hasClass("right-arrow")&&(t=$(r).next());i=t.children("a").get(0).text;i!=null&&i!=""&&(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=i,$("#sub_pager > li").removeClass("active"),t.addClass("active"),$("#sub_pager > *").removeClass("disabled"),i==1?$("#sub_pager > .left-arrow").addClass("disabled"):i==u&&$("#sub_pager > .right-arrow").addClass("disabled"))}function uys_click_sub_pager_itemForHareket(n){var i=$(n),r=$("#sub_pager").attr("count"),u=$("#sub_pager > li.active").get(0),t;i.hasClass("left-arrow")?UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=1:i.hasClass("right-arrow")&&(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=UYS_DATATABLE_PAGE_COUNT);t=i.children("a").get(0).text;t==null||t==""||isNaN(t)||(UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=t,$("#sub_pager > li").removeClass("active"),i.addClass("active"),$("#sub_pager > *").removeClass("disabled"))}function uys_reset_selected_page(n){UYS_DATATABLE_LAST_SELECTED_PAGE=n}function uys_reset_sub_selected_page(n){UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=n}function uys_set_page_number(n){var i=$("#pager").attr("count"),t;i>=n&&(UYS_DATATABLE_LAST_SELECTED_PAGE=n,$("#pager > li").removeClass("active"),$("#pager > *").removeClass("disabled"),n==1?$("#pager > .left-arrow").addClass("disabled"):n==i&&$("#pager > .right-arrow").addClass("disabled"),t=$("li.pager-item"),console.log(t),$.each(t,function(i){i==n&&(console.log(t),$(t[i]).addClass("active"))}))}function uys_set_sub_page_number(n){var i,t;UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=n;i=$("#sub_pager").attr("count");i>=n&&(UYS_DATATABLE_LAST_SELECTED_PAGE=n,$("#sub_pager > li").removeClass("active"),$("#sub_pager > *").removeClass("disabled"),n==1?$("#sub_pager > .left-arrow").addClass("disabled"):n==i&&$("#sub_pager > .right-arrow").addClass("disabled"),t=$("li.sub-pager-item"),console.log(t),$.each(t,function(i){i==n&&(console.log(t),$(t[i]).addClass("active"))}))}function uys_show_notify(n,t,i,r){$.pnotify({title:n,type:t,text:i,delay:r});$("div.ui-pnotify-history-container").remove()}function uys_show_notify_timeout(n,t,i,r){$.pnotify({title:n,type:t,text:i,delay:r});$("div.ui-pnotify-history-container").remove()}function uys_show_notifyv2(n){$.pnotify({title:n.MessageHeader,type:n.MessageType,text:n.MessageText,hide:n.MessageHide});$("div.ui-pnotify-history-container").remove()}function uys_data_bind(n){$.each(n[0],function(n,t){console.log("key:"+n+" value: "+t);var i=document.getElementsByName(n)[0];i!=null&&(console.log("obj: "+i),i.value=t,$(i).is("select")&&i[t]!=null&&(console.log("ojşkjlkjlkjlkjbj: "+i[t].text),$(i).closest(".select2-chosen").text=i[t].text))})}function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toGMTString();document.cookie=n+"="+t+"; "+u}function getCookie(n){for(var r=n+"=",u=document.cookie.split(";"),t,i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)!=-1)return t.substring(r.length,t.length)}return""}function Ogrenci(n,t,i,r,u){this.id=n;this.asoy=t;this.numara=i;this.birimAdi=r;this.arsiv=u}function islemYapilanOgrenciEkle(n){var i=getCookie("SonIslemYapilanOgrenciler"),r,t;if(i!=""){if(t=JSON.parse(i),console.log($.inArray(n,i)),console.log(n),console.log(t),console.log($.inArray(n,t)),r=$.grep(t,function(t){return t.id==n.id}),r.length>0)return;t.length>7&&t.shift();t.push(n);setCookie("SonIslemYapilanOgrenciler",JSON.stringify(t),999)}else console.log("array empty"),t=[],t.push(n),setCookie("SonIslemYapilanOgrenciler",JSON.stringify(t),999)}function clearLastStudentsCookie(){setCookie("SonIslemYapilanOgrenciler","",999);console.log("All students in cookie has been cleared.")}function islemYapilanOgrencileriGetir(){var t=getCookie("SonIslemYapilanOgrenciler"),n;return console.log(n),n=[],t!=""&&(n=JSON.parse(t)),n.sort(function(n,t){return n.asoy.localeCompare(t.asoy)})}function SortByName(n,t){var i=n.asoy.toLowerCase(),i=t.asoy.toLowerCase();return i<i?-1:i>i?1:0}function uys_cascading_dropdown(n,t,i,r){var u=n.value;uys_reset_dropdown(i,r);u!=null&&u!=""&&$.ajax({type:"post",url:t,data:'{"id":"'+u+'"}',async:!1,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){uys_fill_dropdown(i,n,r)},error:function(){alert("Fakülteden Veri Yanlış Geldi")}})}function uys_reset_dropdown(n,t){$("#"+n).empty();$("#"+n).text="";$("#"+n).value="";$("#"+n).append($("<option />",{selected:!0,value:"",text:t}))}function uys_fill_dropdown(n,t){$.each(t,function(t,i){$("#"+n).append($("<option />",{value:i.Value,text:i.Text}))})}var MD5,fakeModall,ZeroClipboard,q,TableTools,i18nDefaults;(function(n){function r(){this.debug=!0;this._curInst=null;this._disabledInputs=[];this._timepickerShowing=!1;this._inDialog=!1;this._dialogClass="ui-timepicker-dialog";this._mainDivId="ui-timepicker-div";this._inlineClass="ui-timepicker-inline";this._currentClass="ui-timepicker-current";this._dayOverClass="ui-timepicker-days-cell-over";this.regional=[];this.regional[""]={hourText:"Hour",minuteText:"Minute",amPmText:["AM","PM"],closeButtonText:"Done",nowButtonText:"Now",deselectButtonText:"Deselect"};this._defaults={showOn:"focus",button:null,showAnim:"fadeIn",showOptions:{},appendText:"",beforeShow:null,onSelect:null,onClose:null,timeSeparator:":",periodSeparator:" ",showPeriod:!1,showPeriodLabels:!0,showLeadingZero:!0,showMinutesLeadingZero:!0,altField:"",defaultTime:"now",myPosition:"left top",atPosition:"left bottom",onHourShow:null,onMinuteShow:null,hours:{starts:0,ends:23},minutes:{starts:0,ends:55,interval:5},rows:4,showHours:!0,showMinutes:!0,optionalMinutes:!1,showCloseButton:!1,showNowButton:!1,showDeselectButton:!1};n.extend(this._defaults,this.regional[""]);this.tpDiv=n('<div id="'+this._mainDivId+'" class="ui-timepicker ui-widget ui-helper-clearfix ui-corner-all " style="display: none"><\/div>')}function i(t,i){n.extend(t,i);for(var r in i)(i[r]==null||i[r]==undefined)&&(t[r]=i[r]);return t}n.extend(n.ui,{timepicker:{version:"0.3.2"}});var t="timepicker",u=(new Date).getTime();n.extend(r.prototype,{markerClassName:"hasTimepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetTimepicker:function(){return this.tpDiv},setDefaults:function(n){return i(this._defaults,n||{}),this},_attachTimepicker:function(target,settings){var inlineSettings=null,attrName,attrValue,nodeName,inline,inst;for(attrName in this._defaults)if(attrValue=target.getAttribute("time:"+attrName),attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}nodeName=target.nodeName.toLowerCase();inline=nodeName=="div"||nodeName=="span";target.id||(this.uuid+=1,target.id="tp"+this.uuid);inst=this._newInst(n(target),inline);inst.settings=n.extend({},settings||{},inlineSettings||{});nodeName=="input"?(this._connectTimepicker(target,inst),this._setTimeFromField(inst)):inline&&this._inlineTimepicker(target,inst)},_newInst:function(t,i){var r=t[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1");return{id:r,input:t,inline:i,tpDiv:i?n('<div class="'+this._inlineClass+' ui-timepicker ui-widget  ui-helper-clearfix"><\/div>'):this.tpDiv}},_connectTimepicker:function(i,r){var u=n(i);(r.append=n([]),r.trigger=n([]),u.hasClass(this.markerClassName))||(this._attachments(u,r),u.addClass(this.markerClassName).keydown(this._doKeyDown).keyup(this._doKeyUp).bind("setData.timepicker",function(n,t,i){r.settings[t]=i}).bind("getData.timepicker",function(n,t){return this._get(r,t)}),n.data(i,t,r))},_doKeyDown:function(t){var r=n.timepicker._getInst(t.target),i=!0;if(r._keyEvent=!0,n.timepicker._timepickerShowing)switch(t.keyCode){case 9:n.timepicker._hideTimepicker();i=!1;break;case 13:return n.timepicker._updateSelectedValue(r),n.timepicker._hideTimepicker(),!1;case 27:n.timepicker._hideTimepicker();break;default:i=!1}else t.keyCode==36&&t.ctrlKey?n.timepicker._showTimepicker(this):i=!1;i&&(t.preventDefault(),t.stopPropagation())},_doKeyUp:function(t){var i=n.timepicker._getInst(t.target);n.timepicker._setTimeFromField(i);n.timepicker._updateTimepicker(i)},_attachments:function(t,i){var u=this._get(i,"appendText"),e=this._get(i,"isRTL"),r,f;i.append&&i.append.remove();u&&(i.append=n('<span class="'+this._appendClass+'">'+u+"<\/span>"),t[e?"before":"after"](i.append));t.unbind("focus.timepicker",this._showTimepicker);t.unbind("click.timepicker",this._adjustZIndex);i.trigger&&i.trigger.remove();r=this._get(i,"showOn");(r=="focus"||r=="both")&&(t.bind("focus.timepicker",this._showTimepicker),t.bind("click.timepicker",this._adjustZIndex));(r=="button"||r=="both")&&(f=this._get(i,"button"),n(f).bind("click.timepicker",function(){return n.timepicker._timepickerShowing&&n.timepicker._lastInput==t[0]?n.timepicker._hideTimepicker():i.input.is(":disabled")||n.timepicker._showTimepicker(t[0]),!1}))},_inlineTimepicker:function(i,r){var u=n(i);u.hasClass(this.markerClassName)||(u.addClass(this.markerClassName).append(r.tpDiv).bind("setData.timepicker",function(n,t,i){r.settings[t]=i}).bind("getData.timepicker",function(n,t){return this._get(r,t)}),n.data(i,t,r),this._setTimeFromField(r),this._updateTimepicker(r),r.tpDiv.show())},_adjustZIndex:function(t){t=t.target||t;var i=n.timepicker._getInst(t);i.tpDiv.css("zIndex",n.timepicker._getZIndex(t)+1)},_showTimepicker:function(t){var r,o,f,u;if((t=t.target||t,t.nodeName.toLowerCase()!="input"&&(t=n("input",t.parentNode)[0]),!n.timepicker._isDisabledTimepicker(t)&&n.timepicker._lastInput!=t)&&(n.timepicker._hideTimepicker(),r=n.timepicker._getInst(t),n.timepicker._curInst&&n.timepicker._curInst!=r&&n.timepicker._curInst.tpDiv.stop(!0,!0),o=n.timepicker._get(r,"beforeShow"),i(r.settings,o?o.apply(t,[t,r]):{}),r.lastVal=null,n.timepicker._lastInput=t,n.timepicker._setTimeFromField(r),n.timepicker._inDialog&&(t.value=""),n.timepicker._pos||(n.timepicker._pos=n.timepicker._findPos(t),n.timepicker._pos[1]+=t.offsetHeight),f=!1,n(t).parents().each(function(){return f|=n(this).css("position")=="fixed",!f}),u={left:n.timepicker._pos[0],top:n.timepicker._pos[1]},n.timepicker._pos=null,r.tpDiv.css({position:"absolute",display:"block",top:"-1000px"}),n.timepicker._updateTimepicker(r),r.inline||typeof n.ui.position!="object"||(r.tpDiv.position({of:r.input,my:n.timepicker._get(r,"myPosition"),at:n.timepicker._get(r,"atPosition"),collision:"flip"}),u=r.tpDiv.offset(),n.timepicker._pos=[u.top,u.left]),r._hoursClicked=!1,r._minutesClicked=!1,u=n.timepicker._checkOffset(r,u,f),r.tpDiv.css({position:n.timepicker._inDialog&&n.blockUI?"static":f?"fixed":"absolute",display:"none",left:u.left+"px",top:u.top+"px"}),!r.inline)){var e=n.timepicker._get(r,"showAnim"),s=n.timepicker._get(r,"duration"),h=function(){n.timepicker._timepickerShowing=!0;var t=n.timepicker._getBorders(r.tpDiv);r.tpDiv.find("iframe.ui-timepicker-cover").css({left:-t[0],top:-t[1],width:r.tpDiv.outerWidth(),height:r.tpDiv.outerHeight()})};n.timepicker._adjustZIndex(t);n.effects&&n.effects[e]?r.tpDiv.show(e,n.timepicker._get(r,"showOptions"),s,h):r.tpDiv.show(e?s:null,h);e&&s||h();r.input.is(":visible")&&!r.input.is(":disabled")&&r.input.focus();n.timepicker._curInst=r}},_getZIndex:function(t){for(var i=n(t),f=0,u,r;i.length&&i[0]!==document;)u=i.css("position"),(u==="absolute"||u==="relative"||u==="fixed")&&(r=parseInt(i.css("zIndex"),10),isNaN(r)||r===0||r>f&&(f=r)),i=i.parent();return f},_refreshTimepicker:function(n){var t=this._getInst(n);t&&this._updateTimepicker(t)},_updateTimepicker:function(n){n.tpDiv.empty().append(this._generateHTML(n));this._rebindDialogEvents(n)},_rebindDialogEvents:function(t){var i=n.timepicker._getBorders(t.tpDiv),r=this;t.tpDiv.find("iframe.ui-timepicker-cover").css({left:-i[0],top:-i[1],width:t.tpDiv.outerWidth(),height:t.tpDiv.outerHeight()}).end().find(".ui-timepicker-minute-cell").unbind().bind("click",{fromDoubleClick:!1},n.proxy(n.timepicker.selectMinutes,this)).bind("dblclick",{fromDoubleClick:!0},n.proxy(n.timepicker.selectMinutes,this)).end().find(".ui-timepicker-hour-cell").unbind().bind("click",{fromDoubleClick:!1},n.proxy(n.timepicker.selectHours,this)).bind("dblclick",{fromDoubleClick:!0},n.proxy(n.timepicker.selectHours,this)).end().find(".ui-timepicker td a").unbind().bind("mouseout",function(){n(this).removeClass("ui-state-hover");this.className.indexOf("ui-timepicker-prev")!=-1&&n(this).removeClass("ui-timepicker-prev-hover");this.className.indexOf("ui-timepicker-next")!=-1&&n(this).removeClass("ui-timepicker-next-hover")}).bind("mouseover",function(){r._isDisabledTimepicker(t.inline?t.tpDiv.parent()[0]:t.input[0])||(n(this).parents(".ui-timepicker-calendar").find("a").removeClass("ui-state-hover"),n(this).addClass("ui-state-hover"),this.className.indexOf("ui-timepicker-prev")!=-1&&n(this).addClass("ui-timepicker-prev-hover"),this.className.indexOf("ui-timepicker-next")!=-1&&n(this).addClass("ui-timepicker-next-hover"))}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end().find(".ui-timepicker-now").bind("click",function(t){n.timepicker.selectNow(t)}).end().find(".ui-timepicker-deselect").bind("click",function(t){n.timepicker.deselectTime(t)}).end().find(".ui-timepicker-close").bind("click",function(){n.timepicker._hideTimepicker()}).end()},_generateHTML:function(n){for(var e,v,t,w=this._get(n,"showPeriod")==!0,a=this._get(n,"showPeriodLabels")==!0,b=this._get(n,"showLeadingZero")==!0,rt=this._get(n,"showHours")==!0,ut=this._get(n,"showMinutes")==!0,k=this._get(n,"amPmText"),h=this._get(n,"rows"),i=0,r=0,o=0,s=0,d=0,y=0,u=Array(),g=this._get(n,"hours"),p=null,f=0,ft=this._get(n,"hourText"),nt=this._get(n,"showCloseButton"),et=this._get(n,"closeButtonText"),tt=this._get(n,"showNowButton"),ot=this._get(n,"nowButtonText"),it=this._get(n,"showDeselectButton"),st=this._get(n,"deselectButtonText"),ht=nt||tt||it,c,l=g.starts;l<=g.ends;l++)u.push(l);if(p=Math.ceil(u.length/h),a){for(f=0;f<u.length;f++)u[f]<12?o++:s++;f=0;i=Math.floor(o/u.length*h);r=Math.floor(s/u.length*h);h!=i+r&&(o&&(!s||!i||r&&o/i>=s/r)?i++:r++);d=Math.min(i,1);y=i+1;p=i==0?Math.ceil(s/r):r==0?Math.ceil(o/i):Math.ceil(Math.max(o/i,s/r))}if(t='<table class="ui-timepicker-table ui-widget-content ui-corner-all"><tr>',rt){for(t+='<td class="ui-timepicker-hours"><div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+ft+'<\/div><table class="ui-timepicker">',e=1;e<=h;e++){for(t+="<tr>",e==d&&a&&(t+='<th rowspan="'+i.toString()+'" class="periods" scope="row">'+k[0]+"<\/th>"),e==y&&a&&(t+='<th rowspan="'+r.toString()+'" class="periods" scope="row">'+k[1]+"<\/th>"),v=1;v<=p;v++)a&&e<y&&u[f]>=12?t+=this._generateHTMLHourCell(n,undefined,w,b):(t+=this._generateHTMLHourCell(n,u[f],w,b),f++);t+="<\/tr>"}t+="<\/table><\/td>"}return ut&&(t+='<td class="ui-timepicker-minutes">',t+=this._generateHTMLMinutes(n),t+="<\/td>"),t+="<\/tr>",ht&&(c='<tr><td colspan="3"><div class="ui-timepicker-buttonpane ui-widget-content">',tt&&(c+='<button type="button" class="ui-timepicker-now ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" >'+ot+"<\/button>"),it&&(c+='<button type="button" class="ui-timepicker-deselect ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" >'+st+"<\/button>"),nt&&(c+='<button type="button" class="ui-timepicker-close ui-state-default ui-corner-all"  data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" >'+et+"<\/button>"),t+=c+"<\/div><\/td><\/tr>"),t+"<\/table>"},_updateMinuteDisplay:function(n){var t=this._generateHTMLMinutes(n);n.tpDiv.find("td.ui-timepicker-minutes").html(t);this._rebindDialogEvents(n)},_generateHTMLMinutes:function(n){var e,u="",h=this._get(n,"rows"),f=Array(),r=this._get(n,"minutes"),c=null,i=0,l=this._get(n,"showMinutesLeadingZero")==!0,o=this._get(n,"onMinuteShow"),a=this._get(n,"minuteText"),t,s;for(r.starts||(r.starts=0),r.ends||(r.ends=59),t=r.starts;t<=r.ends;t+=r.interval)f.push(t);if(c=Math.round(f.length/h+.49),o&&o.apply(n.input?n.input[0]:null,[n.hours,n.minutes])==!1)for(i=0;i<f.length;i+=1)if(t=f[i],o.apply(n.input?n.input[0]:null,[n.hours,t])){n.minutes=t;break}for(u+='<div class="ui-timepicker-title ui-widget-header ui-helper-clearfix ui-corner-all">'+a+'<\/div><table class="ui-timepicker">',i=0,e=1;e<=h;e++){for(u+="<tr>";i<e*c;)t=f[i],s="",t!==undefined&&(s=t<10&&l?"0"+t.toString():t.toString()),u+=this._generateHTMLMinuteCell(n,t,s),i++;u+="<\/tr>"}return u+"<\/table>"},_generateHTMLHourCell:function(n,t,i,r){var u=t;t>12&&i&&(u=t-12);u==0&&i&&(u=12);u<10&&r&&(u="0"+u);var f=!0,e=this._get(n,"onHourShow");return t==undefined?'<td><span class="ui-state-default ui-state-disabled">&nbsp;<\/span><\/td>':(e&&(f=e.apply(n.input?n.input[0]:null,[t])),f?'<td class="ui-timepicker-hour-cell" data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" data-hour="'+t.toString()+'"><a class="ui-state-default '+(t==n.hours?"ui-state-active":"")+'">'+u.toString()+"<\/a><\/td>":'<td><span class="ui-state-default ui-state-disabled '+(t==n.hours?" ui-state-active ":" ")+'">'+u.toString()+"<\/span><\/td>")},_generateHTMLMinuteCell:function(n,t,i){var r=!0,u=this._get(n,"onMinuteShow");return(u&&(r=u.apply(n.input?n.input[0]:null,[n.hours,t])),t==undefined)?'<td><span class="ui-state-default ui-state-disabled">&nbsp;<\/span><\/td>':r?'<td class="ui-timepicker-minute-cell" data-timepicker-instance-id="#'+n.id.replace(/\\\\/g,"\\")+'" data-minute="'+t.toString()+'" ><a class="ui-state-default '+(t==n.minutes?"ui-state-active":"")+'" >'+i+"<\/a><\/td>":'<td><span class="ui-state-default ui-state-disabled" >'+i+"<\/span><\/td>"},_destroyTimepicker:function(i){var u=n(i),f=n.data(i,t),r;u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),n.removeData(i,t),r=="input"?(f.append.remove(),f.trigger.remove(),u.removeClass(this.markerClassName).unbind("focus.timepicker",this._showTimepicker).unbind("click.timepicker",this._adjustZIndex)):(r=="div"||r=="span")&&u.removeClass(this.markerClassName).empty())},_enableTimepicker:function(i){var u=n(i),s=u.attr("id"),e=n.data(i,t),r,o,f;u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),r=="input"?(i.disabled=!1,o=this._get(e,"button"),n(o).removeClass("ui-state-disabled").disabled=!1,e.trigger.filter("button").each(function(){this.disabled=!1}).end()):(r=="div"||r=="span")&&(f=u.children("."+this._inlineClass),f.children().removeClass("ui-state-disabled"),f.find("button").each(function(){this.disabled=!1})),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==s?null:n}))},_disableTimepicker:function(i){var u=n(i),e=n.data(i,t),r,o,f;u.hasClass(this.markerClassName)&&(r=i.nodeName.toLowerCase(),r=="input"?(o=this._get(e,"button"),n(o).addClass("ui-state-disabled").disabled=!0,i.disabled=!0,e.trigger.filter("button").each(function(){this.disabled=!0}).end()):(r=="div"||r=="span")&&(f=u.children("."+this._inlineClass),f.children().addClass("ui-state-disabled"),f.find("button").each(function(){this.disabled=!0})),this._disabledInputs=n.map(this._disabledInputs,function(n){return n==i?null:n}),this._disabledInputs[this._disabledInputs.length]=u.attr("id"))},_isDisabledTimepicker:function(n){if(!n)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]==n)return!0;return!1},_checkOffset:function(t,i,r){var u=t.tpDiv.outerWidth(),f=t.tpDiv.outerHeight(),h=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,e=document.documentElement.clientWidth+n(document).scrollLeft(),s=document.documentElement.clientHeight+n(document).scrollTop();return i.left-=this._get(t,"isRTL")?u-h:0,i.left-=r&&i.left==t.input.offset().left?n(document).scrollLeft():0,i.top-=r&&i.top==t.input.offset().top+o?n(document).scrollTop():0,i.left-=Math.min(i.left,i.left+u>e&&e>u?Math.abs(i.left+u-e):0),i.top-=Math.min(i.top,i.top+f>s&&s>f?Math.abs(f+o):0),i},_findPos:function(t){for(var r=this._getInst(t),u=this._get(r,"isRTL"),i;t&&(t.type=="hidden"||t.nodeType!=1);)t=t[u?"previousSibling":"nextSibling"];return i=n(t).offset(),[i.left,i.top]},_getBorders:function(n){var t=function(n){return{thin:1,medium:2,thick:3}[n]||n};return[parseFloat(t(n.css("border-left-width"))),parseFloat(t(n.css("border-top-width")))]},_checkExternalClick:function(t){if(n.timepicker._curInst){var i=n(t.target);i[0].id==n.timepicker._mainDivId||i.parents("#"+n.timepicker._mainDivId).length!=0||i.hasClass(n.timepicker.markerClassName)||i.hasClass(n.timepicker._triggerClass)||!n.timepicker._timepickerShowing||n.timepicker._inDialog&&n.blockUI||n.timepicker._hideTimepicker()}},_hideTimepicker:function(i){var r=this._curInst,e;if(r&&(!i||r==n.data(i,t))&&this._timepickerShowing){var u=this._get(r,"showAnim"),o=this._get(r,"duration"),f=function(){n.timepicker._tidyDialog(r);this._curInst=null};n.effects&&n.effects[u]?r.tpDiv.hide(u,n.timepicker._get(r,"showOptions"),o,f):r.tpDiv[u=="slideDown"?"slideUp":u=="fadeIn"?"fadeOut":"hide"](u?o:null,f);u||f();this._timepickerShowing=!1;this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),n.blockUI&&(n.unblockUI(),n("body").append(this.tpDiv)));this._inDialog=!1;e=this._get(r,"onClose");e&&e.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r])}},_tidyDialog:function(n){n.tpDiv.removeClass(this._dialogClass).unbind(".ui-timepicker")},_getInst:function(i){try{return n.data(i,t)}catch(r){throw"Missing instance data for this timepicker";}},_get:function(n,t){return n.settings[t]!==undefined?n.settings[t]:this._defaults[t]},_setTimeFromField:function(t){var r,i,f,u;t.input.val()!=t.lastVal&&(r=this._get(t,"defaultTime"),i=r=="now"?this._getCurrentTimeRounded(t):r,t.inline==!1&&t.input.val()!=""&&(i=t.input.val()),i instanceof Date?(t.hours=i.getHours(),t.minutes=i.getMinutes()):(f=t.lastVal=i,i==""?(t.hours=-1,t.minutes=-1):(u=this.parseTime(t,f),t.hours=u.hours,t.minutes=u.minutes)),n.timepicker._updateTimepicker(t))},_optionTimepicker:function(t,r,u){var f=this._getInst(t),e;if(arguments.length==2&&typeof r=="string")return r=="defaults"?n.extend({},n.timepicker._defaults):f?r=="all"?n.extend({},f.settings):this._get(f,r):null;e=r||{};typeof r=="string"&&(e={},e[r]=u);f&&(this._curInst==f&&this._hideTimepicker(),i(f.settings,e),this._updateTimepicker(f))},_setTimeTimepicker:function(n,t){var i=this._getInst(n);i&&(this._setTime(i,t),this._updateTimepicker(i),this._updateAlternate(i,t))},_setTime:function(n,t,i){var r=n.hours,u=n.minutes,t;t instanceof Date?(n.hours=t.getHours(),n.minutes=t.getMinutes()):(t=this.parseTime(n,t),n.hours=t.hours,n.minutes=t.minutes);r==n.hours&&u==n.minutes||i||n.input.trigger("change");this._updateTimepicker(n);this._updateSelectedValue(n)},_getCurrentTimeRounded:function(){var n=new Date,t=n.getMinutes(),i=Math.round(t/5)*5;return n.setMinutes(i),n},parseTime:function(n,t){var i={},f;if(i.hours=-1,i.minutes=-1,!t)return"";var h=this._get(n,"timeSeparator"),e=this._get(n,"amPmText"),r=this._get(n,"showHours"),o=this._get(n,"showMinutes"),c=this._get(n,"optionalMinutes"),s=this._get(n,"showPeriod")==!0,u=t.indexOf(h);return u!=-1?(i.hours=parseInt(t.substr(0,u),10),i.minutes=parseInt(t.substr(u+1),10)):r&&(!o||c)?i.hours=parseInt(t,10):!r&&o&&(i.minutes=parseInt(t,10)),r&&(f=t.toUpperCase(),i.hours<12&&s&&f.indexOf(e[1].toUpperCase())!=-1&&(i.hours+=12),i.hours==12&&s&&f.indexOf(e[0].toUpperCase())!=-1&&(i.hours=0)),i},selectNow:function(t){var u=n(t.target).attr("data-timepicker-instance-id"),f=n(u),i=this._getInst(f[0]),r=new Date;i.hours=r.getHours();i.minutes=r.getMinutes();this._updateSelectedValue(i);this._updateTimepicker(i);this._hideTimepicker()},deselectTime:function(t){var r=n(t.target).attr("data-timepicker-instance-id"),u=n(r),i=this._getInst(u[0]);i.hours=-1;i.minutes=-1;this._updateSelectedValue(i);this._hideTimepicker()},selectHours:function(t){var r=n(t.currentTarget),e=r.attr("data-timepicker-instance-id"),o=parseInt(r.attr("data-hour")),s=t.data.fromDoubleClick,u=n(e),i=this._getInst(u[0]),h=this._get(i,"showMinutes")==!0,f;return n.timepicker._isDisabledTimepicker(u.attr("id"))?!1:(r.parents(".ui-timepicker-hours:first").find("a").removeClass("ui-state-active"),r.children("a").addClass("ui-state-active"),i.hours=o,f=this._get(i,"onMinuteShow"),f&&this._updateMinuteDisplay(i),this._updateSelectedValue(i),i._hoursClicked=!0,(i._minutesClicked||s||h==!1)&&n.timepicker._hideTimepicker(),!1)},selectMinutes:function(t){var r=n(t.currentTarget),f=r.attr("data-timepicker-instance-id"),e=parseInt(r.attr("data-minute")),o=t.data.fromDoubleClick,u=n(f),i=this._getInst(u[0]),s=this._get(i,"showHours")==!0;return n.timepicker._isDisabledTimepicker(u.attr("id"))?!1:(r.parents(".ui-timepicker-minutes:first").find("a").removeClass("ui-state-active"),r.children("a").addClass("ui-state-active"),i.minutes=e,this._updateSelectedValue(i),i._minutesClicked=!0,i._hoursClicked||o||s==!1)?(n.timepicker._hideTimepicker(),!1):!1},_updateSelectedValue:function(n){var t=this._getParsedTime(n),i;return n.input&&(n.input.val(t),n.input.trigger("change")),i=this._get(n,"onSelect"),i&&i.apply(n.input?n.input[0]:null,[t,n]),this._updateAlternate(n,t),t},_getParsedTime:function(n){var e,i;if(n.hours==-1&&n.minutes==-1)return"";(n.hours<n.hours.starts||n.hours>n.hours.ends)&&(n.hours=0);(n.minutes<n.minutes.starts||n.minutes>n.minutes.ends)&&(n.minutes=0);var u="",a=this._get(n,"showPeriod")==!0,v=this._get(n,"showLeadingZero")==!0,o=this._get(n,"showHours")==!0,s=this._get(n,"showMinutes")==!0,h=this._get(n,"optionalMinutes")==!0,c=this._get(n,"amPmText"),l=n.hours?n.hours:0,f=n.minutes?n.minutes:0,t=l?l:0,r="";return t==-1&&(t=0),f==-1&&(f=0),a&&(n.hours==0&&(t=12),n.hours<12?u=c[0]:(u=c[1],t>12&&(t-=12))),e=t.toString(),v&&t<10&&(e="0"+e),i=f.toString(),f<10&&(i="0"+i),o&&(r+=e),o&&s&&(!h||i!=0)&&(r+=this._get(n,"timeSeparator")),s&&(!h||i!=0)&&(r+=i),o&&u.length>0&&(r+=this._get(n,"periodSeparator")+u),r},_updateAlternate:function(t,i){var r=this._get(t,"altField");r&&n(r).each(function(t,r){n(r).val(i)})},_getTimeAsDateTimepicker:function(n){var t=this._getInst(n);return t.hours==-1&&t.minutes==-1?"":((t.hours<t.hours.starts||t.hours>t.hours.ends)&&(t.hours=0),(t.minutes<t.minutes.starts||t.minutes>t.minutes.ends)&&(t.minutes=0),new Date(0,0,0,t.hours,t.minutes,0))},_getTimeTimepicker:function(n){var t=this._getInst(n);return this._getParsedTime(t)},_getHourTimepicker:function(n){var t=this._getInst(n);return t==undefined?-1:t.hours},_getMinuteTimepicker:function(n){var t=this._getInst(n);return t==undefined?-1:t.minutes}});n.fn.timepicker=function(t){n.timepicker.initialized||(n(document).mousedown(n.timepicker._checkExternalClick).find("body").append(n.timepicker.tpDiv),n.timepicker.initialized=!0);var i=Array.prototype.slice.call(arguments,1);return typeof t=="string"&&(t=="getTime"||t=="getTimeAsDate"||t=="getHour"||t=="getMinute")?n.timepicker["_"+t+"Timepicker"].apply(n.timepicker,[this[0]].concat(i)):t=="option"&&arguments.length==2&&typeof arguments[1]=="string"?n.timepicker["_"+t+"Timepicker"].apply(n.timepicker,[this[0]].concat(i)):this.each(function(){typeof t=="string"?n.timepicker["_"+t+"Timepicker"].apply(n.timepicker,[this].concat(i)):n.timepicker._attachTimepicker(this,t)})};n.timepicker=new r;n.timepicker.initialized=!1;n.timepicker.uuid=(new Date).getTime();n.timepicker.version="0.3.2";window["TP_jQuery_"+u]=n})(jQuery),function(n){var u,i,f,t=n(window),s={jqueryui:{container:"ui-widget ui-widget-content ui-corner-all",notice:"ui-state-highlight",notice_icon:"ui-icon ui-icon-info",info:"",info_icon:"ui-icon ui-icon-info",success:"ui-state-default",success_icon:"ui-icon ui-icon-circle-check",error:"ui-state-error",error_icon:"ui-icon ui-icon-alert",closer:"ui-icon ui-icon-close",pin_up:"ui-icon ui-icon-pin-w",pin_down:"ui-icon ui-icon-pin-s",hi_menu:"ui-state-default ui-corner-bottom",hi_btn:"ui-state-default ui-corner-all",hi_btnhov:"ui-state-hover",hi_hnd:"ui-icon ui-icon-grip-dotted-horizontal"},bootstrap:{container:"alert",notice:"",notice_icon:"fa-exclamation",info:"alert-info",info_icon:"fa fa-info",success:"alert-success",success_icon:"fa fa-check",error:"alert-danger",error_icon:"fa fa-exclamation-triangle",closer:"fa fa-times",pin_up:"fa fa-pause",pin_down:"fa fa-play",hi_menu:"well",hi_btn:"btn",hi_btnhov:"",hi_hnd:"fa fa-chevron-down"}},e=function(){f=n("body");t=n(window);t.bind("resize",function(){i&&clearTimeout(i);i=setTimeout(n.pnotify_position_all,10)})};document.body?e():n(e);n.extend({pnotify_remove_all:function(){var i=t.data("pnotify");i&&i.length&&n.each(i,function(){this.pnotify_remove&&this.pnotify_remove()})},pnotify_position_all:function(){i&&clearTimeout(i);i=null;var r=t.data("pnotify");r&&r.length&&(n.each(r,function(){var n=this.opts.stack;n&&(n.nextpos1=n.firstpos1,n.nextpos2=n.firstpos2,n.addpos2=0,n.animation=!0)}),n.each(r,function(){this.pnotify_position()}))},pnotify:function(e){var y,o,p,l,a,b;typeof e!="object"?(o=n.extend({},n.pnotify.defaults),o.text=e):o=n.extend({},n.pnotify.defaults,e);for(p in o)typeof p=="string"&&p.match(/^pnotify_/)&&(o[p.replace(/^pnotify_/,"")]=o[p]);if(o.before_init&&o.before_init(o)===!1)return null;var v,w=function(t,i){var u,f,e;h.css("display","none");u=document.elementFromPoint(t.clientX,t.clientY);h.css("display","block");f=n(u);e=f.css("cursor");h.css("cursor",e!="auto"?e:"default");v&&v.get(0)==u||(v&&(r.call(v.get(0),"mouseleave",t.originalEvent),r.call(v.get(0),"mouseout",t.originalEvent)),r.call(u,"mouseenter",t.originalEvent),r.call(u,"mouseover",t.originalEvent));r.call(u,i,t.originalEvent);v=f},c=s[o.styling],h=n("<div />",{"class":"ui-pnotify "+o.addclass,css:{display:"none"},mouseenter:function(n){o.nonblock&&n.stopPropagation();o.mouse_reset&&y=="out"&&(h.stop(!0),y="in",h.css("height","auto").animate({width:o.width,opacity:o.nonblock?o.nonblock_opacity:o.opacity},"fast"));o.nonblock&&h.animate({opacity:o.nonblock_opacity},"fast");o.hide&&o.mouse_reset&&h.pnotify_cancel_remove();o.sticker&&!o.nonblock&&h.sticker.trigger("pnotify_icon").css("visibility","visible");o.closer&&!o.nonblock&&h.closer.css("visibility","visible")},mouseleave:function(t){o.nonblock&&t.stopPropagation();v=null;h.css("cursor","auto");o.nonblock&&y!="out"&&h.animate({opacity:o.opacity},"fast");o.hide&&o.mouse_reset&&h.pnotify_queue_remove();o.sticker_hover&&h.sticker.css("visibility","hidden");o.closer_hover&&h.closer.css("visibility","hidden");n.pnotify_position_all()},mouseover:function(n){o.nonblock&&n.stopPropagation()},mouseout:function(n){o.nonblock&&n.stopPropagation()},mousemove:function(n){o.nonblock&&(n.stopPropagation(),w(n,"onmousemove"))},mousedown:function(n){o.nonblock&&(n.stopPropagation(),n.preventDefault(),w(n,"onmousedown"))},mouseup:function(n){o.nonblock&&(n.stopPropagation(),n.preventDefault(),w(n,"onmouseup"))},click:function(n){o.nonblock&&(n.stopPropagation(),w(n,"onclick"))},dblclick:function(n){o.nonblock&&(n.stopPropagation(),w(n,"ondblclick"))}});return h.opts=o,h.container=n("<div />",{"class":c.container+" ui-pnotify-container "+(o.type=="error"?c.error:o.type=="info"?c.info:o.type=="success"?c.success:c.notice)}).appendTo(h),o.cornerclass!=""&&h.container.removeClass("ui-corner-all").addClass(o.cornerclass),o.shadow&&h.container.addClass("ui-pnotify-shadow"),h.pnotify_version="1.2.0",h.pnotify=function(t){var i=o,r;typeof t=="string"?o.text=t:o=n.extend({},o,t);for(r in o)typeof r=="string"&&r.match(/^pnotify_/)&&(o[r.replace(/^pnotify_/,"")]=o[r]);return h.opts=o,o.cornerclass!=i.cornerclass&&h.container.removeClass("ui-corner-all").addClass(o.cornerclass),o.shadow!=i.shadow&&(o.shadow?h.container.addClass("ui-pnotify-shadow"):h.container.removeClass("ui-pnotify-shadow")),o.addclass===!1?h.removeClass(i.addclass):o.addclass!==i.addclass&&h.removeClass(i.addclass).addClass(o.addclass),o.title===!1?h.title_container.slideUp("fast"):o.title!==i.title&&(o.title_escape?h.title_container.text(o.title).slideDown(200):h.title_container.html(o.title).slideDown(200)),o.text===!1?h.text_container.slideUp("fast"):o.text!==i.text&&(o.text_escape?h.text_container.text(o.text).slideDown(200):h.text_container.html(o.insert_brs?String(o.text).replace(/\n/g,"<br />"):o.text).slideDown(200)),h.pnotify_history=o.history,h.pnotify_hide=o.hide,o.type!=i.type&&h.container.removeClass(c.error+" "+c.notice+" "+c.success+" "+c.info).addClass(o.type=="error"?c.error:o.type=="info"?c.info:o.type=="success"?c.success:c.notice),(o.icon!==i.icon||o.icon===!0&&o.type!=i.type)&&(h.container.find("div.ui-pnotify-icon").remove(),o.icon!==!1&&n("<div />",{"class":"ui-pnotify-icon"}).append(n("<span />",{"class":o.icon===!0?o.type=="error"?c.error_icon:o.type=="info"?c.info_icon:o.type=="success"?c.success_icon:c.notice_icon:o.icon})).prependTo(h.container)),o.width!==i.width&&h.animate({width:o.width}),o.min_height!==i.min_height&&h.container.animate({minHeight:o.min_height}),o.opacity!==i.opacity&&h.fadeTo(o.animate_speed,o.opacity),!o.closer||o.nonblock?h.closer.css("display","none"):h.closer.css("display","block"),!o.sticker||o.nonblock?h.sticker.css("display","none"):h.sticker.css("display","block"),h.sticker.trigger("pnotify_icon"),o.sticker_hover?h.sticker.css("visibility","hidden"):o.nonblock||h.sticker.css("visibility","visible"),o.closer_hover?h.closer.css("visibility","hidden"):o.nonblock||h.closer.css("visibility","visible"),o.hide?i.hide||h.pnotify_queue_remove():h.pnotify_cancel_remove(),h.pnotify_queue_position(),h},h.pnotify_position=function(n){var i=h.opts.stack,s,e,o,r,u,f;if(i&&(i.nextpos1||(i.nextpos1=i.firstpos1),i.nextpos2||(i.nextpos2=i.firstpos2),i.addpos2||(i.addpos2=0),s=h.css("display")=="none",!s||n)){r={};switch(i.dir1){case"down":u="top";break;case"up":u="bottom";break;case"left":u="right";break;case"right":u="left"}e=parseInt(h.css(u));isNaN(e)&&(e=0);typeof i.firstpos1!="undefined"||s||(i.firstpos1=e,i.nextpos1=i.firstpos1);switch(i.dir2){case"down":f="top";break;case"up":f="bottom";break;case"left":f="right";break;case"right":f="left"}if(o=parseInt(h.css(f)),isNaN(o)&&(o=0),typeof i.firstpos2!="undefined"||s||(i.firstpos2=o,i.nextpos2=i.firstpos2),(i.dir1=="down"&&i.nextpos1+h.height()>t.height()||i.dir1=="up"&&i.nextpos1+h.height()>t.height()||i.dir1=="left"&&i.nextpos1+h.width()>t.width()||i.dir1=="right"&&i.nextpos1+h.width()>t.width())&&(i.nextpos1=i.firstpos1,i.nextpos2+=i.addpos2+(typeof i.spacing2=="undefined"?25:i.spacing2),i.addpos2=0),i.animation&&i.nextpos2<o)switch(i.dir2){case"down":r.top=i.nextpos2+"px";break;case"up":r.bottom=i.nextpos2+"px";break;case"left":r.right=i.nextpos2+"px";break;case"right":r.left=i.nextpos2+"px"}else h.css(f,i.nextpos2+"px");switch(i.dir2){case"down":case"up":h.outerHeight(!0)>i.addpos2&&(i.addpos2=h.height());break;case"left":case"right":h.outerWidth(!0)>i.addpos2&&(i.addpos2=h.width())}if(i.nextpos1)if(i.animation&&(e>i.nextpos1||r.top||r.bottom||r.right||r.left))switch(i.dir1){case"down":r.top=i.nextpos1+"px";break;case"up":r.bottom=i.nextpos1+"px";break;case"left":r.right=i.nextpos1+"px";break;case"right":r.left=i.nextpos1+"px"}else h.css(u,i.nextpos1+"px");(r.top||r.bottom||r.right||r.left)&&h.animate(r,{duration:500,queue:!1});switch(i.dir1){case"down":case"up":i.nextpos1+=h.height()+(typeof i.spacing1=="undefined"?25:i.spacing1);break;case"left":case"right":i.nextpos1+=h.width()+(typeof i.spacing1=="undefined"?25:i.spacing1)}}},h.pnotify_queue_position=function(t){i&&clearTimeout(i);t||(t=10);i=setTimeout(n.pnotify_position_all,t)},h.pnotify_display=function(){(h.parent().length||h.appendTo(f),o.before_open&&o.before_open(h)===!1)||(o.stack.push!="top"&&h.pnotify_position(!0),o.animation=="fade"||o.animation.effect_in=="fade"?h.show().fadeTo(0,0).hide():o.opacity!=1&&h.show().fadeTo(0,o.opacity).hide(),h.animate_in(function(){o.after_open&&o.after_open(h);h.pnotify_queue_position();o.hide&&h.pnotify_queue_remove()}))},h.pnotify_remove=function(){(h.timer&&(window.clearTimeout(h.timer),h.timer=null),o.before_close&&o.before_close(h)===!1)||h.animate_out(function(){o.after_close&&o.after_close(h)===!1||(h.pnotify_queue_position(),o.remove&&h.detach())})},h.animate_in=function(n){y="in";var t;t=typeof o.animation.effect_in!="undefined"?o.animation.effect_in:o.animation;t=="none"?(h.show(),n()):t=="show"?h.show(o.animate_speed,n):t=="fade"?h.show().fadeTo(o.animate_speed,o.opacity,n):t=="slide"?h.slideDown(o.animate_speed,n):typeof t=="function"?t("in",n,h):h.show(t,typeof o.animation.options_in=="object"?o.animation.options_in:{},o.animate_speed,n)},h.animate_out=function(n){y="out";var t;t=typeof o.animation.effect_out!="undefined"?o.animation.effect_out:o.animation;t=="none"?(h.hide(),n()):t=="show"?h.hide(o.animate_speed,n):t=="fade"?h.fadeOut(o.animate_speed,n):t=="slide"?h.slideUp(o.animate_speed,n):typeof t=="function"?t("out",n,h):h.hide(t,typeof o.animation.options_out=="object"?o.animation.options_out:{},o.animate_speed,n)},h.pnotify_cancel_remove=function(){h.timer&&window.clearTimeout(h.timer)},h.pnotify_queue_remove=function(){h.pnotify_cancel_remove();h.timer=window.setTimeout(function(){h.pnotify_remove()},isNaN(o.delay)?0:o.delay)},h.closer=n("<div />",{"class":"ui-pnotify-closer",css:{cursor:"pointer",visibility:o.closer_hover?"hidden":"visible"},click:function(){h.pnotify_remove();h.sticker.css("visibility","hidden");h.closer.css("visibility","hidden")}}).append(n("<span />",{"class":c.closer})).appendTo(h.container),(!o.closer||o.nonblock)&&h.closer.css("display","none"),h.sticker=n("<div />",{"class":"ui-pnotify-sticker",css:{cursor:"pointer",visibility:o.sticker_hover?"hidden":"visible"},click:function(){o.hide=!o.hide;o.hide?h.pnotify_queue_remove():h.pnotify_cancel_remove();n(this).trigger("pnotify_icon")}}).bind("pnotify_icon",function(){n(this).children().removeClass(c.pin_up+" "+c.pin_down).addClass(o.hide?c.pin_up:c.pin_down)}).append(n("<span />",{"class":c.pin_up})).appendTo(h.container),(!o.sticker||o.nonblock)&&h.sticker.css("display","none"),o.icon!==!1&&n("<div />",{"class":"ui-pnotify-icon"}).append(n("<span />",{"class":o.icon===!0?o.type=="error"?c.error_icon:o.type=="info"?c.info_icon:o.type=="success"?c.success_icon:c.notice_icon:o.icon})).prependTo(h.container),h.title_container=n("<h4 />",{"class":"ui-pnotify-title"}).appendTo(h.container),o.title===!1?h.title_container.hide():o.title_escape?h.title_container.text(o.title):h.title_container.html(o.title),h.text_container=n("<div />",{"class":"ui-pnotify-text"}).appendTo(h.container),o.text===!1?h.text_container.hide():o.text_escape?h.text_container.text(o.text):h.text_container.html(o.insert_brs?String(o.text).replace(/\n/g,"<br />"):o.text),typeof o.width=="string"&&h.css("width",o.width),typeof o.min_height=="string"&&h.container.css("min-height",o.min_height),h.pnotify_history=o.history,h.pnotify_hide=o.hide,l=t.data("pnotify"),(l==null||typeof l!="object")&&(l=[]),l=o.stack.push=="top"?n.merge([h],l):n.merge(l,[h]),t.data("pnotify",l),o.stack.push=="top"&&h.pnotify_queue_position(1),o.after_init&&o.after_init(h),o.history&&(a=t.data("pnotify_history"),typeof a=="undefined"&&(a=n("<div />",{"class":"ui-pnotify-history-container "+c.hi_menu,mouseleave:function(){a.animate({top:"-"+u+"px"},{duration:100,queue:!1})}}).append(n("<div />",{"class":"ui-pnotify-history-header",text:"Redisplay"})).append(n("<button />",{"class":"ui-pnotify-history-all "+c.hi_btn,text:"All",mouseenter:function(){n(this).addClass(c.hi_btnhov)},mouseleave:function(){n(this).removeClass(c.hi_btnhov)},click:function(){return n.each(l,function(){this.pnotify_history&&(this.is(":visible")?this.pnotify_hide&&this.pnotify_queue_remove():this.pnotify_display&&this.pnotify_display())}),!1}})).append(n("<button />",{"class":"ui-pnotify-history-last "+c.hi_btn,text:"Last",mouseenter:function(){n(this).addClass(c.hi_btnhov)},mouseleave:function(){n(this).removeClass(c.hi_btnhov)},click:function(){var t=-1,n;do{if(n=t==-1?l.slice(t):l.slice(t,t+1),!n[0])break;t--}while(!n[0].pnotify_history||n[0].is(":visible"));return n[0]?(n[0].pnotify_display&&n[0].pnotify_display(),!1):!1}})).appendTo(f),b=n("<span />",{"class":"ui-pnotify-history-pulldown "+c.hi_hnd,mouseenter:function(){a.animate({top:"0"},{duration:100,queue:!1})}}).appendTo(a),u=b.offset().top+2,a.css({top:"-"+u+"px"}),t.data("pnotify_history",a))),o.stack.animation=!1,h.pnotify_display(),h}});var o=/^on/,h=/^(dbl)?click$|^mouse(move|down|up|over|out|enter|leave)$|^contextmenu$/,c=/^(focus|blur|select|change|reset)$|^key(press|down|up)$/,l=/^(scroll|resize|(un)?load|abort|error)$/,r=function(t,i){var r;if(t=t.toLowerCase(),document.createEvent&&this.dispatchEvent){if(t=t.replace(o,""),t.match(h)?(n(this).offset(),r=document.createEvent("MouseEvents"),r.initMouseEvent(t,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget)):t.match(c)?(r=document.createEvent("UIEvents"),r.initUIEvent(t,i.bubbles,i.cancelable,i.view,i.detail)):t.match(l)&&(r=document.createEvent("HTMLEvents"),r.initEvent(t,i.bubbles,i.cancelable)),!r)return;this.dispatchEvent(r)}else t.match(o)||(t="on"+t),r=document.createEventObject(i),this.fireEvent(t,r)};n.pnotify.defaults={title:!1,title_escape:!1,text:!1,text_escape:!1,styling:"bootstrap",addclass:"",cornerclass:"",nonblock:!1,nonblock_opacity:.2,history:!0,width:"300px",min_height:"16px",type:"notice",icon:!0,animation:"fade",animate_speed:"slow",opacity:1,shadow:!0,closer:!0,closer_hover:!0,sticker:!0,sticker_hover:!0,hide:!0,delay:8e3,mouse_reset:!0,remove:!0,insert_brs:!0,stack:{dir1:"down",dir2:"left",push:"bottom",spacing1:25,spacing2:25}}}(jQuery),function(n){function t(t){if(typeof t.data=="string"&&(t.data={keys:t.data}),t.data&&t.data.keys&&typeof t.data.keys=="string"){var r=t.handler,i=t.data.keys.toLowerCase().split(" "),u=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(t){var s,c;if(this===t.target||!(/textarea|select/i.test(t.target.nodeName)||n.inArray(t.target.type,u)>-1)){var h=n.hotkeys.specialKeys[t.keyCode],o=String.fromCharCode(t.which).toLowerCase(),f="",e={};for(n.each(["alt","ctrl","meta","shift"],function(n,i){t[i+"Key"]&&h!==i&&(f+=i+"+")}),f=f.replace("alt+ctrl+meta+shift","hyper"),h&&(e[f+h]=!0),o&&(e[f+o]=!0,e[f+n.hotkeys.shiftNums[o]]=!0,f==="shift+"&&(e[n.hotkeys.shiftNums[o]]=!0)),s=0,c=i.length;s<c;s++)if(e[i[s]])return r.apply(this,arguments)}}}}n.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}};n.each(["keydown","keyup","keypress"],function(){n.event.special[this]={add:t}})}(this.jQuery),function(n){n.extend(n.fn,{swapClass:function(n,t){var i=this.filter("."+n);return this.filter("."+t).removeClass(t).addClass(n),i.removeClass(n).addClass(t),this},replaceClass:function(n,t){return this.filter("."+n).removeClass(n).addClass(t).end()},hoverClass:function(t){return t=t||"hover",this.hover(function(){n(this).addClass(t)},function(){n(this).removeClass(t)})},heightToggle:function(n,t){n?this.animate({height:"toggle"},n,t):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":"hide"]();t&&t.apply(this,arguments)})},heightHide:function(n,t){n?this.animate({height:"hide"},n,t):(this.hide(),t&&this.each(t))},prepareBranches:function(n){return n.prerendered||(this.filter(":last-child:not(ul)").addClass(t.last),this.filter((n.collapsed?"":"."+t.closed)+":not(."+t.open+")").find(">ul").hide()),this.filter(":has(>ul)")},applyClasses:function(i,r){if(this.filter(":has(>ul):not(:has(>a))").find(">span").unbind("click.treeview").bind("click.treeview",function(t){this==t.target&&r.apply(n(this).next())}).add(n("a",this)).hoverClass(),!i.prerendered){this.filter(":has(>ul:hidden)").addClass(t.expandable).replaceClass(t.last,t.lastExpandable);this.not(":has(>ul:hidden)").addClass(t.collapsable).replaceClass(t.last,t.lastCollapsable);var u=this.find("div."+t.hitarea);u.length||(u=this.prepend('<div class="'+t.hitarea+'"/>').find("div."+t.hitarea));u.removeClass().addClass(t.hitarea).each(function(){var t="";n.each(n(this).parent().attr("class").split(" "),function(){t+=this+"-hitarea "});n(this).addClass(t)})}this.find("div."+t.hitarea).click(r)},treeview:function(i){function h(i,r){function u(r){return function(){return f.apply(n("div."+t.hitarea,i).filter(function(){return r?n(this).parent("."+r).length:!0})),!1}}n("a:eq(0)",r).click(u(t.collapsable));n("a:eq(1)",r).click(u(t.expandable));n("a:eq(2)",r).click(u())}function f(){n(this).parent().find(">.hitarea").swapClass(t.collapsableHitarea,t.expandableHitarea).swapClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().swapClass(t.collapsable,t.expandable).swapClass(t.lastCollapsable,t.lastExpandable).find(">ul").heightToggle(i.animated,i.toggle);i.unique&&n(this).parent().siblings().find(">.hitarea").replaceClass(t.collapsableHitarea,t.expandableHitarea).replaceClass(t.lastCollapsableHitarea,t.lastExpandableHitarea).end().replaceClass(t.collapsable,t.expandable).replaceClass(t.lastCollapsable,t.lastExpandable).find(">ul").heightHide(i.animated,i.toggle)}function c(){var t=[];r.each(function(i,r){t[i]=n(r).is(":has(>ul:visible)")?1:0});n.cookie(i.cookieId,t.join(""),i.cookieOptions)}function l(){var t=n.cookie(i.cookieId),u;t&&(u=t.split(""),r.each(function(t,i){n(i).find(">ul")[parseInt(u[t])?"show":"hide"]()}))}var o,r,e,u,s;i=n.extend({cookieId:"treeview"},i);i.toggle&&(o=i.toggle,i.toggle=function(){return o.apply(n(this).parent()[0],arguments)});this.data("toggler",f);this.addClass("treeview");r=this.find("li").prepareBranches(i);switch(i.persist){case"cookie":e=i.toggle;i.toggle=function(){c();e&&e.apply(this,arguments)};l();break;case"location":u=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});u.length&&(s=u.addClass("selected").parents("ul, li").add(u.next()).show(),i.prerendered&&s.filter("li").swapClass(t.collapsable,t.expandable).swapClass(t.lastCollapsable,t.lastExpandable).find(">.hitarea").swapClass(t.collapsableHitarea,t.expandableHitarea).swapClass(t.lastCollapsableHitarea,t.lastExpandableHitarea))}return r.applyClasses(i,f),i.control&&(h(this,i.control),n(i.control).show()),this}});n.treeview={};var t=n.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"}}(jQuery);MD5=function(n){function a(n,t){return n<<t|n>>>32-t}function o(n,t){var f,e,r,u,i;return(r=n&2147483648,u=t&2147483648,f=n&1073741824,e=t&1073741824,i=(n&1073741823)+(t&1073741823),f&e)?i^2147483648^r^u:f|e?i&1073741824?i^3221225472^r^u:i^1073741824^r^u:i^r^u}function yt(n,t,i){return n&t|~n&i}function pt(n,t,i){return n&i|t&~i}function wt(n,t,i){return n^t^i}function bt(n,t,i){return t^(n|~i)}function s(n,t,i,r,u,f,e){return n=o(n,o(o(yt(t,i,r),u),e)),o(a(n,f),t)}function h(n,t,i,r,u,f,e){return n=o(n,o(o(pt(t,i,r),u),e)),o(a(n,f),t)}function c(n,t,i,r,u,f,e){return n=o(n,o(o(wt(t,i,r),u),e)),o(a(n,f),t)}function l(n,t,i,r,u,f,e){return n=o(n,o(o(bt(t,i,r),u),e)),o(a(n,f),t)}function kt(n){for(var r,u=n.length,o=u+8,s=(o-o%64)/64,e=(s+1)*16,i=Array(e-1),f=0,t=0;t<u;)r=(t-t%4)/4,f=t%4*8,i[r]=i[r]|n.charCodeAt(t)<<f,t++;return r=(t-t%4)/4,f=t%4*8,i[r]=i[r]|128<<f,i[e-2]=u<<3,i[e-1]=u>>>29,i}function v(n){for(var i="",r="",u,t=0;t<=3;t++)u=n>>>t*8&255,r="0"+u.toString(16),i=i+r.substr(r.length-2,2);return i}function dt(n){var i,r,t;for(n=n.replace(/\r\n/g,"\n"),i="",r=0;r<n.length;r++)t=n.charCodeAt(r),t<128?i+=String.fromCharCode(t):t>127&&t<2048?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(t&63|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(t&63|128));return i}var e=Array(),f,ht,ct,lt,at,t,i,r,u,y=7,p=12,w=17,b=22,k=5,d=9,g=14,nt=20,tt=4,it=11,rt=16,ut=23,ft=6,et=10,ot=15,st=21,vt;for(n=dt(n),e=kt(n),t=1732584193,i=4023233417,r=2562383102,u=271733878,f=0;f<e.length;f+=16)ht=t,ct=i,lt=r,at=u,t=s(t,i,r,u,e[f+0],y,3614090360),u=s(u,t,i,r,e[f+1],p,3905402710),r=s(r,u,t,i,e[f+2],w,606105819),i=s(i,r,u,t,e[f+3],b,3250441966),t=s(t,i,r,u,e[f+4],y,4118548399),u=s(u,t,i,r,e[f+5],p,1200080426),r=s(r,u,t,i,e[f+6],w,2821735955),i=s(i,r,u,t,e[f+7],b,4249261313),t=s(t,i,r,u,e[f+8],y,1770035416),u=s(u,t,i,r,e[f+9],p,2336552879),r=s(r,u,t,i,e[f+10],w,4294925233),i=s(i,r,u,t,e[f+11],b,2304563134),t=s(t,i,r,u,e[f+12],y,1804603682),u=s(u,t,i,r,e[f+13],p,4254626195),r=s(r,u,t,i,e[f+14],w,2792965006),i=s(i,r,u,t,e[f+15],b,1236535329),t=h(t,i,r,u,e[f+1],k,4129170786),u=h(u,t,i,r,e[f+6],d,3225465664),r=h(r,u,t,i,e[f+11],g,643717713),i=h(i,r,u,t,e[f+0],nt,3921069994),t=h(t,i,r,u,e[f+5],k,3593408605),u=h(u,t,i,r,e[f+10],d,38016083),r=h(r,u,t,i,e[f+15],g,3634488961),i=h(i,r,u,t,e[f+4],nt,3889429448),t=h(t,i,r,u,e[f+9],k,568446438),u=h(u,t,i,r,e[f+14],d,3275163606),r=h(r,u,t,i,e[f+3],g,4107603335),i=h(i,r,u,t,e[f+8],nt,1163531501),t=h(t,i,r,u,e[f+13],k,2850285829),u=h(u,t,i,r,e[f+2],d,4243563512),r=h(r,u,t,i,e[f+7],g,1735328473),i=h(i,r,u,t,e[f+12],nt,2368359562),t=c(t,i,r,u,e[f+5],tt,4294588738),u=c(u,t,i,r,e[f+8],it,2272392833),r=c(r,u,t,i,e[f+11],rt,1839030562),i=c(i,r,u,t,e[f+14],ut,4259657740),t=c(t,i,r,u,e[f+1],tt,2763975236),u=c(u,t,i,r,e[f+4],it,1272893353),r=c(r,u,t,i,e[f+7],rt,4139469664),i=c(i,r,u,t,e[f+10],ut,3200236656),t=c(t,i,r,u,e[f+13],tt,681279174),u=c(u,t,i,r,e[f+0],it,3936430074),r=c(r,u,t,i,e[f+3],rt,3572445317),i=c(i,r,u,t,e[f+6],ut,76029189),t=c(t,i,r,u,e[f+9],tt,3654602809),u=c(u,t,i,r,e[f+12],it,3873151461),r=c(r,u,t,i,e[f+15],rt,530742520),i=c(i,r,u,t,e[f+2],ut,3299628645),t=l(t,i,r,u,e[f+0],ft,4096336452),u=l(u,t,i,r,e[f+7],et,1126891415),r=l(r,u,t,i,e[f+14],ot,2878612391),i=l(i,r,u,t,e[f+5],st,4237533241),t=l(t,i,r,u,e[f+12],ft,1700485571),u=l(u,t,i,r,e[f+3],et,2399980690),r=l(r,u,t,i,e[f+10],ot,4293915773),i=l(i,r,u,t,e[f+1],st,2240044497),t=l(t,i,r,u,e[f+8],ft,1873313359),u=l(u,t,i,r,e[f+15],et,4264355552),r=l(r,u,t,i,e[f+6],ot,2734768916),i=l(i,r,u,t,e[f+13],st,1309151649),t=l(t,i,r,u,e[f+4],ft,4149444226),u=l(u,t,i,r,e[f+11],et,3174756917),r=l(r,u,t,i,e[f+2],ot,718787259),i=l(i,r,u,t,e[f+9],st,3951481745),t=o(t,ht),i=o(i,ct),r=o(r,lt),u=o(u,at);return vt=v(t)+v(i)+v(r)+v(u),vt.toLowerCase()};window.ParsleyConfig=window.ParsleyConfig||{},function(n){window.ParsleyConfig=n.extend(!0,{},window.ParsleyConfig,{messages:{defaultMessage:"Bu değer geçersiz görünüyor.",type:{email:"Geçerli bir e-posta adresi girmelisiniz.",url:"Geçerli bir URL girmelisiniz.",urlstrict:"Geçerli bir URL girmelisiniz.",number:"Bu bölüme geçerli bir numara girmelisiniz.",digits:"Bu bölüm basamaklardan oluşmalıdır.",dateIso:"Bu alan geçerli bir tarih olmalıdır (YYYY-MM-DD).",alphanum:"Bu alan alfa sayısal karakterlerden oluşmalıdır.",phone:"Bu alan geçerli bir telefon numarası olmalıdır."},notnull:"Bu alan boş olmamalıdır.",notblank:"Bu alanı boş bırakamazsınız.",required:"Bu alan gereklidir.",regexp:"Değer geçersiz görünüyor  .",min:"Bu alan %s değerine eşit ya da küçük olmalıdır.",max:"Bu alan %s değerine eşit ya da büyük olmalıdır.",range:"Bu alanın değeri %s ile %s arasında olmalıdır.",minlength:"Bu alan çok kısa. %s karaktere eşit ya da fazla olmalıdır.",maxlength:"Bu alan çok uzun. %s karaktere eşit ya da küçük olmalıdır.",rangelength:"Bu alanın uzunluğu %s ile %s arasında olmalıdır.",mincheck:"En az %s seçenek seçmelisiniz.",maxcheck:"En fazla %s seçenek seçebilirsiniz.",rangecheck:"En az %s en fazla %s seçenek seçebilirsiniz.",equalto:"Bu değer eşit olmalıdır.",minwords:"Bu alan en az %s kelime içermelidir.",maxwords:"Bu alan en fazla %s kelime içermelidir.",rangewords:"Bu alan %s ile %s kelime arasında olmalıdır.",greaterthan:"Bu bölüm %s karakterden büyük olmalıdır.",lessthan:"Bu alan %s değerinden küçük olmalıdır.",beforedate:"Bu alan %s tarihinden önce olmalıdır.",afterdate:"Bu alan %s tarihinden sonra olmalıdır.",americandate:"Bu alan geçerli bir tarih olmalıdır (MM/DD/YYYY)."}})}(window.jQuery||window.Zepto);$(document).ready(function(){$(document).ajaxStart(function(){$("#page-container").showLoading()});$(document).ajaxStop(function(){$("#page-container").hideLoading();$("#page-container").hideLoading()})});var UYS_DATATABLE_LAST_SELECTED_PAGE=0,UYS_DATATABLE_DATA_LENGTH=0,UYS_SUB_DATATABLE_LAST_SELECTED_PAGE=0,UYS_SUB_DATATABLE_DATA_LENGTH=0,UYS_DATATABLE_PAGE_COUNT=0;(function(n){n.fn.raporGoruntule=function(t){var i=Math.floor(Math.random()*1e4+1),r;n("body").append('<div id="fakeModalBack" style="position:absolute; opacity:0.5; width:100%; height:100%; background:#000; top:0; z-index:99;"><\/div>');n("body").append('<div id="fakeModalAna" class="modal-content col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12"  style="position:absolute; background:#fff; top:100px; z-index:101; height:80%;"><div class="modal-header"><button type="button" class="close" id="fakeModalKapat'+i+'" aria-hidden="true">×<\/button><h4 class="modal-title">Önizleme<\/h4><\/div><div id="fakeModal" class="modal-body" style="height:100%;"><iframe src="" style="width: 100%; height: 90%;" frameborder="0" > <p>Tarayıcınız iframe desteklemiyor.<\/p> <\/iframe><\/div><\/div>');n("#fakeModal iframe").attr("src","/Belge/Goster?raporGuid="+t);r=function(){console.log("fake-modal-kapat "+i);n("#fakeModalKapat"+i).unbind("click");n("#fakeModalBack").remove();n("#fakeModalAna").remove()};n(document).on("click","#fakeModalKapat"+i,r);console.log("rapor görüntülendi")}})(jQuery);fakeModall=function(n,t,i,r,u){var s=$(n).parent(),f,o,e;u=u||"slow";f=Math.floor(Math.random()*1e4+1);$(i).hide();$(r).hide();o=function(){$("body").append('<div id="fakeModalBack" style="position:absolute; opacity:0.5; width:100%; height:100%; background:#000; top:0; z-index:99;"><\/div>');$("body").append('<div id="fakeModalAna" class="col-md-6 col-md-offset-3 col-sm-8 col-sm-offset-2 col-xs-12"  style="position:absolute; background:#fff; top:100px; z-index:101;"><div class="modal-header"><button type="button" class="close" id="fakeModalKapat'+f+'" aria-hidden="true">×<\/button><h4 class="modal-title">Güncelleme<\/h4><\/div><div id="fakeModal" class="modal-body"><\/div><\/div>');$(n).appendTo($("#fakeModal")).show(u)};e=function(){console.log("fake-modal-kapat "+f);$("#fakeModalKapat"+f).unbind("click");$(n).hide();$(n).appendTo($(s)).show(u);$("#fakeModalBack").remove();$("#fakeModalAna").remove();$(t).show();$(r).hide();$(i).hide()};$(document).on("click","#fakeModalKapat"+f,e);$(t).click(function(){$(n).hide();o();$(t).hide();$(r).show();$(i).show()});$(r).click(function(){e()})},function(n){n.fn.zclip=function(t){if(typeof t!="object"||t.length){if(typeof t=="string")return this.each(function(){var r=n(this),u,i;t=t.toLowerCase();u=r.data("zclipId");i=n("#"+u+".zclip");t=="remove"?(i.remove(),r.removeClass("active hover")):t=="hide"?(i.hide(),r.removeClass("active hover")):t=="show"&&i.show()})}else{var i=n.extend({path:"ZeroClipboard.swf",copy:null,beforeCopy:null,afterCopy:null,clickAfter:!0,setHandCursor:!0,setCSSEffects:!0},t);return this.each(function(){var t=n(this),r;t.is(":visible")&&(typeof i.copy=="string"||n.isFunction(i.copy))&&(ZeroClipboard.setMoviePath(i.path),r=new ZeroClipboard.Client,n.isFunction(i.copy)&&t.bind("zClip_copy",i.copy),n.isFunction(i.beforeCopy)&&t.bind("zClip_beforeCopy",i.beforeCopy),n.isFunction(i.afterCopy)&&t.bind("zClip_afterCopy",i.afterCopy),r.setHandCursor(i.setHandCursor),r.setCSSEffects(i.setCSSEffects),r.addEventListener("mouseOver",function(){t.trigger("mouseenter")}),r.addEventListener("mouseOut",function(){t.trigger("mouseleave")}),r.addEventListener("mouseDown",function(){t.trigger("mousedown");n.isFunction(i.copy)?r.setText(t.triggerHandler("zClip_copy")):r.setText(i.copy);n.isFunction(i.beforeCopy)&&t.trigger("zClip_beforeCopy")}),r.addEventListener("complete",function(r,u){n.isFunction(i.afterCopy)?t.trigger("zClip_afterCopy"):(u.length>500&&(u=u.substr(0,500)+"...\n\n("+(u.length-500)+" characters not shown)"),t.removeClass("hover"),uys_show_notify_timeout("Uyari","success","Panoya Kopyalandı ( "+u+" )",1e3));i.clickAfter&&t.trigger("click")}),r.glue(t[0],t.parent()[0]),n(window).bind("load resize",function(){r.reposition()}))})}}}(jQuery);ZeroClipboard={version:"1.0.7",clients:{},moviePath:"ZeroClipboard.swf",nextId:1,$:function(n){return typeof n=="string"&&(n=document.getElementById(n)),n.addClass||(n.hide=function(){this.style.display="none"},n.show=function(){this.style.display=""},n.addClass=function(n){this.removeClass(n);this.className+=" "+n},n.removeClass=function(n){for(var i=this.className.split(/\s+/),r=-1,t=0;t<i.length;t++)i[t]==n&&(r=t,t=i.length);return r>-1&&(i.splice(r,1),this.className=i.join(" ")),this},n.hasClass=function(n){return!!this.className.match(new RegExp("\\s*"+n+"\\s*"))}),n},setMoviePath:function(n){this.moviePath=n},dispatch:function(n,t,i){var r=this.clients[n];r&&r.receiveEvent(t,i)},register:function(n,t){this.clients[n]=t},getDOMObjectPosition:function(n,t){var i={left:0,top:0,width:n.width?n.width:n.offsetWidth,height:n.height?n.height:n.offsetHeight};return n&&n!=t&&(i.left+=n.offsetLeft,i.top+=n.offsetTop),i},Client:function(n){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId="ZeroClipboardMovie_"+this.id;ZeroClipboard.register(this.id,this);n&&this.glue(n)}};ZeroClipboard.Client.prototype={id:0,ready:!1,movie:null,clipText:"",handCursorEnabled:!0,cssEffects:!0,handlers:null,glue:function(n,t,i){var f,u,r;if(this.domElement=ZeroClipboard.$(n),f=99,this.domElement.style.zIndex&&(f=parseInt(this.domElement.style.zIndex,10)+1),typeof t=="string"?t=ZeroClipboard.$(t):typeof t=="undefined"&&(t=document.getElementsByTagName("body")[0]),u=ZeroClipboard.getDOMObjectPosition(this.domElement,t),this.div=document.createElement("div"),this.div.className="zclip",this.div.id="zclip-"+this.movieId,$(this.domElement).data("zclipId","zclip-"+this.movieId),r=this.div.style,r.position="absolute",r.left=""+u.left+"px",r.top=""+u.top+"px",r.width=""+u.width+"px",r.height=""+u.height+"px",r.zIndex=f,typeof i=="object")for(addedStyle in i)r[addedStyle]=i[addedStyle];t.appendChild(this.div);this.div.innerHTML=this.getHTML(u.width,u.height)},getHTML:function(n,t){var i="",r="id="+this.id+"&width="+n+"&height="+t,u;return navigator.userAgent.match(/MSIE/)?(u=location.href.match(/^https/i)?"https://":"http://",i+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+u+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+n+'" height="'+t+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+r+'"/><param name="wmode" value="transparent"/><\/object>'):i+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+n+'" height="'+t+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+r+'" wmode="transparent" />',i},hide:function(){this.div&&(this.div.style.left="-2000px")},show:function(){this.reposition()},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML="";var n=document.getElementsByTagName("body")[0];try{n.removeChild(this.div)}catch(t){}this.domElement=null;this.div=null}},reposition:function(n){if(n&&(this.domElement=ZeroClipboard.$(n),this.domElement||this.hide()),this.domElement&&this.div){var t=ZeroClipboard.getDOMObjectPosition(this.domElement),i=this.div.style;i.left=""+t.left+"px";i.top=""+t.top+"px"}},setText:function(n){this.clipText=n;this.ready&&this.movie.setText(n)},addEventListener:function(n,t){n=n.toString().toLowerCase().replace(/^on/,"");this.handlers[n]||(this.handlers[n]=[]);this.handlers[n].push(t)},setHandCursor:function(n){this.handCursorEnabled=n;this.ready&&this.movie.setHandCursor(n)},setCSSEffects:function(n){this.cssEffects=!!n},receiveEvent:function(n,t){var r,u,f,i;n=n.toString().toLowerCase().replace(/^on/,"");switch(n){case"load":if(this.movie=document.getElementById(this.movieId),!this.movie){r=this;setTimeout(function(){r.receiveEvent("load",null)},1);return}if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){r=this;setTimeout(function(){r.receiveEvent("load",null)},100);this.ready=!0;return}this.ready=!0;try{this.movie.setText(this.clipText)}catch(e){}try{this.movie.setHandCursor(this.handCursorEnabled)}catch(e){}break;case"mouseover":this.domElement&&this.cssEffects&&(this.domElement.addClass("hover"),this.recoverActive&&this.domElement.addClass("active"));break;case"mouseout":this.domElement&&this.cssEffects&&(this.recoverActive=!1,this.domElement.hasClass("active")&&(this.domElement.removeClass("active"),this.recoverActive=!0),this.domElement.removeClass("hover"));break;case"mousedown":this.domElement&&this.cssEffects&&this.domElement.addClass("active");break;case"mouseup":this.domElement&&this.cssEffects&&(this.domElement.removeClass("active"),this.recoverActive=!1)}if(this.handlers[n])for(u=0,f=this.handlers[n].length;u<f;u++)i=this.handlers[n][u],typeof i=="function"?i(this,t):typeof i=="object"&&i.length==2?i[0][i[1]](this,t):typeof i=="string"&&window[i](this,t)}};q=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function w(n){function f(n){var i=n.charCodeAt(0),t;return i!==92?i:(t=n.charAt(1),(i=a[t])?i:"0"<=t&&t<="7"?parseInt(n.substring(1),8):t==="u"||t==="x"?parseInt(n.substring(2),16):n.charCodeAt(1))}function e(n){return n<32?(n<16?"\\x0":"\\x")+n.toString(16):(n=String.fromCharCode(n),(n==="\\"||n==="-"||n==="["||n==="]")&&(n="\\"+n),n)}function h(n){for(var t,s,o=n.substring(1,n.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),n=[],i=[],h=o[0]==="^",r=h?1:0,u=o.length;r<u;++r)t=o[r],/\\[bdsw]/i.test(t)?n.push(t):(t=f(t),r+2<u&&"-"===o[r+1]?(s=f(o[r+2]),r+=2):s=t,i.push([t,s]),s<65||t>122||(s<65||t>90||i.push([Math.max(65,t)|32,Math.min(s,90)|32]),s<97||t>122||i.push([Math.max(97,t)&-33,Math.min(s,122)&-33])));for(i.sort(function(n,t){return n[0]-t[0]||t[1]-n[1]}),o=[],t=[NaN,NaN],r=0;r<i.length;++r)u=i[r],u[0]<=t[1]+1?t[1]=Math.max(t[1],u[1]):o.push(t=u);for(i=["["],h&&i.push("^"),i.push.apply(i,n),r=0;r<o.length;++r)u=o[r],i.push(e(u[0])),u[1]>u[0]&&(u[1]+1>u[0]&&i.push("-"),i.push(e(u[1])));return i.push("]"),i.join("")}function c(n){for(var i,r=n.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),e=r.length,f=[],t=0,u=0;t<e;++t)i=r[t],i==="("?++u:"\\"===i.charAt(0)&&(i=+i.substring(1))&&i<=u&&(f[i]=-1);for(t=1;t<f.length;++t)-1===f[t]&&(f[t]=++l);for(u=t=0;t<e;++t)i=r[t],i==="("?(++u,f[u]===void 0&&(r[t]="(?:")):"\\"===i.charAt(0)&&(i=+i.substring(1))&&i<=u&&(r[t]="\\"+f[u]);for(u=t=0;t<e;++t)"^"===r[t]&&"^"!==r[t+1]&&(r[t]="");if(n.ignoreCase&&o)for(t=0;t<e;++t)i=r[t],n=i.charAt(0),i.length>=2&&n==="["?r[t]=h(i):n!=="\\"&&(r[t]=i.replace(/[A-Za-z]/g,function(n){return n=n.charCodeAt(0),"["+String.fromCharCode(n&-33,n|32)+"]"}));return r.join("")}for(var t,l=0,o=!1,r=!1,i=0,u=n.length;i<u;++i)if(t=n[i],t.ignoreCase)r=!0;else if(/[a-z]/i.test(t.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){o=!0;r=!1;break}for(var a={b:8,t:9,n:10,v:11,f:12,r:13},s=[],i=0,u=n.length;i<u;++i){if(t=n[i],t.global||t.multiline)throw Error(""+t);s.push("(?:"+c(t)+")")}return RegExp(s.join("|"),r?"gi":"g")}function b(n){function e(n){switch(n.nodeType){case 1:if(s.test(n.className))break;for(var r=n.firstChild;r;r=r.nextSibling)e(r);r=n.nodeName;("BR"===r||"LI"===r)&&(u[t]="\n",i[t<<1]=f++,i[t++<<1|1]=n);break;case 3:case 4:r=n.nodeValue;r.length&&(r=o?r.replace(/\r\n?/g,"\n"):r.replace(/[\t\n\r ]+/g," "),u[t]=r,i[t<<1]=f,f+=r.length,i[t++<<1|1]=n)}}var s=/(?:^|\s)nocode(?:\s|$)/,u=[],f=0,i=[],t=0,r,o;return n.currentStyle?r=n.currentStyle.whiteSpace:window.getComputedStyle&&(r=document.defaultView.getComputedStyle(n,q).getPropertyValue("white-space")),o=r&&"pre"===r.substring(0,3),e(n),{a:u.join("").replace(/\n$/,""),c:i}}function e(n,t,i,r){t&&(n={a:t,d:n},i(n),r.push.apply(r,n.e))}function r(n,t){function i(n){for(var c,p,w,v=n.d,y=[v,"pln"],k=0,d=n.a.match(u)||[],g={},b=0,nt=d.length;b<nt;++b){var l=d[b],h=g[l],a=void 0,o;if(typeof h=="string")o=!1;else{if(c=r[l.charAt(0)],c)a=l.match(c[1]),h=c[0];else{for(o=0;o<f;++o)if(c=t[o],a=l.match(c[1])){h=c[0];break}a||(h="pln")}!(o=h.length>=5&&"lang-"===h.substring(0,5))||a&&typeof a[1]=="string"||(o=!1,h="src");o||(g[l]=h)}c=k;k+=l.length;o?(o=a[1],p=l.indexOf(o),w=p+o.length,a[2]&&(w=l.length-a[2].length,p=w-o.length),h=h.substring(5),e(v+c,l.substring(0,p),i,y),e(v+c+p,o,s(h,o),y),e(v+c+w,l.substring(w),i,y)):y.push(v+c,h)}n.e=y}var r={},u,f;return function(){for(var i,f,s,h=n.concat(t),e=[],c={},o=0,l=h.length;o<l;++o){if(i=h[o],f=i[3],f)for(s=f.length;--s>=0;)r[f.charAt(s)]=i;i=i[1];f=""+i;c.hasOwnProperty(f)||(e.push(i),c[f]=q)}e.push(/[\S\s]/);u=w(e)}(),f=t.length,i}function t(n){var i=[],t=[],u;return n.tripleQuotedStrings?i.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):n.multiLineStrings?i.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):i.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]),n.verbatimStrings&&t.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]),u=n.hashComments,u&&(n.cStyleComments?(u>1?i.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):i.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),t.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):i.push(["com",/^#[^\n\r]*/,q,"#"])),n.cStyleComments&&(t.push(["com",/^\/\/[^\n\r]*/,q]),t.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q])),n.regexLiterals&&t.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(u=n.types)&&t.push(["typ",u]),n=(""+n.keywords).replace(/^ | $/g,""),n.length&&t.push(["kwd",RegExp("^(?:"+n.replace(/[\s,]+/g,"|")+")\\b"),q]),i.push(["pln",/^\s+/,q," \r\n\t "]),t.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]),r(i,t)}function o(n,t){function o(n){var t,i,r;switch(n.nodeType){case 1:if(c.test(n.className))break;if("BR"===n.nodeName)s(n),n.parentNode&&n.parentNode.removeChild(n);else for(n=n.firstChild;n;n=n.nextSibling)o(n);break;case 3:case 4:h&&(t=n.nodeValue,i=t.match(l),i&&(r=t.substring(0,i.index),n.nodeValue=r,(t=t.substring(i.index+i[0].length))&&n.parentNode.insertBefore(f.createTextNode(t),n.nextSibling),s(n),r||n.parentNode.removeChild(n)))}}function s(n){function i(n,t){var e=t?n.cloneNode(!1):n,r=n.parentNode,f,u;if(r)for(r=i(r,1),f=n.nextSibling,r.appendChild(e),u=f;u;u=f)f=u.nextSibling,r.appendChild(u);return e}for(;!n.nextSibling;)if(n=n.parentNode,!n)return;for(var n=i(n.nextSibling,0),t;(t=n.parentNode)&&t.nodeType===1;)n=t;u.push(n)}var c=/(?:^|\s)nocode(?:\s|$)/,l=/\r\n?|\n/,f=n.ownerDocument,i,h,u,r,e;for(n.currentStyle?i=n.currentStyle.whiteSpace:window.getComputedStyle&&(i=f.defaultView.getComputedStyle(n,q).getPropertyValue("white-space")),h=i&&"pre"===i.substring(0,3),i=f.createElement("LI");n.firstChild;)i.appendChild(n.firstChild);for(u=[i],r=0;r<u.length;++r)o(u[r]);t===(t|0)&&u[0].setAttribute("value",t);e=f.createElement("OL");e.className="linenums";for(var a=Math.max(0,t-1|0)||0,r=0,v=u.length;r<v;++r)i=u[r],i.className="L"+(r+a)%10,i.firstChild||i.appendChild(f.createTextNode(" ")),e.appendChild(i);n.appendChild(e)}function n(n,t){for(var i,r=t.length;--r>=0;)i=t[r],f.hasOwnProperty(i)?window.console&&console.warn("cannot override language handler %s",i):f[i]=n}function s(n,t){return n&&f.hasOwnProperty(n)||(n=/^\s*</.test(t)?"default-markup":"default-code"),f[n]}function h(n){var p=n.g,r,u,f,i,d,c,g;try{r=b(n.h);u=r.a;n.a=u;n.c=r.c;n.d=0;s(p,u)(n);var it=/\bMSIE\b/.test(navigator.userAgent),p=/\n/g,w=n.a,k=w.length,r=0,l=n.c,rt=l.length,u=0,t=n.e,h=t.length,n=0;for(t[h]=k,i=f=0;i<h;)t[i]!==t[i+2]?(t[f++]=t[i++],t[f++]=t[i++]):i+=2;for(h=f,i=f=0;i<h;){for(var ut=t[i],nt=t[i+1],e=i+2;e+2<=h&&t[e+1]===nt;)e+=2;t[f++]=ut;t[f++]=nt;i=e}for(t.length=f;u<rt;){var a=l[u+2]||k,tt=t[n+2]||k,e=Math.min(a,tt),o=l[u+1],v;o.nodeType!==1&&(v=w.substring(r,e))&&(it&&(v=v.replace(p,"\r")),o.nodeValue=v,d=o.ownerDocument,c=d.createElement("SPAN"),c.className=t[n+1],g=o.parentNode,g.replaceChild(c,o),c.appendChild(o),r<a&&(l[u+1]=o=d.createTextNode(w.substring(e,a)),g.insertBefore(o,c.nextSibling)));r=e;r>=a&&(u+=2);r>=tt&&(n+=2)}}catch(y){"console"in window&&console.log(y&&y.stack?y.stack:y)}}var i=["break,continue,do,else,for,if,return,while"],u=[[i,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],c=[u,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],l=[u,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],a=[l,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],u=[u,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],v=[i,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],y=[i,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],i=[i,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],p=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,k=/\S/,d=t({keywords:[c,a,u,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+v,y,i],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),f={};n(d,["default-code"]);n(r([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);n(r([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);n(r([],[["atv",/^[\S\s]+/]]),["uq.val"]);n(t({keywords:c,hashComments:!0,cStyleComments:!0,types:p}),["c","cc","cpp","cxx","cyc","m"]);n(t({keywords:"null,true,false"}),["json"]);n(t({keywords:a,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:p}),["cs"]);n(t({keywords:l,cStyleComments:!0}),["java"]);n(t({keywords:i,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);n(t({keywords:v,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);n(t({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);n(t({keywords:y,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);n(t({keywords:u,cStyleComments:!0,regexLiterals:!0}),["js"]);n(t({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);n(r([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(n,t,i){var r=document.createElement("PRE");return r.innerHTML=n,i&&o(r,i),h({g:t,i:i,h:r}),r.innerHTML};window.prettyPrint=function(n){function c(){for(var l,e,y,t,v,p,f,w=window.PR_SHOULD_USE_CONTINUATION?i.now()+250:Infinity;r<u.length&&i.now()<w;r++)if(l=u[r],e=l.className,e.indexOf("prettyprint")>=0){if(e=e.match(s),t=!e){for(t=l,f=void 0,v=t.firstChild;v;v=v.nextSibling)p=v.nodeType,f=p===1?f?t:v:p===3?k.test(v.nodeValue)?t:f:f;t=(y=f===t?void 0:f)&&"CODE"===y.tagName}for(t&&(e=y.className.match(s)),e&&(e=e[1]),t=!1,f=l.parentNode;f;f=f.parentNode)if((f.tagName==="pre"||f.tagName==="code"||f.tagName==="xmp")&&f.className&&f.className.indexOf("prettyprint")>=0){t=!0;break}t||((t=(t=l.className.match(/\blinenums\b(?::(\d+))?/))?t[1]&&t[1].length?+t[1]:!0:!1)&&o(l,t),a={g:e,h:l,i:t},h(a))}r<u.length?setTimeout(c,250):n&&n()}for(var e,l,i,r,a,s,t=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],u=[],f=0;f<t.length;++f)for(e=0,l=t[f].length;e<l;++e)u.push(t[f][e]);t=q;i=Date;i.now||(i={now:function(){return+new Date}});r=0;s=/\blang(?:uage)?-([\w.]+)(?!\S)/;c()};window.PR={createSimpleLexer:r,registerLangHandler:n,sourceDecorator:t,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}();!function(n){var t=function(n,t){var r=document.createElement("canvas"),i,u,f,e,s,o;"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(r);i=r.getContext("2d");(r.width=r.height=t.size,n.appendChild(r),window.devicePixelRatio>1)&&(u=window.devicePixelRatio,r.style.width=r.style.height=[t.size,"px"].join(""),r.width=r.height=t.size*u,i.scale(u,u));i.translate(t.size/2,t.size/2);i.rotate((-.5+t.rotate/180)*Math.PI);f=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(f-=t.scaleLength+2);e=function(n,t,r){r=Math.min(Math.max(0,r||1),1);i.beginPath();i.arc(0,0,f,0,2*Math.PI*r,!1);i.strokeStyle=n;i.lineWidth=t;i.stroke()};s=function(){var u,r,n=24;for(i.lineWidth=1,i.fillStyle=t.scaleColor,i.save(),n=24;n>=0;--n)0==n%6?(r=t.scaleLength,u=0):(r=.6*t.scaleLength,u=t.scaleLength-r),i.fillRect(-t.size/2+u,0,r,1),i.rotate(Math.PI/12);i.restore()};Date.now=Date.now||function(){return+new Date};o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}();this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)};this.draw=function(n){this.clear();t.scaleColor&&s();t.trackColor&&e(t.trackColor,t.lineWidth);i.lineCap=t.lineCap;var r;r="function"==typeof t.barColor?t.barColor(n):t.barColor;n>0&&e(r,t.lineWidth,n/100)}.bind(this);this.animate=function(n,i){var u=Date.now(),r;t.onStart(n,i);r=function(){var f=Math.min(Date.now()-u,t.animate),e=t.easing(this,f,n,i-n,t.animate);this.draw(e);t.onStep(n,i,e);f>=t.animate?t.onStop(n,i):o(r)}.bind(this);o(r)}.bind(this)},i=function(n,i){var u,f={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:1e3,renderer:t,easing:function(n,t,i,r,u){return(t/=u/2)<1?r/2*t*t+i:-r/2*(--t*(t-2)-1)+i},onStart:function(){},onStep:function(){},onStop:function(){}},r={},e=0,o=function(){this.el=n;this.options=r;for(var t in f)f.hasOwnProperty(t)&&(r[t]=i&&"undefined"!=typeof i[t]?i[t]:f[t],"function"==typeof r[t]&&(r[t]=r[t].bind(this)));r.easing="string"==typeof r.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[r.easing])?jQuery.easing[r.easing]:f.easing;u=new r.renderer(n,r);u.draw(e);n.dataset&&n.dataset.percent&&this.update(parseInt(n.dataset.percent,10))}.bind(this);this.update=function(n){return n=parseInt(n,10),r.animate?u.animate(e,n):u.draw(n),e=n,this}.bind(this);o()};n.fn.easyPieChart=function(t){return this.each(function(){n.data(this,"easyPieChart")||n.data(this,"easyPieChart",new i(this,t))})}}(jQuery),function(n,t,i){(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):jQuery&&!jQuery.fn.sparkline&&n(jQuery)})(function(r){"use strict";var c={},tt,u,e,s,l,o,v,it,rt,y,pt,ut,ft,et,h,ot,st,a,p,ht,ct,lt,w,b,k,at,vt,yt,d,g,nt,f,wt=0;tt=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:i,normalRangeMax:i,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:i,chartRangeMax:i,chartRangeMinX:i,chartRangeMaxX:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:i,nullColor:i,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,colorMap:i,tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:i,thresholdValue:0,chartRangeMax:i,chartRangeMin:i,chartRangeClip:!1,tooltipFormat:new e("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:i,tooltipFormat:new e("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new e('<span style="color: {{color}}">&#9679;<\/span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:i,targetColor:"#4a2",chartRangeMax:i,chartRangeMin:i,tooltipFormat:new e("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}};at='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}';u=function(){var n,t;return n=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(n.prototype=r.extend(new arguments[0],arguments[arguments.length-1]),n._super=arguments[0].prototype):n.prototype=arguments[arguments.length-1],arguments.length>2&&(t=Array.prototype.slice.call(arguments,1,-1),t.unshift(n.prototype),r.extend.apply(r,t))):n.prototype=arguments[0],n.prototype.cls=n,n};r.SPFormatClass=e=u({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(n,t){this.format=n;this.fclass=t},render:function(n,t,r){var h=this,c=n,e,o,f,u,s;return this.format.replace(this.fre,function(){var n;return o=arguments[1],f=arguments[3],e=h.precre.exec(o),e?(s=e[2],o=e[1]):s=!1,u=c[o],u===i?"":f&&t&&t[f]?(n=t[f],n.get?t[f].get(u)||u:t[f][u]||u):(rt(u)&&(u=r.get("numberFormatter")?r.get("numberFormatter")(u):et(u,s,r.get("numberDigitGroupCount"),r.get("numberDigitGroupSep"),r.get("numberDecimalMark"))),u)})}});r.spformat=function(n,t){return new e(n,t)};s=function(n,t,i){return n<t?t:n>i?i:n};l=function(n,i){var r;return i===2?(r=t.floor(n.length/2),n.length%2?n[r]:(n[r-1]+n[r])/2):n.length%2?(r=(n.length*i+i)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1]):(r=(n.length*i+2)/4,r%1?(n[t.floor(r)]+n[t.floor(r)-1])/2:n[r-1])};o=function(n){var t;switch(n){case"undefined":n=i;break;case"null":n=null;break;case"true":n=!0;break;case"false":n=!1;break;default:t=parseFloat(n);n==t&&(n=t)}return n};v=function(n){for(var i=[],t=n.length;t--;)i[t]=o(n[t]);return i};it=function(n,t){for(var u=[],i=0,r=n.length;i<r;i++)n[i]!==t&&u.push(n[i]);return u};rt=function(n){return!isNaN(parseFloat(n))&&isFinite(n)};et=function(n,t,i,u,f){var e,o;for(n=(t===!1?parseFloat(n).toString():n.toFixed(t)).split(""),e=(e=r.inArray(".",n))<0?n.length:e,e<n.length&&(n[e]=f),o=e-i;o>0;o-=i)n.splice(o,0,u);return n.join("")};y=function(n,t,i){for(var r=t.length;r--;)if((!i||t[r]!==null)&&t[r]!==n)return!1;return!0};pt=function(n){for(var i=0,t=n.length;t--;)i+=typeof n[t]=="number"?n[t]:0;return i};ft=function(n){return r.isArray(n)?n:[n]};ut=function(t){var i;n.createStyleSheet?n.createStyleSheet().cssText=t:(i=n.createElement("style"),i.type="text/css",n.getElementsByTagName("head")[0].appendChild(i),i[typeof n.body.style.WebkitAppearance=="string"?"innerText":"innerHTML"]=t)};r.fn.simpledraw=function(t,u,f,e){var o,s,h;if(f&&(o=this.data("_jqs_vcanvas")))return o;if(r.fn.sparkline.canvas===!1)return!1;if(r.fn.sparkline.canvas===i)if(h=n.createElement("canvas"),h.getContext&&h.getContext("2d"))r.fn.sparkline.canvas=function(n,t,i,r){return new g(n,t,i,r)};else{if(!n.namespaces||!!n.namespaces.v)return r.fn.sparkline.canvas=!1,!1;n.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML");r.fn.sparkline.canvas=function(n,t,i){return new nt(n,t,i)}}return t===i&&(t=r(this).innerWidth()),u===i&&(u=r(this).innerHeight()),o=r.fn.sparkline.canvas(t,u,this,e),s=r(this).data("_jqs_mhandler"),s&&s.registerCanvas(o),o};r.fn.cleardraw=function(){var n=this.data("_jqs_vcanvas");n&&n.reset()};r.RangeMapClass=h=u({init:function(n){var i,t,r=[];for(i in n)n.hasOwnProperty(i)&&typeof i=="string"&&i.indexOf(":")>-1&&(t=i.split(":"),t[0]=t[0].length===0?-Infinity:parseFloat(t[0]),t[1]=t[1].length===0?Infinity:parseFloat(t[1]),t[2]=n[i],r.push(t));this.map=n;this.rangelist=r||!1},get:function(n){var r=this.rangelist,u,t,f;if((f=this.map[n])!==i)return f;if(r)for(u=r.length;u--;)if(t=r[u],t[0]<=n&&t[1]>=n)return t[2];return i}});r.range_map=function(n){return new h(n)};ot=u({init:function(n,t){var i=r(n);this.$el=i;this.options=t;this.currentPageX=0;this.currentPageY=0;this.el=n;this.splist=[];this.tooltip=null;this.over=!1;this.displayTooltips=!t.get("disableTooltips");this.highlightEnabled=!t.get("disableHighlight")},registerSparkline:function(n){this.splist.push(n);this.over&&this.updateDisplay()},registerCanvas:function(n){var t=r(n.canvas);this.canvas=n;this.$canvas=t;t.mouseenter(r.proxy(this.mouseenter,this));t.mouseleave(r.proxy(this.mouseleave,this));t.click(r.proxy(this.mouseclick,this))},reset:function(n){this.splist=[];this.tooltip&&n&&(this.tooltip.remove(),this.tooltip=i)},mouseclick:function(n){var t=r.Event("sparklineClick");t.originalEvent=n;t.sparklines=this.splist;this.$el.trigger(t)},mouseenter:function(t){r(n.body).unbind("mousemove.jqs");r(n.body).bind("mousemove.jqs",r.proxy(this.mousemove,this));this.over=!0;this.currentPageX=t.pageX;this.currentPageY=t.pageY;this.currentEl=t.target;!this.tooltip&&this.displayTooltips&&(this.tooltip=new st(this.options),this.tooltip.updatePosition(t.pageX,t.pageY));this.updateDisplay()},mouseleave:function(){r(n.body).unbind("mousemove.jqs");var i=this.splist,e=i.length,u=!1,f,t;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),t=0;t<e;t++)f=i[t],f.clearRegionHighlight()&&(u=!0);u&&this.canvas.render()},mousemove:function(n){this.currentPageX=n.pageX;this.currentPageY=n.pageY;this.currentEl=n.target;this.tooltip&&this.tooltip.updatePosition(n.pageX,n.pageY);this.updateDisplay()},updateDisplay:function(){var i=this.splist,o=i.length,s=!1,h=this.$canvas.offset(),c=this.currentPageX-h.left,l=this.currentPageY-h.top,u,t,n,f,e;if(this.over){for(n=0;n<o;n++)t=i[n],f=t.setRegionHighlight(this.currentEl,c,l),f&&(s=!0);if(s){if(e=r.Event("sparklineRegionChange"),e.sparklines=this.splist,this.$el.trigger(e),this.tooltip){for(u="",n=0;n<o;n++)t=i[n],u+=t.getCurrentRegionTooltip();this.tooltip.setContent(u)}this.disableHighlight||this.canvas.render()}f===null&&this.mouseleave()}}});st=u({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(t){var u=t.get("tooltipClassname","jqstooltip"),f=this.sizeStyle,i;this.container=t.get("tooltipContainer")||n.body;this.tooltipOffsetX=t.get("tooltipOffsetX",10);this.tooltipOffsetY=t.get("tooltipOffsetY",12);r("#jqssizetip").remove();r("#jqstooltip").remove();this.sizetip=r("<div/>",{id:"jqssizetip",style:f,"class":u});this.tooltip=r("<div/>",{id:"jqstooltip","class":u}).appendTo(this.container);i=this.tooltip.offset();this.offsetLeft=i.left;this.offsetTop=i.top;this.hidden=!0;r(window).unbind("resize.jqs scroll.jqs");r(window).bind("resize.jqs scroll.jqs",r.proxy(this.updateWindowDims,this));this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=r(window).scrollTop();this.scrollLeft=r(window).scrollLeft();this.scrollRight=this.scrollLeft+r(window).width();this.updatePosition()},getSize:function(n){this.sizetip.html(n).appendTo(this.container);this.width=this.sizetip.width()+1;this.height=this.sizetip.height();this.sizetip.remove()},setContent:function(n){if(!n){this.tooltip.css("visibility","hidden");this.hidden=!0;return}this.getSize(n);this.tooltip.html(n).css({width:this.width,height:this.height,visibility:"visible"});this.hidden&&(this.hidden=!1,this.updatePosition())},updatePosition:function(n,t){if(n===i){if(this.mousex===i)return;n=this.mousex-this.offsetLeft;t=this.mousey-this.offsetTop}else this.mousex=n-=this.offsetLeft,this.mousey=t-=this.offsetTop;this.height&&this.width&&!this.hidden&&(t-=this.height+this.tooltipOffsetY,n+=this.tooltipOffsetX,t<this.scrollTop&&(t=this.scrollTop),n<this.scrollLeft?n=this.scrollLeft:n+this.width>this.scrollRight&&(n=this.scrollRight-this.width),this.tooltip.css({left:n,top:t}))},remove:function(){this.tooltip.remove();this.sizetip.remove();this.sizetip=this.tooltip=i;r(window).unbind("resize.jqs scroll.jqs")}});vt=function(){ut(at)};r(vt);f=[];r.fn.sparkline=function(t,u){return this.each(function(){var e=new r.fn.sparkline.options(this,u),h=r(this),s,o;if(s=function(){var s,a,c,f,u,l,o;if(t==="html"||t===i?(o=this.getAttribute(e.get("tagValuesAttribute")),(o===i||o===null)&&(o=h.html()),s=o.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):s=t,a=e.get("width")==="auto"?s.length*e.get("defaultPixelsPerValue"):e.get("width"),e.get("height")==="auto"?e.get("composite")&&r.data(this,"_jqs_vcanvas")||(f=n.createElement("span"),f.innerHTML="a",h.html(f),c=r(f).innerHeight()||r(f).height(),r(f).remove(),f=null):c=e.get("height"),e.get("disableInteraction")?u=!1:(u=r.data(this,"_jqs_mhandler"),u?e.get("composite")||u.reset():(u=new ot(this,e),r.data(this,"_jqs_mhandler",u))),e.get("composite")&&!r.data(this,"_jqs_vcanvas")){r.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),r.data(this,"_jqs_errnotify",!0));return}l=new r.fn.sparkline[e.get("type")](this,s,e,a,c);l.render();u&&u.registerSparkline(l)},r(this).html()&&!e.get("disableHiddenCheck")&&r(this).is(":hidden")||!r(this).parents("body").length){if(!e.get("composite")&&r.data(this,"_jqs_pending"))for(o=f.length;o;o--)f[o-1][0]==this&&f.splice(o-1,1);f.push([this,s]);r.data(this,"_jqs_pending",!0)}else s.call(this)})};r.fn.sparkline.defaults=tt();r.sparkline_display_visible=function(){for(var t,i=[],n=0,u=f.length;n<u;n++)t=f[n][0],r(t).is(":visible")&&!r(t).parents().is(":hidden")?(f[n][1].call(t),r.data(f[n][0],"_jqs_pending",!1),i.push(n)):!r(t).closest("html").length&&!r.data(t,"_jqs_pending")&&(r.data(f[n][0],"_jqs_pending",!1),i.push(n));for(n=i.length;n;n--)f.splice(i[n-1],1)};r.fn.sparkline.options=u({init:function(n,t){var e,i,u,f;this.userOptions=t=t||{};this.tag=n;this.tagValCache={};i=r.fn.sparkline.defaults;u=i.common;this.tagOptionsPrefix=t.enableTagOptions&&(t.tagOptionsPrefix||u.tagOptionsPrefix);f=this.getTagSetting("type");e=f===c?i[t.type||u.type]:i[f];this.mergedOptions=r.extend({},u,e,t)},getTagSetting:function(n){var u=this.tagOptionsPrefix,t,r,f,e;if(u===!1||u===i)return c;if(this.tagValCache.hasOwnProperty(n))t=this.tagValCache.key;else{if(t=this.tag.getAttribute(u+n),t===i||t===null)t=c;else if(t.substr(0,1)==="[")for(t=t.substr(1,t.length-2).split(","),r=t.length;r--;)t[r]=o(t[r].replace(/(^\s*)|(\s*$)/g,""));else if(t.substr(0,1)==="{")for(f=t.substr(1,t.length-2).split(","),t={},r=f.length;r--;)e=f[r].split(":",2),t[e[0].replace(/(^\s*)|(\s*$)/g,"")]=o(e[1].replace(/(^\s*)|(\s*$)/g,""));else t=o(t);this.tagValCache.key=t}return t},get:function(n,t){var r=this.getTagSetting(n),u;return r!==c?r:(u=this.mergedOptions[n])===i?t:u}});r.fn.sparkline._base=u({disabled:!1,init:function(n,t,u,f,e){this.el=n;this.$el=r(n);this.values=t;this.options=u;this.width=f;this.height=e;this.currentRegion=i},initTarget:function(){var n=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),n))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(n,t,r){var f=this.currentRegion,e=!this.options.get("disableHighlight"),u;return t>this.canvasWidth||r>this.canvasHeight||t<0||r<0?null:(u=this.getRegion(n,t,r),f!==u?(f!==i&&e&&this.removeHighlight(),this.currentRegion=u,u!==i&&e&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==i?(this.removeHighlight(),this.currentRegion=i,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var t=this.options,y="",h=[],n,o,p,w,b,u,c,l,a,k,v,s,d,f;if(this.currentRegion===i)return"";if(n=this.getCurrentRegionFields(),v=t.get("tooltipFormatter"),v)return v(this,t,n);if(t.get("tooltipChartTitle")&&(y+='<div class="jqs jqstitle">'+t.get("tooltipChartTitle")+"<\/div>\n"),o=this.options.get("tooltipFormat"),!o)return"";if(r.isArray(o)||(o=[o]),r.isArray(n)||(n=[n]),c=this.options.get("tooltipFormatFieldlist"),l=this.options.get("tooltipFormatFieldlistKey"),c&&l){for(a=[],u=n.length;u--;)k=n[u][l],(f=r.inArray(k,c))!=-1&&(a[f]=n[u]);n=a}for(p=o.length,d=n.length,u=0;u<p;u++)for(s=o[u],typeof s=="string"&&(s=new e(s)),w=s.fclass||"jqsfield",f=0;f<d;f++)n[f].isNull&&t.get("tooltipSkipNull")||(r.extend(n[f],{prefix:t.get("tooltipPrefix"),suffix:t.get("tooltipSuffix")}),b=s.render(n[f],t.get("tooltipValueLookups"),t),h.push('<div class="'+w+'">'+b+"<\/div>"));return h.length?y+h.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(n,i){var e=i.get("highlightColor"),o=i.get("highlightLighten"),u,h,f,r;if(e)return e;if(o&&(u=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(n)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(n),u)){for(f=[],h=n.length===4?16:1,r=0;r<3;r++)f[r]=s(t.round(parseInt(u[r+1],16)*h*o),0,255);return"rgb("+f.join(",")+")"}return n}});a={changeHighlight:function(n){var i=this.currentRegion,f=this.target,u=this.regionShapes[i],t;u&&(t=this.renderRegion(i,n),r.isArray(t)||r.isArray(u)?(f.replaceWithShapes(u,t),this.regionShapes[i]=r.map(t,function(n){return n.id})):(f.replaceWithShape(u,t),this.regionShapes[i]=t.id))},render:function(){var e=this.values,o=this.target,u=this.regionShapes,n,f,t,i;if(this.cls._super.render.call(this)){for(t=e.length;t--;)if(n=this.renderRegion(t),n)if(r.isArray(n)){for(f=[],i=n.length;i--;)n[i].append(),f.push(n[i].id);u[t]=f}else n.append(),u[t]=n.id;else u[t]=null;o.render()}}};r.fn.sparkline.line=p=u(r.fn.sparkline._base,{type:"line",init:function(n,t,i,r,u){p._super.init.call(this,n,t,i,r,u);this.vertices=[];this.regionMap=[];this.xvalues=[];this.yvalues=[];this.yminmax=[];this.hightlightSpotId=null;this.lastShapeId=null;this.initTarget()},getRegion:function(n,t){for(var u=this.regionMap,r=u.length;r--;)if(u[r]!==null&&t>=u[r][0]&&t<=u[r][1])return u[r][2];return i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.yvalues[n]===null,x:this.xvalues[n],y:this.yvalues[n],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:n}},renderHighlight:function(){var h=this.currentRegion,t=this.target,n=this.vertices[h],r=this.options,e=r.get("spotRadius"),o=r.get("highlightSpotColor"),s=r.get("highlightLineColor"),u,f;n&&(e&&o&&(u=t.drawCircle(n[0],n[1],e,i,o),this.highlightSpotId=u.id,t.insertAfterShape(this.lastShapeId,u)),s&&(f=t.drawLine(n[0],this.canvasTop,n[0],this.canvasTop+this.canvasHeight,s),this.highlightLineId=f.id,t.insertAfterShape(this.lastShapeId,f)))},removeHighlight:function(){var n=this.target;this.highlightSpotId&&(n.removeShapeId(this.highlightSpotId),this.highlightSpotId=null);this.highlightLineId&&(n.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){for(var i=this.values,c=i.length,r=this.xvalues,e=this.yvalues,u=this.yminmax,f,s,h,o,n=0;n<c;n++)f=i[n],s=typeof i[n]=="string",h=typeof i[n]=="object"&&i[n]instanceof Array,o=s&&i[n].split(":"),s&&o.length===2?(r.push(Number(o[0])),e.push(Number(o[1])),u.push(Number(o[1]))):h?(r.push(f[0]),e.push(f[1]),u.push(f[1])):(r.push(n),i[n]===null||i[n]==="null"?e.push(null):(e.push(Number(f)),u.push(Number(f))));this.options.get("xvalues")&&(r=this.options.get("xvalues"));this.maxy=this.maxyorg=t.max.apply(t,u);this.miny=this.minyorg=t.min.apply(t,u);this.maxx=t.max.apply(t,r);this.minx=t.min.apply(t,r);this.xvalues=r;this.yvalues=e;this.yminmax=u},processRangeOptions:function(){var n=this.options,t=n.get("normalRangeMin"),r=n.get("normalRangeMax");t!==i&&(t<this.miny&&(this.miny=t),r>this.maxy&&(this.maxy=r));n.get("chartRangeMin")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMin")<this.miny)&&(this.miny=n.get("chartRangeMin"));n.get("chartRangeMax")!==i&&(n.get("chartRangeClip")||n.get("chartRangeMax")>this.maxy)&&(this.maxy=n.get("chartRangeMax"));n.get("chartRangeMinX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMinX")<this.minx)&&(this.minx=n.get("chartRangeMinX"));n.get("chartRangeMaxX")!==i&&(n.get("chartRangeClipX")||n.get("chartRangeMaxX")>this.maxx)&&(this.maxx=n.get("chartRangeMaxX"))},drawNormalRange:function(n,r,u,f,e){var s=this.options.get("normalRangeMin"),o=this.options.get("normalRangeMax"),h=r+t.round(u-u*((o-this.miny)/e)),c=t.round(u*(o-s)/e);this.target.drawRect(n,h,f,c,i,this.options.get("normalRangeColor")).append()},render:function(){var n=this.options,v=this.target,c=this.canvasWidth,o=this.canvasHeight,at=this.vertices,f=n.get("spotRadius"),pt=this.regionMap,b,y,k,l,a,ht,e,ut,g,d,vt,tt,yt,ct,ft,et,ot,st,nt,it,rt,lt,w,s,u;if(p._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),w=this.xvalues,s=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(l=a=0,b=this.maxx-this.minx==0?1:this.maxx-this.minx,y=this.maxy-this.miny==0?1:this.maxy-this.miny,k=this.yvalues.length-1,f&&(c<f*4||o<f*4)&&(f=0),f&&(rt=n.get("highlightSpotColor")&&!n.get("disableInteraction"),(rt||n.get("minSpotColor")||n.get("spotColor")&&s[k]===this.miny)&&(o-=t.ceil(f)),(rt||n.get("maxSpotColor")||n.get("spotColor")&&s[k]===this.maxy)&&(o-=t.ceil(f),l+=t.ceil(f)),(rt||(n.get("minSpotColor")||n.get("maxSpotColor"))&&(s[0]===this.miny||s[0]===this.maxy))&&(a+=t.ceil(f),c-=t.ceil(f)),(rt||n.get("spotColor")||n.get("minSpotColor")||n.get("maxSpotColor")&&(s[k]===this.miny||s[k]===this.maxy))&&(c-=t.ceil(f))),o--,n.get("normalRangeMin")!==i&&!n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),e=[],ut=[e],ct=ft=null,et=s.length,u=0;u<et;u++)g=w[u],vt=w[u+1],d=s[u],tt=a+t.round((g-this.minx)*(c/b)),yt=u<et-1?a+t.round((vt-this.minx)*(c/b)):c,ft=tt+(yt-tt)/2,pt[u]=[ct||0,ft,u],ct=ft,d===null?u&&(s[u-1]!==null&&(e=[],ut.push(e)),at.push(null)):(d<this.miny&&(d=this.miny),d>this.maxy&&(d=this.maxy),e.length||e.push([tt,l+o]),ht=[tt,l+t.round(o-o*((d-this.miny)/y))],e.push(ht),at.push(ht));for(ot=[],st=[],nt=ut.length,u=0;u<nt;u++)e=ut[u],e.length&&(n.get("fillColor")&&(e.push([e[e.length-1][0],l+o]),st.push(e.slice(0)),e.pop()),e.length>2&&(e[0]=[e[0][0],e[1][1]]),ot.push(e));for(nt=st.length,u=0;u<nt;u++)v.drawShape(st[u],n.get("fillColor"),n.get("fillColor")).append();for(n.get("normalRangeMin")!==i&&n.get("drawNormalOnTop")&&this.drawNormalRange(a,l,o,c,y),nt=ot.length,u=0;u<nt;u++)v.drawShape(ot[u],n.get("lineColor"),i,n.get("lineWidth")).append();if(f&&n.get("valueSpots"))for(it=n.get("valueSpots"),it.get===i&&(it=new h(it)),u=0;u<et;u++)lt=it.get(s[u]),lt&&v.drawCircle(a+t.round((w[u]-this.minx)*(c/b)),l+t.round(o-o*((s[u]-this.miny)/y)),f,i,lt).append();f&&n.get("spotColor")&&s[k]!==null&&v.drawCircle(a+t.round((w[w.length-1]-this.minx)*(c/b)),l+t.round(o-o*((s[k]-this.miny)/y)),f,i,n.get("spotColor")).append();this.maxy!==this.minyorg&&(f&&n.get("minSpotColor")&&(g=w[r.inArray(this.minyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.minyorg-this.miny)/y)),f,i,n.get("minSpotColor")).append()),f&&n.get("maxSpotColor")&&(g=w[r.inArray(this.maxyorg,s)],v.drawCircle(a+t.round((g-this.minx)*(c/b)),l+t.round(o-o*((this.maxyorg-this.miny)/y)),f,i,n.get("maxSpotColor")).append()));this.lastShapeId=v.getLastShapeId();this.canvasTop=l;v.render()}}});r.fn.sparkline.bar=ht=u(r.fn.sparkline._base,a,{type:"bar",init:function(n,u,f,e,c){var ct=parseInt(f.get("barWidth"),10),lt=parseInt(f.get("barSpacing"),10),dt=f.get("chartRangeMin"),gt=f.get("chartRangeMax"),at=f.get("chartRangeClip"),nt=Infinity,d=-Infinity,vt,yt,pt,tt,b,a,rt,wt,ut,ft,y,p,bt,kt,w,et,g,ni,ti,l,k,ii,ot,st;for(ht._super.init.call(this,n,u,f,e,c),a=0,rt=u.length;a<rt;a++)l=u[a],vt=typeof l=="string"&&l.indexOf(":")>-1,(vt||r.isArray(l))&&(w=!0,vt&&(l=u[a]=v(l.split(":"))),l=it(l,null),yt=t.min.apply(t,l),pt=t.max.apply(t,l),yt<nt&&(nt=yt),pt>d&&(d=pt));for(this.stacked=w,this.regionShapes={},this.barWidth=ct,this.barSpacing=lt,this.totalBarWidth=ct+lt,this.width=e=u.length*ct+(u.length-1)*lt,this.initTarget(),at&&(bt=dt===i?-Infinity:dt,kt=gt===i?Infinity:gt),b=[],tt=w?[]:b,ot=[],st=[],a=0,rt=u.length;a<rt;a++)if(w)for(et=u[a],u[a]=ti=[],ot[a]=0,tt[a]=st[a]=0,g=0,ni=et.length;g<ni;g++)l=ti[g]=at?s(et[g],bt,kt):et[g],l!==null&&(l>0&&(ot[a]+=l),nt<0&&d>0?l<0?st[a]+=t.abs(l):tt[a]+=l:tt[a]+=t.abs(l-(l<0?d:nt)),b.push(l));else l=at?s(u[a],bt,kt):u[a],l=u[a]=o(l),l!==null&&b.push(l);this.max=p=t.max.apply(t,b);this.min=y=t.min.apply(t,b);this.stackMax=d=w?t.max.apply(t,ot):p;this.stackMin=nt=w?t.min.apply(t,b):y;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>p)&&(p=f.get("chartRangeMax"));this.zeroAxis=ut=f.get("zeroAxis",!0);ft=y<=0&&p>=0&&ut?0:ut==0?y:y>0?y:p;this.xaxisOffset=ft;wt=w?t.max.apply(t,tt)+t.max.apply(t,st):p-y;this.canvasHeightEf=ut&&y<0?this.canvasHeight-2:this.canvasHeight-1;y<ft?(ii=w&&p>=0?d:p,k=(ii-ft)/wt*this.canvasHeight,k!==t.ceil(k)&&(this.canvasHeightEf-=2,k=t.ceil(k))):k=this.canvasHeight;this.yoffset=k;r.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.range=wt},getRegion:function(n,r){var u=t.floor(r/this.totalBarWidth);return u<0||u>=this.values.length?i:u},getCurrentRegionFields:function(){for(var i=this.currentRegion,r=ft(this.values[i]),u=[],n,t=r.length;t--;)n=r[t],u.push({isNull:n===null,value:n,color:this.calcColor(t,n,i),offset:i});return u},calcColor:function(n,t,u){var o=this.colorMapByIndex,s=this.colorMapByValue,e=this.options,f,h;return f=this.stacked?e.get("stackedBarColor"):t<0?e.get("negBarColor"):e.get("barColor"),t===0&&e.get("zeroColor")!==i&&(f=e.get("zeroColor")),s&&(h=s.get(t))?f=h:o&&o.length>u&&(f=o[u]),r.isArray(f)?f[n%f.length]:f},renderRegion:function(n,u){var f=this.values[n],h=this.options,c=this.xaxisOffset,p=[],b=this.range,rt=this.stacked,k=this.target,d=n*this.totalBarWidth,ut=this.canvasHeightEf,o=this.yoffset,l,a,e,g,w,v,nt,s,tt,it;if(f=r.isArray(f)?f:[f],nt=f.length,s=f[0],g=y(null,f),it=y(c,f,!0),g)return h.get("nullColor")?(e=u?h.get("nullColor"):this.calcHighlightColor(h.get("nullColor"),h),l=o>0?o-1:o,k.drawRect(d,l,this.barWidth-1,0,e,e)):i;for(w=o,v=0;v<nt;v++){if(s=f[v],rt&&s===c){if(!it||tt)continue;tt=!0}a=b>0?t.floor(ut*(t.abs(s-c)/b))+1:1;s<c||s===c&&o===0?(l=w,w+=a):(l=o-a,o-=a);e=this.calcColor(v,s,n);u&&(e=this.calcHighlightColor(e,h));p.push(k.drawRect(d,l,this.barWidth-1,a-1,e,e))}return p.length===1?p[0]:p}});r.fn.sparkline.tristate=ct=u(r.fn.sparkline._base,a,{type:"tristate",init:function(n,t,u,f,e){var o=parseInt(u.get("barWidth"),10),s=parseInt(u.get("barSpacing"),10);ct._super.init.call(this,n,t,u,f,e);this.regionShapes={};this.barWidth=o;this.barSpacing=s;this.totalBarWidth=o+s;this.values=r.map(t,Number);this.width=f=t.length*o+(t.length-1)*s;r.isArray(u.get("colorMap"))?(this.colorMapByIndex=u.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=u.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===i&&(this.colorMapByValue=new h(this.colorMapByValue)));this.initTarget()},getRegion:function(n,i){return t.floor(i/this.totalBarWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],color:this.calcColor(this.values[n],n),offset:n}},calcColor:function(n,t){var u=this.values,i=this.options,r=this.colorMapByIndex,f=this.colorMapByValue,e,o;return e=f&&(o=f.get(n))?o:r&&r.length>t?r[t]:u[t]<0?i.get("negBarColor"):u[t]>0?i.get("posBarColor"):i.get("zeroBarColor"),e},renderRegion:function(n,i){var o=this.values,l=this.options,s=this.target,h,f,u,c,e,r;if(h=s.pixelHeight,u=t.round(h/2),c=n*this.totalBarWidth,o[n]<0?(e=u,f=u-1):o[n]>0?(e=0,f=u-1):(e=u-1,f=2),r=this.calcColor(o[n],n),r!==null)return i&&(r=this.calcHighlightColor(r,l)),s.drawRect(c,e,this.barWidth-1,f-1,r,r)}});r.fn.sparkline.discrete=lt=u(r.fn.sparkline._base,a,{type:"discrete",init:function(n,u,f,e,o){lt._super.init.call(this,n,u,f,e,o);this.regionShapes={};this.values=u=r.map(u,Number);this.min=t.min.apply(t,u);this.max=t.max.apply(t,u);this.range=this.max-this.min;this.width=e=f.get("width")==="auto"?u.length*2:this.width;this.interval=t.floor(e/u.length);this.itemWidth=e/u.length;f.get("chartRangeMin")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin"));f.get("chartRangeMax")!==i&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax"));this.initTarget();this.target&&(this.lineHeight=f.get("lineHeight")==="auto"?t.round(this.canvasHeight*.3):f.get("lineHeight"))},getRegion:function(n,i){return t.floor(i/this.itemWidth)},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],offset:n}},renderRegion:function(n,i){var a=this.values,r=this.options,h=this.min,v=this.max,y=this.range,p=this.interval,w=this.target,b=this.canvasHeight,c=this.lineHeight,l=b-c,f,e,u,o;return e=s(a[n],h,v),o=n*p,f=t.round(l-l*((e-h)/y)),u=r.get("thresholdColor")&&e<r.get("thresholdValue")?r.get("thresholdColor"):r.get("lineColor"),i&&(u=this.calcHighlightColor(u,r)),w.drawLine(o,f,o,f+c,u)}});r.fn.sparkline.bullet=w=u(r.fn.sparkline._base,{type:"bullet",init:function(n,r,u,f,e){var s,h,o;w._super.init.call(this,n,r,u,f,e);this.values=r=v(r);o=r.slice();o[0]=o[0]===null?o[2]:o[0];o[1]=r[1]===null?o[2]:o[1];s=t.min.apply(t,r);h=t.max.apply(t,r);s=u.get("base")===i?s<0?s:0:u.get("base");this.min=s;this.max=h;this.range=h-s;this.shapes={};this.valueShapes={};this.regiondata={};this.width=f=u.get("width")==="auto"?"4.0em":f;this.target=this.$el.simpledraw(f,e,u.get("composite"));r.length||(this.disabled=!0);this.initTarget()},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{fieldkey:n.substr(0,1),value:this.values[n.substr(1)],region:n}},changeHighlight:function(n){var i=this.currentRegion,r=this.valueShapes[i],t;delete this.shapes[r];switch(i.substr(0,1)){case"r":t=this.renderRange(i.substr(1),n);break;case"p":t=this.renderPerformance(n);break;case"t":t=this.renderTarget(n)}this.valueShapes[i]=t.id;this.shapes[t.id]=i;this.target.replaceWithShape(r,t)},renderRange:function(n,i){var u=this.values[n],f=t.round(this.canvasWidth*((u-this.min)/this.range)),r=this.options.get("rangeColors")[n-2];return i&&(r=this.calcHighlightColor(r,this.options)),this.target.drawRect(0,0,f-1,this.canvasHeight-1,r,r)},renderPerformance:function(n){var r=this.values[1],u=t.round(this.canvasWidth*((r-this.min)/this.range)),i=this.options.get("performanceColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(0,t.round(this.canvasHeight*.3),u-1,t.round(this.canvasHeight*.4)-1,i,i)},renderTarget:function(n){var u=this.values[0],f=t.round(this.canvasWidth*((u-this.min)/this.range)-this.options.get("targetWidth")/2),r=t.round(this.canvasHeight*.1),e=this.canvasHeight-r*2,i=this.options.get("targetColor");return n&&(i=this.calcHighlightColor(i,this.options)),this.target.drawRect(f,r,this.options.get("targetWidth")-1,e-1,i,i)},render:function(){var i=this.values.length,r=this.target,t,n;if(w._super.render.call(this)){for(t=2;t<i;t++)n=this.renderRange(t).append(),this.shapes[n.id]="r"+t,this.valueShapes["r"+t]=n.id;this.values[1]!==null&&(n=this.renderPerformance().append(),this.shapes[n.id]="p1",this.valueShapes.p1=n.id);this.values[0]!==null&&(n=this.renderTarget().append(),this.shapes[n.id]="t0",this.valueShapes.t0=n.id);r.render()}}});r.fn.sparkline.pie=b=u(r.fn.sparkline._base,{type:"pie",init:function(n,i,u,f,e){var s=0,o;if(b._super.init.call(this,n,i,u,f,e),this.shapes={},this.valueShapes={},this.values=i=r.map(i,Number),u.get("width")==="auto"&&(this.width=this.height),i.length>0)for(o=i.length;o--;)s+=i[o];this.total=s;this.initTarget();this.radius=t.floor(t.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(n,t,r){var u=this.target.getShapeAt(n,t,r);return u!==i&&this.shapes[u]!==i?this.shapes[u]:i},getCurrentRegionFields:function(){var n=this.currentRegion;return{isNull:this.values[n]===i,value:this.values[n],percent:this.values[n]/this.total*100,color:this.options.get("sliceColors")[n%this.options.get("sliceColors").length],offset:n}},changeHighlight:function(n){var t=this.currentRegion,i=this.renderSlice(t,n),r=this.valueShapes[t];delete this.shapes[r];this.target.replaceWithShape(r,i);this.valueShapes[t]=i.id;this.shapes[i.id]=t},renderSlice:function(n,r){for(var p=this.target,f=this.options,h=this.radius,w=f.get("borderWidth"),c=f.get("offset"),b=2*t.PI,l=this.values,a=this.total,e=c?2*t.PI*(c/360):0,v,o,s,y=l.length,u=0;u<y;u++){if(v=e,o=e,a>0&&(o=e+b*(l[u]/a)),n===u)return s=f.get("sliceColors")[u%f.get("sliceColors").length],r&&(s=this.calcHighlightColor(s,f)),p.drawPieSlice(h,h,h-w,v,o,i,s);e=o}},render:function(){var e=this.target,o=this.values,s=this.options,r=this.radius,u=s.get("borderWidth"),f,n;if(b._super.render.call(this)){for(u&&e.drawCircle(r,r,t.floor(r-u/2),s.get("borderColor"),i,u).append(),n=o.length;n--;)o[n]&&(f=this.renderSlice(n).append(),this.valueShapes[n]=f.id,this.shapes[f.id]=n);e.render()}}});r.fn.sparkline.box=k=u(r.fn.sparkline._base,{type:"box",init:function(n,t,i,u,f){k._super.init.call(this,n,t,i,u,f);this.values=r.map(t,Number);this.width=i.get("width")==="auto"?"4.0em":u;this.initTarget();this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var n=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==i&&n.push({field:"lo",value:this.loutlier}),this.routlier!==i&&n.push({field:"ro",value:this.routlier}),this.lwhisker!==i&&n.push({field:"lw",value:this.lwhisker}),this.rwhisker!==i&&n.push({field:"rw",value:this.rwhisker}),n},render:function(){var s=this.target,r=this.values,g=r.length,n=this.options,nt=this.canvasWidth,u=this.canvasHeight,e=n.get("chartRangeMin")===i?t.min.apply(t,r):n.get("chartRangeMin"),it=n.get("chartRangeMax")===i?t.max.apply(t,r):n.get("chartRangeMax"),o=0,h,w,tt,a,p,v,c,b,y,d,f;if(k._super.render.call(this)){if(n.get("raw"))n.get("showOutliers")&&r.length>5?(w=r[0],h=r[1],a=r[2],p=r[3],v=r[4],c=r[5],b=r[6]):(h=r[0],a=r[1],p=r[2],v=r[3],c=r[4]);else if(r.sort(function(n,t){return n-t}),a=l(r,1),p=l(r,2),v=l(r,3),tt=v-a,n.get("showOutliers")){for(h=c=i,y=0;y<g;y++)h===i&&r[y]>a-tt*n.get("outlierIQR")&&(h=r[y]),r[y]<v+tt*n.get("outlierIQR")&&(c=r[y]);w=r[0];b=r[g-1]}else h=r[0],c=r[g-1];this.quartiles=[a,p,v];this.lwhisker=h;this.rwhisker=c;this.loutlier=w;this.routlier=b;f=nt/(it-e+1);n.get("showOutliers")&&(o=t.ceil(n.get("spotRadius")),nt-=2*t.ceil(n.get("spotRadius")),f=nt/(it-e+1),w<h&&s.drawCircle((w-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append(),b>c&&s.drawCircle((b-e)*f+o,u/2,n.get("spotRadius"),n.get("outlierLineColor"),n.get("outlierFillColor")).append());s.drawRect(t.round((a-e)*f+o),t.round(u*.1),t.round((v-a)*f),t.round(u*.8),n.get("boxLineColor"),n.get("boxFillColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/2),t.round((a-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((h-e)*f+o),t.round(u/4),t.round((h-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/2),t.round((v-e)*f+o),t.round(u/2),n.get("lineColor")).append();s.drawLine(t.round((c-e)*f+o),t.round(u/4),t.round((c-e)*f+o),t.round(u-u/4),n.get("whiskerColor")).append();s.drawLine(t.round((p-e)*f+o),t.round(u*.1),t.round((p-e)*f+o),t.round(u*.9),n.get("medianColor")).append();n.get("target")&&(d=t.ceil(n.get("spotRadius")),s.drawLine(t.round((n.get("target")-e)*f+o),t.round(u/2-d),t.round((n.get("target")-e)*f+o),t.round(u/2+d),n.get("targetColor")).append(),s.drawLine(t.round((n.get("target")-e)*f+o-d),t.round(u/2),t.round((n.get("target")-e)*f+o+d),t.round(u/2),n.get("targetColor")).append());s.render()}}});yt=u({init:function(n,t,i,r){this.target=n;this.id=t;this.type=i;this.args=r},append:function(){return this.target.appendShape(this),this}});d=u({_pxregex:/(\d+)(px)?\s*$/i,init:function(n,t,i){n&&(this.width=n,this.height=t,this.target=i,this.lastShapeId=null,i[0]&&(i=i[0]),r.data(i,"_jqs_vcanvas",this))},drawLine:function(n,t,i,r,u,f){return this.drawShape([[n,t],[i,r]],u,f)},drawShape:function(n,t,i,r){return this._genShape("Shape",[n,t,i,r])},drawCircle:function(n,t,i,r,u,f){return this._genShape("Circle",[n,t,i,r,u,f])},drawPieSlice:function(n,t,i,r,u,f,e){return this._genShape("PieSlice",[n,t,i,r,u,f,e])},drawRect:function(n,t,i,r,u,f){return this._genShape("Rect",[n,t,i,r,u,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(n,t){r(t).html(n)},_calculatePixelDims:function(n,t,i){var u;u=this._pxregex.exec(t);this.pixelHeight=u?u[1]:r(i).height();u=this._pxregex.exec(n);this.pixelWidth=u?u[1]:r(i).width()},_genShape:function(n,t){var i=wt++;return t.unshift(i),new yt(this,i,n,t)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}});g=u(d,{init:function(t,u,f,e){g._super.init.call(this,t,u,f);this.canvas=n.createElement("canvas");f[0]&&(f=f[0]);r.data(f,"_jqs_vcanvas",this);r(this.canvas).css({display:"inline-block",width:t,height:u,verticalAlign:"top"});this._insert(this.canvas,f);this._calculatePixelDims(t,u,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;this.interact=e;this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i;r(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(n,t,r){var u=this.canvas.getContext("2d");return n!==i&&(u.strokeStyle=n),u.lineWidth=r===i?1:r,t!==i&&(u.fillStyle=t),u},reset:function(){var n=this._getContext();n.clearRect(0,0,this.pixelWidth,this.pixelHeight);this.shapes={};this.shapeseq=[];this.currentTargetShapeId=i},_drawShape:function(n,t,r,u,f){var e=this._getContext(r,u,f),o,s;for(e.beginPath(),e.moveTo(t[0][0]+.5,t[0][1]+.5),o=1,s=t.length;o<s;o++)e.lineTo(t[o][0]+.5,t[o][1]+.5);r!==i&&e.stroke();u!==i&&e.fill();this.targetX!==i&&this.targetY!==i&&e.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawCircle:function(n,r,u,f,e,o,s){var h=this._getContext(e,o,s);h.beginPath();h.arc(r,u,f,0,2*t.PI,!1);this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n);e!==i&&h.stroke();o!==i&&h.fill()},_drawPieSlice:function(n,t,r,u,f,e,o,s){var h=this._getContext(o,s);h.beginPath();h.moveTo(t,r);h.arc(t,r,u,f,e,!1);h.lineTo(t,r);h.closePath();o!==i&&h.stroke();s&&h.fill();this.targetX!==i&&this.targetY!==i&&h.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=n)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t+r,i],[t+r,i+u],[t,i+u],[t,i]],f,e)},appendShape:function(n){return this.shapes[n.id]=n,this.shapeseq.push(n.id),this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var r=this.shapeseq,i;for(this.shapes[t.id]=t,i=r.length;i--;)r[i]==n&&(r[i]=t.id);delete this.shapes[n]},replaceWithShapes:function(n,t){for(var r=this.shapeseq,f={},u,e,i=n.length;i--;)f[n[i]]=!0;for(i=r.length;i--;)u=r[i],f[u]&&(r.splice(i,1),delete this.shapes[u],e=i);for(i=t.length;i--;)r.splice(e,0,t[i].id),this.shapes[t[i].id]=t[i]},insertAfterShape:function(n,t){for(var r=this.shapeseq,i=r.length;i--;)if(r[i]===n){r.splice(i+1,0,t.id);this.shapes[t.id]=t;return}},removeShapeId:function(n){for(var i=this.shapeseq,t=i.length;t--;)if(i[t]===n){i.splice(t,1);break}delete this.shapes[n]},getShapeAt:function(n,t,i){return this.targetX=t,this.targetY=i,this.render(),this.currentTargetShapeId},render:function(){var i=this.shapeseq,u=this.shapes,f=i.length,e=this._getContext(),r,t,n;for(e.clearRect(0,0,this.pixelWidth,this.pixelHeight),n=0;n<f;n++)r=i[n],t=u[r],this["_draw"+t.type].apply(this,t.args);this.interact||(this.shapes={},this.shapeseq=[])}});nt=u(d,{init:function(t,i,u){var f;nt._super.init.call(this,t,i,u);u[0]&&(u=u[0]);r.data(u,"_jqs_vcanvas",this);this.canvas=n.createElement("span");r(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:t,height:i,margin:"0px",padding:"0px",verticalAlign:"top"});this._insert(this.canvas,u);this._calculatePixelDims(t,i,this.canvas);this.canvas.width=this.pixelWidth;this.canvas.height=this.pixelHeight;f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"><\/v:group>';this.canvas.insertAdjacentHTML("beforeEnd",f);this.group=r(this.canvas).children()[0];this.rendered=!1;this.prerender=""},_drawShape:function(n,t,r,u,f){for(var e=[],s,h,c,l,a,o=0,v=t.length;o<v;o++)e[o]=""+t[o][0]+","+t[o][1];return s=e.splice(0,1),f=f===i?1:f,h=r===i?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+r+'" ',c=u===i?' filled="false"':' fillColor="'+u+'" filled="true" ',l=e[0]===e[e.length-1]?"x ":"",a='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+h+c+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+s+" l "+e.join(", ")+" "+l+'e"> <\/v:shape>',a},_drawCircle:function(n,t,r,u,f,e,o){var s,h,c;return t-=u,r-=u,s=f===i?' stroked="false" ':' strokeWeight="'+o+'px" strokeColor="'+f+'" ',h=e===i?' filled="false"':' fillColor="'+e+'" filled="true" ',c='<v:oval  id="jqsshape'+n+'" '+s+h+' style="position:absolute;top:'+r+"px; left:"+t+"px; width:"+u*2+"px; height:"+u*2+'px"><\/v:oval>',c},_drawPieSlice:function(n,r,u,f,e,o,s,h){var y,c,l,a,v,p,w,b;if(e===o)return"";if(o-e==2*t.PI&&(e=0,o=2*t.PI),c=r+t.round(t.cos(e)*f),l=u+t.round(t.sin(e)*f),a=r+t.round(t.cos(o)*f),v=u+t.round(t.sin(o)*f),c===a&&l===v){if(o-e<t.PI)return"";c=a=r+f;l=v=u}return c===a&&l===v&&o-e<t.PI?"":(y=[r-f,u-f,r+f,u+f,c,l,a,v],p=s===i?' stroked="false" ':' strokeWeight="1px" strokeColor="'+s+'" ',w=h===i?' filled="false"':' fillColor="'+h+'" filled="true" ',b='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+n+'" '+p+w+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+r+","+u+" wa "+y.join(", ")+' x e"> <\/v:shape>',b)},_drawRect:function(n,t,i,r,u,f,e){return this._drawShape(n,[[t,i],[t,i+u],[t+r,i+u],[t+r,i],[t,i]],f,e)},reset:function(){this.group.innerHTML=""},appendShape:function(n){var t=this["_draw"+n.type].apply(this,n.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",t):this.prerender+=t,this.lastShapeId=n.id,n.id},replaceWithShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].outerHTML=u},replaceWithShapes:function(n,t){for(var f=r("#jqsshape"+n[0]),u="",e=t.length,i=0;i<e;i++)u+=this["_draw"+t[i].type].apply(this,t[i].args);for(f[0].outerHTML=u,i=1;i<n.length;i++)r("#jqsshape"+n[i]).remove()},insertAfterShape:function(n,t){var i=r("#jqsshape"+n),u=this["_draw"+t.type].apply(this,t.args);i[0].insertAdjacentHTML("afterEnd",u)},removeShapeId:function(n){var t=r("#jqsshape"+n);this.group.removeChild(t[0])},getShapeAt:function(n){return n.id.substr(8)},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(n){n.fn.toggles=function(t){function u(n,t,u,o){var h=n.toggleClass("active").hasClass("active"),s,c;o!==h&&(s=n.find(".toggle-inner").css(f),n.find(".toggle-off").toggleClass("active"),n.find(".toggle-on").toggleClass("active"),i.checkbox.prop("checked",h),r||(c=h?0:-t+u,s.css("margin-left",c),setTimeout(function(){s.css(e);s.css("margin-left",c)},i.animate)))}var i,r,f,e;return t=t||{},i=n.extend({drag:!0,click:!0,text:{on:"ON",off:"OFF"},on:!1,animate:250,transition:"ease-in-out",checkbox:null,clicker:null,width:50,height:20,type:"compact"},t),r="select"==i.type,i.checkbox=n(i.checkbox),i.clicker&&(i.clicker=n(i.clicker)),t="margin-left "+i.animate+"ms "+i.transition,f={"-webkit-transition":t,"-moz-transition":t,transition:t},e={"-webkit-transition":"","-moz-transition":"",transition:""},this.each(function(){var e=n(this),f=e.height(),o=e.width();f&&o||(e.height(f=i.height),e.width(o=i.width));var t=n('<div class="toggle-slide">'),c=n('<div class="toggle-inner">'),y=n('<div class="toggle-on">'),p=n('<div class="toggle-off">'),h=n('<div class="toggle-blob">'),l=f/2,v=o-l;y.css({height:f,width:v,textAlign:"center",textIndent:r?"":-l,lineHeight:f+"px"}).html(i.text.on);p.css({height:f,width:v,marginLeft:r?"":-l,textAlign:"center",textIndent:r?"":l,lineHeight:f+"px"}).html(i.text.off).addClass("active");h.css({height:f,width:f,marginLeft:-l});c.css({width:2*o-f,marginLeft:r?0:-o+f});r&&(t.addClass("toggle-select"),e.css("width",2*v),h.hide());e.html(t.html(c.append(y,h,p)));t.on("toggle",function(n,i){n&&n.stopPropagation();u(t,o,f);e.trigger("toggle",!i)});e.on("toggleOn",function(){u(t,o,f,!1)});e.on("toggleOff",function(){u(t,o,f,!0)});if(i.on&&u(t,o,f),i.click&&(!i.clicker||!i.clicker.has(e).length))e.on("click",function(n){n.target==h[0]&&i.drag||t.trigger("toggle",t.hasClass("active"))});if(i.clicker)i.clicker.on("click",function(n){n.target==h[0]&&i.drag||t.trigger("toggle",t.hasClass("active"))});if(i.drag&&!r){var s,w=(o-f)/4,b=function(n){e.off("mousemove");t.off("mouseleave");h.off("mouseup");var r=t.hasClass("active");!s&&i.click&&"mouseleave"!==n.type?t.trigger("toggle",r):r?s<-w?t.trigger("toggle",r):c.animate({marginLeft:0},i.animate/2):s>w?t.trigger("toggle",r):c.animate({marginLeft:-o+f},i.animate/2)},a=-o+f;h.on("mousedown",function(n){s=0;h.off("mouseup");t.off("mouseleave");var i=n.pageX;e.on("mousemove",h,function(n){s=n.pageX-i;t.hasClass("active")?(n=s,0<s&&(n=0),s<a&&(n=a)):(n=s+a,0>s&&(n=a),s>-a&&(n=0));c.css("margin-left",n)});h.on("mouseup",b);t.on("mouseleave",b)})}})}}(jQuery),function(n,t,i){var r=function(r){var u=function(f){function gt(n,f){var e=u.defaults.columns,o=n.aoColumns.length,e=r.extend({},u.models.oColumn,e,{sSortingClass:n.oClasses.sSortable,sSortingClassJUI:n.oClasses.sSortJUI,nTh:f?f:t.createElement("th"),sTitle:e.sTitle?e.sTitle:f?f.innerHTML:"",aDataSort:e.aDataSort?e.aDataSort:[o],mData:e.mData?e.oDefaults:o});n.aoColumns.push(e);n.aoPreSearchCols[o]===i||null===n.aoPreSearchCols[o]?n.aoPreSearchCols[o]=r.extend({},u.models.oSearch):(e=n.aoPreSearchCols[o],e.bRegex===i&&(e.bRegex=!0),e.bSmart===i&&(e.bSmart=!0),e.bCaseInsensitive===i)&&(e.bCaseInsensitive=!0);ni(n,o,null)}function ni(n,t,u){var f=n.aoColumns[t],o,s;u!==i&&null!==u&&(u.mDataProp&&!u.mData&&(u.mData=u.mDataProp),u.sType!==i&&(f.sType=u.sType,f._bAutoType=!1),r.extend(f,u),e(f,u,"sWidth","sWidthOrig"),u.iDataSort!==i&&(f.aDataSort=[u.iDataSort]),e(f,u,"aDataSort"));o=f.mRender?et(f.mRender):null;s=et(f.mData);f.fnGetData=function(n,t){var i=s(n,t);return f.mRender&&t&&""!==t?o(i,t,n):i};f.fnSetData=ir(f.mData);n.oFeatures.bSort||(f.bSortable=!1);!f.bSortable||-1==r.inArray("asc",f.asSorting)&&-1==r.inArray("desc",f.asSorting)?(f.sSortingClass=n.oClasses.sSortableNone,f.sSortingClassJUI=""):-1==r.inArray("asc",f.asSorting)&&-1==r.inArray("desc",f.asSorting)?(f.sSortingClass=n.oClasses.sSortable,f.sSortingClassJUI=n.oClasses.sSortJUI):-1!=r.inArray("asc",f.asSorting)&&-1==r.inArray("desc",f.asSorting)?(f.sSortingClass=n.oClasses.sSortableAsc,f.sSortingClassJUI=n.oClasses.sSortJUIAscAllowed):-1==r.inArray("asc",f.asSorting)&&-1!=r.inArray("desc",f.asSorting)&&(f.sSortingClass=n.oClasses.sSortableDesc,f.sSortingClassJUI=n.oClasses.sSortJUIDescAllowed)}function vt(n){if(!1===n.oFeatures.bAutoWidth)return!1;wi(n);for(var t=0,i=n.aoColumns.length;t<i;t++)n.aoColumns[t].nTh.style.width=n.aoColumns[t].sWidth}function di(n,t){var i=k(n,"bVisible");return"number"==typeof i[t]?i[t]:null}function ti(n,t){var i=k(n,"bVisible"),i=r.inArray(t,i);return-1!==i?i:null}function ft(n){return k(n,"bVisible").length}function k(n,t){var i=[];return r.map(n.aoColumns,function(n,r){n[t]&&i.push(r)}),i}function ii(n){for(var i,r=u.ext.aTypes,f=r.length,t=0;t<f;t++)if(i=r[t](n),null!==i)return i;return"string"}function gi(n,t){for(var i,e=t.split(","),u=[],r=0,f=n.aoColumns.length;r<f;r++)for(i=0;i<f;i++)if(n.aoColumns[r].sName==e[i]){u.push(i);break}return u}function ri(n){for(var t="",i=0,r=n.aoColumns.length;i<r;i++)t+=n.aoColumns[i].sName+",";return t.length==r?"":t.slice(0,-1)}function nr(n,t,i,u){var o,e,h,s,c,f;if(t)for(o=t.length-1;0<=o;o--)for(f=t[o].aTargets,r.isArray(f)||w(n,1,"aTargets must be an array of targets, not a "+typeof f),e=0,h=f.length;e<h;e++)if("number"==typeof f[e]&&0<=f[e]){for(;n.aoColumns.length<=f[e];)gt(n);u(f[e],t[o])}else if("number"==typeof f[e]&&0>f[e])u(n.aoColumns.length+f[e],t[o]);else if("string"==typeof f[e])for(s=0,c=n.aoColumns.length;s<c;s++)("_all"==f[e]||r(n.aoColumns[s].nTh).hasClass(f[e]))&&u(s,t[o]);if(i)for(o=0,n=i.length;o<n;o++)u(o,i[o])}function d(n,t){var i,e,o,f,s;for(i=r.isArray(t)?t.slice():r.extend(!0,{},t),e=n.aoData.length,f=r.extend(!0,{},u.models.oRow),f._aData=i,n.aoData.push(f),f=0,s=n.aoColumns.length;f<s;f++)i=n.aoColumns[f],"function"==typeof i.fnRender&&i.bUseRendered&&null!==i.mData?b(n,e,f,ot(n,e,f)):b(n,e,f,h(n,e,f)),i._bAutoType&&"string"!=i.sType&&(o=h(n,e,f,"type"),null!==o&&""!==o&&(o=ii(o),null===i.sType?i.sType=o:i.sType!=o&&"html"!=i.sType&&(i.sType="string")));return n.aiDisplayMaster.push(e),n.oFeatures.bDeferRender||oi(n,e),e}function tr(n){var f,t,l,a,e,o,i;if(n.bDeferLoading||null===n.sAjaxSource)for(f=n.nTBody.firstChild;f;){if("TR"==f.nodeName.toUpperCase())for(t=n.aoData.length,f._DT_RowIndex=t,n.aoData.push(r.extend(!0,{},u.models.oRow,{nTr:f})),n.aiDisplayMaster.push(t),e=f.firstChild,l=0;e;)o=e.nodeName.toUpperCase(),("TD"==o||"TH"==o)&&(b(n,t,l,r.trim(e.innerHTML)),l++),e=e.nextSibling;f=f.nextSibling}for(a=ct(n),l=[],f=0,t=a.length;f<t;f++)for(e=a[f].firstChild;e;)o=e.nodeName.toUpperCase(),("TD"==o||"TH"==o)&&l.push(e),e=e.nextSibling;for(t=0,a=n.aoColumns.length;t<a;t++){i=n.aoColumns[t];null===i.sTitle&&(i.sTitle=i.nTh.innerHTML);var y=i._bAutoType,p="function"==typeof i.fnRender,w=null!==i.sClass,k=i.bVisible,s,c;if(y||p||w||!k)for(o=0,f=n.aoData.length;o<f;o++)e=n.aoData[o],s=l[o*a+t],y&&"string"!=i.sType&&(c=h(n,o,t,"type"),""!==c&&(c=ii(c),null===i.sType?i.sType=c:i.sType!=c&&"html"!=i.sType&&(i.sType="string"))),i.mRender?s.innerHTML=h(n,o,t,"display"):i.mData!==t&&(s.innerHTML=h(n,o,t,"display")),p&&(c=ot(n,o,t),s.innerHTML=c,i.bUseRendered&&b(n,o,t,c)),w&&(s.className+=" "+i.sClass),k?e._anHidden[t]=null:(e._anHidden[t]=s,s.parentNode.removeChild(s)),i.fnCreatedCell&&i.fnCreatedCell.call(n.oInstance,s,h(n,o,t,"display"),e._aData,o,t)}if(0!==n.aoRowCreatedCallback.length)for(f=0,t=n.aoData.length;f<t;f++)e=n.aoData[f],v(n,"aoRowCreatedCallback",null,[e.nTr,e._aData,f])}function g(n,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null}function ui(n,t,i){for(var t=tt(n,t),r=0,n=n.aoColumns.length;r<n;r++)if(t[r]===i)return r;return-1}function yt(n,t,i,r){for(var f=[],u=0,e=r.length;u<e;u++)f.push(h(n,t,r[u],i));return f}function h(n,t,r,u){var f=n.aoColumns[r];if((r=f.fnGetData(n.aoData[t]._aData,u))===i)return n.iDrawError!=n.iDraw&&null===f.sDefaultContent&&(w(n,0,"Requested unknown parameter "+("function"==typeof f.mData?"{mData function}":"'"+f.mData+"'")+" from the data source for row "+t),n.iDrawError=n.iDraw),f.sDefaultContent;if(null===r&&null!==f.sDefaultContent)r=f.sDefaultContent;else if("function"==typeof r)return r();return"display"==u&&null===r?"":r}function b(n,t,i,r){n.aoColumns[i].fnSetData(n.aoData[t]._aData,r)}function et(n){if(null===n)return function(){return null};if("function"==typeof n)return function(t,i,r){return n(t,i,r)};if("string"==typeof n&&(-1!==n.indexOf(".")||-1!==n.indexOf("["))){var t=function(n,r,u){var e=u.split("."),o,f;if(""!==u)for(f=0,o=e.length;f<o;f++){if(u=e[f].match(lt)){e[f]=e[f].replace(lt,"");""!==e[f]&&(n=n[e[f]]);o=[];e.splice(0,f+1);for(var e=e.join("."),f=0,s=n.length;f<s;f++)o.push(t(n[f],r,e));n=u[0].substring(1,u[0].length-1);n=""===n?o:o.join(n);break}if(null===n||n[e[f]]===i)return i;n=n[e[f]]}return n};return function(i,r){return t(i,r,n)}}return function(t){return t[n]}}function ir(n){if(null===n)return function(){};if("function"==typeof n)return function(t,i){n(t,"set",i)};if("string"==typeof n&&(-1!==n.indexOf(".")||-1!==n.indexOf("["))){var t=function(n,r,u){for(var u=u.split("."),e,f=0,s,h,o=u.length-1;f<o;f++){if(e=u[f].match(lt)){for(u[f]=u[f].replace(lt,""),n[u[f]]=[],e=u.slice(),e.splice(0,f+1),o=e.join("."),s=0,h=r.length;s<h;s++)e={},t(e,r[s],o),n[u[f]].push(e);return}(null===n[u[f]]||n[u[f]]===i)&&(n[u[f]]={});n=n[u[f]]}n[u[u.length-1].replace(lt,"")]=r};return function(i,r){return t(i,r,n)}}return function(t,i){t[n]=i}}function pt(n){for(var i=[],r=n.aoData.length,t=0;t<r;t++)i.push(n.aoData[t]._aData);return i}function fi(n){n.aoData.splice(0,n.aoData.length);n.aiDisplayMaster.splice(0,n.aiDisplayMaster.length);n.aiDisplay.splice(0,n.aiDisplay.length);l(n)}function ei(n,t){for(var r=-1,i=0,u=n.length;i<u;i++)n[i]==t?r=i:n[i]>t&&n[i]--;-1!=r&&n.splice(r,1)}function ot(n,t,i){var r=n.aoColumns[i];return r.fnRender({iDataRow:t,iDataColumn:i,oSettings:n,aData:n.aoData[t]._aData,mDataProp:r.mData},h(n,t,i,"display"))}function oi(n,i){var r=n.aoData[i],e,u,o,f;if(null===r.nTr){for(r.nTr=t.createElement("tr"),r.nTr._DT_RowIndex=i,r._aData.DT_RowId&&(r.nTr.id=r._aData.DT_RowId),r._aData.DT_RowClass&&(r.nTr.className=r._aData.DT_RowClass),u=0,o=n.aoColumns.length;u<o;u++)f=n.aoColumns[u],e=t.createElement(f.sCellType),e.innerHTML="function"==typeof f.fnRender&&(!f.bUseRendered||null===f.mData)?ot(n,i,u):h(n,i,u,"display"),null!==f.sClass&&(e.className=f.sClass),f.bVisible?(r.nTr.appendChild(e),r._anHidden[u]=null):r._anHidden[u]=e,f.fnCreatedCell&&f.fnCreatedCell.call(n.oInstance,e,h(n,i,u,"display"),r._aData,i,u);v(n,"aoRowCreatedCallback",null,[r.nTr,r._aData,i])}}function rr(n){var i,u,f,e,o;if(0!==r("th, td",n.nTHead).length)for(i=0,f=n.aoColumns.length;i<f;i++)(u=n.aoColumns[i].nTh,u.setAttribute("role","columnheader"),n.aoColumns[i].bSortable&&(u.setAttribute("tabindex",n.iTabIndex),u.setAttribute("aria-controls",n.sTableId)),null!==n.aoColumns[i].sClass&&r(u).addClass(n.aoColumns[i].sClass),n.aoColumns[i].sTitle!=u.innerHTML)&&(u.innerHTML=n.aoColumns[i].sTitle);else{for(e=t.createElement("tr"),i=0,f=n.aoColumns.length;i<f;i++)u=n.aoColumns[i].nTh,u.innerHTML=n.aoColumns[i].sTitle,u.setAttribute("tabindex","0"),null!==n.aoColumns[i].sClass&&r(u).addClass(n.aoColumns[i].sClass),e.appendChild(u);r(n.nTHead).html("")[0].appendChild(e);ht(n.aoHeader,n.nTHead)}if(r(n.nTHead).children("tr").attr("role","row"),n.bJUI)for(i=0,f=n.aoColumns.length;i<f;i++)u=n.aoColumns[i].nTh,e=t.createElement("div"),e.className=n.oClasses.sSortJUIWrapper,r(u).contents().appendTo(e),o=t.createElement("span"),o.className=n.oClasses.sSortIcon,e.appendChild(o),u.appendChild(e);if(n.oFeatures.bSort)for(i=0;i<n.aoColumns.length;i++)!1!==n.aoColumns[i].bSortable?bi(n,n.aoColumns[i].nTh,i):r(n.aoColumns[i].nTh).addClass(n.oClasses.sSortableNone);if(""!==n.oClasses.sFooterTH&&r(n.nTFoot).children("tr").children("th").addClass(n.oClasses.sFooterTH),null!==n.nTFoot)for(u=it(n,null,n.aoFooter),i=0,f=n.aoColumns.length;i<f;i++)u[i]&&(n.aoColumns[i].nTf=u[i],n.aoColumns[i].sClass&&r(u[i]).addClass(n.aoColumns[i].sClass))}function st(n,t,r){var u,c,f,e=[],h=[],o=n.aoColumns.length,s;for(r===i&&(r=!1),u=0,c=t.length;u<c;u++){for(e[u]=t[u].slice(),e[u].nTr=t[u].nTr,f=o-1;0<=f;f--)n.aoColumns[f].bVisible||r||e[u].splice(f,1);h.push([])}for(u=0,c=e.length;u<c;u++){if(n=e[u].nTr)for(;f=n.firstChild;)n.removeChild(f);for(f=0,t=e[u].length;f<t;f++)if(s=o=1,h[u][f]===i){for(n.appendChild(e[u][f].cell),h[u][f]=1;e[u+o]!==i&&e[u][f].cell==e[u+o][f].cell;)h[u+o][f]=1,o++;for(;e[u][f+s]!==i&&e[u][f].cell==e[u][f+s].cell;){for(r=0;r<o;r++)h[u+r][f+s]=1;s++}e[u][f].cell.rowSpan=o;e[u][f].cell.colSpan=s}}}function c(n){var e=v(n,"aoPreDrawCallback","preDraw",[n]),s,f,a,y;if(-1!==r.inArray(!1,e))p(n,!1);else{var u,c,e=[],h=0,o=n.asStripeClasses.length;if(u=n.aoOpenRows.length,n.bDrawing=!0,n.iInitDisplayStart!==i&&-1!=n.iInitDisplayStart&&(n._iDisplayStart=n.oFeatures.bServerSide?n.iInitDisplayStart:n.iInitDisplayStart>=n.fnRecordsDisplay()?0:n.iInitDisplayStart,n.iInitDisplayStart=-1,l(n)),n.bDeferLoading)n.bDeferLoading=!1,n.iDraw++;else if(n.oFeatures.bServerSide){if(!n.bDestroying&&!fr(n))return}else n.iDraw++;if(0!==n.aiDisplay.length){for(s=n._iDisplayStart,c=n._iDisplayEnd,n.oFeatures.bServerSide&&(s=0,c=n.aoData.length);s<c;s++)if(f=n.aoData[n.aiDisplay[s]],null===f.nTr&&oi(n,n.aiDisplay[s]),a=f.nTr,0!==o&&(y=n.asStripeClasses[h%o],f._sRowStripe!=y&&(r(a).removeClass(f._sRowStripe).addClass(y),f._sRowStripe=y)),v(n,"aoRowCallback",null,[a,n.aoData[n.aiDisplay[s]]._aData,h,s]),e.push(a),h++,0!==u)for(f=0;f<u;f++)if(a==n.aoOpenRows[f].nParent){e.push(n.aoOpenRows[f].nTr);break}}else e[0]=t.createElement("tr"),n.asStripeClasses[0]&&(e[0].className=n.asStripeClasses[0]),u=n.oLanguage,o=u.sZeroRecords,1==n.iDraw&&null!==n.sAjaxSource&&!n.oFeatures.bServerSide?o=u.sLoadingRecords:u.sEmptyTable&&0===n.fnRecordsTotal()&&(o=u.sEmptyTable),u=t.createElement("td"),u.setAttribute("valign","top"),u.colSpan=ft(n),u.className=n.oClasses.sRowEmpty,u.innerHTML=vi(n,o),e[h].appendChild(u);if(v(n,"aoHeaderCallback","header",[r(n.nTHead).children("tr")[0],pt(n),n._iDisplayStart,n.fnDisplayEnd(),n.aiDisplay]),v(n,"aoFooterCallback","footer",[r(n.nTFoot).children("tr")[0],pt(n),n._iDisplayStart,n.fnDisplayEnd(),n.aiDisplay]),h=t.createDocumentFragment(),u=t.createDocumentFragment(),n.nTBody){if(o=n.nTBody.parentNode,u.appendChild(n.nTBody),!n.oScroll.bInfinite||!n._bInitComplete||n.bSorted||n.bFiltered)for(;u=n.nTBody.firstChild;)n.nTBody.removeChild(u);for(u=0,c=e.length;u<c;u++)h.appendChild(e[u]);n.nTBody.appendChild(h);null!==o&&o.appendChild(n.nTBody)}v(n,"aoDrawCallback","draw",[n]);n.bSorted=!1;n.bFiltered=!1;n.bDrawing=!1;n.oFeatures.bServerSide&&(p(n,!1),n._bInitComplete||kt(n))}}function wt(n){n.oFeatures.bSort?rt(n,n.oPreviousSearch):n.oFeatures.bFilter?nt(n,n.oPreviousSearch):(l(n),c(n))}function ur(n){var v=r("<div><\/div>")[0];n.nTable.parentNode.insertBefore(v,n.nTable);n.nTableWrapper=r('<div id="'+n.sTableId+'_wrapper" class="'+n.oClasses.sWrapper+'" role="grid"><\/div>')[0];n.nTableReinsertBefore=n.nTable.nextSibling;for(var l=n.nTableWrapper,a=n.sDom.split(""),e,h,t,f,o,i,s,c=0;c<a.length;c++){if(h=0,t=a[c],"<"==t){if(f=r("<div><\/div>")[0],o=a[c+1],"'"==o||'"'==o){for(i="",s=2;a[c+s]!=o;)i+=a[c+s],s++;"H"==i?i=n.oClasses.sJUIHeader:"F"==i&&(i=n.oClasses.sJUIFooter);-1!=i.indexOf(".")?(o=i.split("."),f.id=o[0].substr(1,o[0].length-1),f.className=o[1]):"#"==i.charAt(0)?f.id=i.substr(1,i.length-1):f.className=i;c+=s}l.appendChild(f);l=f}else if(">"==t)l=l.parentNode;else if("l"==t&&n.oFeatures.bPaginate&&n.oFeatures.bLengthChange)e=pr(n),h=1;else if("f"==t&&n.oFeatures.bFilter)e=sr(n),h=1;else if("r"==t&&n.oFeatures.bProcessing)e=br(n),h=1;else if("t"==t)e=kr(n),h=1;else if("i"==t&&n.oFeatures.bInfo)e=vr(n),h=1;else if("p"==t&&n.oFeatures.bPaginate)e=wr(n),h=1;else if(0!==u.ext.aoFeatures.length)for(f=u.ext.aoFeatures,s=0,o=f.length;s<o;s++)if(t==f[s].cFeature){(e=f[s].fnInit(n))&&(h=1);break}1==h&&null!==e&&("object"!=typeof n.aanFeatures[t]&&(n.aanFeatures[t]=[]),n.aanFeatures[t].push(e),l.appendChild(e))}v.parentNode.replaceChild(n.nTableWrapper,v)}function ht(n,t){var c=r(t).children("tr"),l,u,i,f,s,h,a,e,o,v;for(n.splice(0,n.length),i=0,h=c.length;i<h;i++)n.push([]);for(i=0,h=c.length;i<h;i++)for(l=c[i],u=l.firstChild;u;){if("TD"==u.nodeName.toUpperCase()||"TH"==u.nodeName.toUpperCase()){for(e=1*u.getAttribute("colspan"),o=1*u.getAttribute("rowspan"),e=!e||0===e||1===e?1:e,o=!o||0===o||1===o?1:o,f=0,s=n[i];s[f];)f++;for(a=f,v=1===e?!0:!1,s=0;s<e;s++)for(f=0;f<o;f++)n[i+f][a+s]={cell:u,unique:v},n[i+f].nTr=l}u=u.nextSibling}}function it(n,t,i){var u=[],t,f,r,e;for(i||(i=n.aoHeader,t&&(i=[],ht(i,t))),t=0,f=i.length;t<f;t++)for(r=0,e=i[t].length;r<e;r++)!i[t][r].unique||u[r]&&n.bSortCellsTop||(u[r]=i[t][r].cell);return u}function fr(n){if(n.bAjaxDataGet){n.iDraw++;p(n,!0);var t=er(n);return si(n,t),n.fnServerData.call(n.oInstance,n.sAjaxSource,t,function(t){or(n,t)},n),!1}return!0}function er(n){var f=n.aoColumns.length,i=[],r,o,t,e,u;for(i.push({name:"sEcho",value:n.iDraw}),i.push({name:"iColumns",value:f}),i.push({name:"sColumns",value:ri(n)}),i.push({name:"iDisplayStart",value:n._iDisplayStart}),i.push({name:"iDisplayLength",value:!1!==n.oFeatures.bPaginate?n._iDisplayLength:-1}),t=0;t<f;t++)r=n.aoColumns[t].mData,i.push({name:"mDataProp_"+t,value:"function"==typeof r?"function":r});if(!1!==n.oFeatures.bFilter)for(i.push({name:"sSearch",value:n.oPreviousSearch.sSearch}),i.push({name:"bRegex",value:n.oPreviousSearch.bRegex}),t=0;t<f;t++)i.push({name:"sSearch_"+t,value:n.aoPreSearchCols[t].sSearch}),i.push({name:"bRegex_"+t,value:n.aoPreSearchCols[t].bRegex}),i.push({name:"bSearchable_"+t,value:n.aoColumns[t].bSearchable});if(!1!==n.oFeatures.bSort){for(u=0,r=null!==n.aaSortingFixed?n.aaSortingFixed.concat(n.aaSorting):n.aaSorting.slice(),t=0;t<r.length;t++)for(o=n.aoColumns[r[t][0]].aDataSort,e=0;e<o.length;e++)i.push({name:"iSortCol_"+u,value:o[e]}),i.push({name:"sSortDir_"+u,value:r[t][1]}),u++;for(i.push({name:"iSortingCols",value:u}),t=0;t<f;t++)i.push({name:"bSortable_"+t,value:n.aoColumns[t].bSortable})}return i}function si(n,t){v(n,"aoServerParams","serverParams",[t])}function or(n,t){var r,o;if(t.sEcho!==i){if(1*t.sEcho<n.iDraw)return;n.iDraw=1*t.sEcho}(!n.oScroll.bInfinite||n.oScroll.bInfinite&&(n.bSorted||n.bFiltered))&&fi(n);n._iRecordsTotal=parseInt(t.iTotalRecords,10);n._iRecordsDisplay=parseInt(t.iTotalDisplayRecords,10);r=ri(n);r=t.sColumns!==i&&""!==r&&t.sColumns!=r;r&&(o=gi(n,t.sColumns));for(var f=et(n.sAjaxDataProp)(t),u=0,h=f.length;u<h;u++)if(r){for(var s=[],e=0,l=n.aoColumns.length;e<l;e++)s.push(f[u][o[e]]);d(n,s)}else d(n,f[u]);n.aiDisplay=n.aiDisplayMaster.slice();n.bAjaxDataGet=!1;c(n);n.bAjaxDataGet=!0;p(n,!1)}function sr(n){var f=n.oPreviousSearch,i=n.oLanguage.sSearch,i=-1!==i.indexOf("_INPUT_")?i.replace("_INPUT_",'<input type="text" />'):""===i?'<input type="text" />':i+' <input type="text" />',u=t.createElement("div");return u.className=n.oClasses.sFilter,u.innerHTML="<label>"+i+"<\/label>",n.aanFeatures.f||(u.id=n.sTableId+"_filter"),i=r('input[type="text"]',u),u._DT_Input=i[0],i.val(f.sSearch.replace('"',"&quot;")),i.bind("keyup.DT",function(){for(var i=n.aanFeatures.f,u=this.value===""?"":this.value,t=0,e=i.length;t<e;t++)i[t]!=r(this).parents("div.dataTables_filter")[0]&&r(i[t]._DT_Input).val(u);u!=f.sSearch&&nt(n,{sSearch:u,bRegex:f.bRegex,bSmart:f.bSmart,bCaseInsensitive:f.bCaseInsensitive})}),i.attr("aria-controls",n.sTableId).bind("keypress.DT",function(n){if(n.keyCode==13)return!1}),u}function nt(n,t,i){var u=n.oPreviousSearch,f=n.aoPreSearchCols,e=function(n){u.sSearch=n.sSearch;u.bRegex=n.bRegex;u.bSmart=n.bSmart;u.bCaseInsensitive=n.bCaseInsensitive};if(n.oFeatures.bServerSide)e(t);else{for(lr(n,t.sSearch,i,t.bRegex,t.bSmart,t.bCaseInsensitive),e(t),t=0;t<n.aoPreSearchCols.length;t++)cr(n,f[t].sSearch,t,f[t].bRegex,f[t].bSmart,f[t].bCaseInsensitive);hr(n)}n.bFiltered=!0;r(n.oInstance).trigger("filter",n);n._iDisplayStart=0;l(n);c(n);hi(n,0)}function hr(n){for(var f,e=u.ext.afnFiltering,o=k(n,"bSearchable"),i=0,s=e.length;i<s;i++)for(var r=0,t=0,h=n.aiDisplay.length;t<h;t++)f=n.aiDisplay[t-r],e[i](n,yt(n,f,"filter",o),f)||(n.aiDisplay.splice(t-r,1),r++)}function cr(n,t,i,r,u,f){if(""!==t)for(var e=0,t=li(t,r,u,f),r=n.aiDisplay.length-1;0<=r;r--)u=ar(h(n,n.aiDisplay[r],i,"filter"),n.aoColumns[i].sType),t.test(u)||(n.aiDisplay.splice(r,1),e++)}function lr(n,t,i,r,f,e){if(r=li(t,r,f,e),f=n.oPreviousSearch,i||(i=0),0!==u.ext.afnFiltering.length&&(i=1),0>=t.length)n.aiDisplay.splice(0,n.aiDisplay.length),n.aiDisplay=n.aiDisplayMaster.slice();else if(n.aiDisplay.length==n.aiDisplayMaster.length||f.sSearch.length>t.length||1==i||0!==t.indexOf(f.sSearch))for(n.aiDisplay.splice(0,n.aiDisplay.length),hi(n,1),t=0;t<n.aiDisplayMaster.length;t++)r.test(n.asDataSearch[t])&&n.aiDisplay.push(n.aiDisplayMaster[t]);else for(t=i=0;t<n.asDataSearch.length;t++)r.test(n.asDataSearch[t])||(n.aiDisplay.splice(t-i,1),i++)}function hi(n,t){if(!n.oFeatures.bServerSide){n.asDataSearch=[];for(var u=k(n,"bSearchable"),r=1===t?n.aiDisplayMaster:n.aiDisplay,i=0,f=r.length;i<f;i++)n.asDataSearch[i]=ci(n,yt(n,r[i],"filter",u))}}function ci(n,t){var i=t.join("  ");return-1!==i.indexOf("&")&&(i=r("<div>").html(i).text()),i.replace(/[\n\r]/g," ")}function li(n,t,i,r){return i?(n=t?n.split(" "):ai(n).split(" "),n="^(?=.*?"+n.join(")(?=.*?")+").*$",RegExp(n,r?"i":"")):(n=t?n:ai(n),RegExp(n,r?"i":""))}function ar(n,t){return"function"==typeof u.ext.ofnSearch[t]?u.ext.ofnSearch[t](n):null===n?"":"html"==t?n.replace(/[\r\n]/g," ").replace(/<.*?>/g,""):"string"==typeof n?n.replace(/[\r\n]/g," "):n}function ai(n){return n.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),"\\$1")}function vr(n){var i=t.createElement("div");return i.className=n.oClasses.sInfo,n.aanFeatures.i||(n.aoDrawCallback.push({fn:yr,sName:"information"}),i.id=n.sTableId+"_info"),n.nTable.setAttribute("aria-describedby",n.sTableId+"_info"),i}function yr(n){if(n.oFeatures.bInfo&&0!==n.aanFeatures.i.length){var t=n.oLanguage,u=n._iDisplayStart+1,o=n.fnDisplayEnd(),e=n.fnRecordsTotal(),f=n.fnRecordsDisplay(),i;for(i=0===f?t.sInfoEmpty:t.sInfo,f!=e&&(i+=" "+t.sInfoFiltered),i+=t.sInfoPostFix,i=vi(n,i),null!==t.fnInfoCallback&&(i=t.fnInfoCallback.call(n.oInstance,n,u,o,e,f,i)),n=n.aanFeatures.i,t=0,u=n.length;t<u;t++)r(n[t]).html(i)}}function vi(n,t){var f=n.fnFormatNumber(n._iDisplayStart+1),i=n.fnDisplayEnd(),i=n.fnFormatNumber(i),r=n.fnRecordsDisplay(),r=n.fnFormatNumber(r),u=n.fnRecordsTotal(),u=n.fnFormatNumber(u);return n.oScroll.bInfinite&&(f=n.fnFormatNumber(1)),t.replace(/_START_/g,f).replace(/_END_/g,i).replace(/_TOTAL_/g,r).replace(/_MAX_/g,u)}function bt(n){var t,i,r=n.iInitDisplayStart;if(!1===n.bInitialised)setTimeout(function(){bt(n)},200);else{for(ur(n),rr(n),st(n,n.aoHeader),n.nTFoot&&st(n,n.aoFooter),p(n,!0),n.oFeatures.bAutoWidth&&wi(n),t=0,i=n.aoColumns.length;t<i;t++)null!==n.aoColumns[t].sWidth&&(n.aoColumns[t].nTh.style.width=o(n.aoColumns[t].sWidth));n.oFeatures.bSort?rt(n):n.oFeatures.bFilter?nt(n,n.oPreviousSearch):(n.aiDisplay=n.aiDisplayMaster.slice(),l(n),c(n));null!==n.sAjaxSource&&!n.oFeatures.bServerSide?(i=[],si(n,i),n.fnServerData.call(n.oInstance,n.sAjaxSource,i,function(i){var u=n.sAjaxDataProp!==""?et(n.sAjaxDataProp)(i):i;for(t=0;t<u.length;t++)d(n,u[t]);n.iInitDisplayStart=r;n.oFeatures.bSort?rt(n):(n.aiDisplay=n.aiDisplayMaster.slice(),l(n),c(n));p(n,!1);kt(n,i)},n)):n.oFeatures.bServerSide||(p(n,!1),kt(n))}}function kt(n,t){n._bInitComplete=!0;v(n,"aoInitComplete","init",[n,t])}function yi(n){var t=u.defaults.oLanguage;!n.sEmptyTable&&n.sZeroRecords&&"No data available in table"===t.sEmptyTable&&e(n,n,"sZeroRecords","sEmptyTable");!n.sLoadingRecords&&n.sZeroRecords&&"Loading..."===t.sLoadingRecords&&e(n,n,"sZeroRecords","sLoadingRecords")}function pr(n){if(n.oScroll.bInfinite)return null;var e='<select size="1" '+('name="'+n.sTableId+'_length"')+">",u,f,i=n.aLengthMenu;if(2==i.length&&"object"==typeof i[0]&&"object"==typeof i[1])for(u=0,f=i[0].length;u<f;u++)e+='<option value="'+i[0][u]+'">'+i[1][u]+"<\/option>";else for(u=0,f=i.length;u<f;u++)e+='<option value="'+i[u]+'">'+i[u]+"<\/option>";return e+="<\/select>",i=t.createElement("div"),n.aanFeatures.l||(i.id=n.sTableId+"_length"),i.className=n.oClasses.sLength,i.innerHTML="<label>"+n.oLanguage.sLengthMenu.replace("_MENU_",e)+"<\/label>",r('select option[value="'+n._iDisplayLength+'"]',i).attr("selected",!0),r("select",i).bind("change.DT",function(){var i=r(this).val(),t=n.aanFeatures.l;for(u=0,f=t.length;u<f;u++)t[u]!=this.parentNode&&r("select",t[u]).val(i);n._iDisplayLength=parseInt(i,10);l(n);n.fnDisplayEnd()==n.fnRecordsDisplay()&&(n._iDisplayStart=n.fnDisplayEnd()-n._iDisplayLength,n._iDisplayStart<0&&(n._iDisplayStart=0));n._iDisplayLength==-1&&(n._iDisplayStart=0);c(n)}),r("select",i).attr("aria-controls",n.sTableId),i}function l(n){n._iDisplayEnd=!1===n.oFeatures.bPaginate?n.aiDisplay.length:n._iDisplayStart+n._iDisplayLength>n.aiDisplay.length||-1==n._iDisplayLength?n.aiDisplay.length:n._iDisplayStart+n._iDisplayLength}function wr(n){if(n.oScroll.bInfinite)return null;var i=t.createElement("div");return i.className=n.oClasses.sPaging+n.sPaginationType,u.ext.oPagination[n.sPaginationType].fnInit(n,i,function(n){l(n);c(n)}),n.aanFeatures.p||n.aoDrawCallback.push({fn:function(n){u.ext.oPagination[n.sPaginationType].fnUpdate(n,function(n){l(n);c(n)})},sName:"pagination"}),i}function pi(n,t){var u=n._iDisplayStart,i;return"number"==typeof t?(n._iDisplayStart=t*n._iDisplayLength,n._iDisplayStart>n.fnRecordsDisplay()&&(n._iDisplayStart=0)):"first"==t?n._iDisplayStart=0:"previous"==t?(n._iDisplayStart=0<=n._iDisplayLength?n._iDisplayStart-n._iDisplayLength:0,0>n._iDisplayStart&&(n._iDisplayStart=0)):"next"==t?0<=n._iDisplayLength?n._iDisplayStart+n._iDisplayLength<n.fnRecordsDisplay()&&(n._iDisplayStart+=n._iDisplayLength):n._iDisplayStart=0:"last"==t?0<=n._iDisplayLength?(i=parseInt((n.fnRecordsDisplay()-1)/n._iDisplayLength,10)+1,n._iDisplayStart=(i-1)*n._iDisplayLength):n._iDisplayStart=0:w(n,0,"Unknown paging action: "+t),r(n.oInstance).trigger("page",n),u!=n._iDisplayStart}function br(n){var i=t.createElement("div");return n.aanFeatures.r||(i.id=n.sTableId+"_processing"),i.innerHTML=n.oLanguage.sProcessing,i.className=n.oClasses.sProcessing,n.nTable.parentNode.insertBefore(i,n.nTable),i}function p(n,t){if(n.oFeatures.bProcessing)for(var u=n.aanFeatures.r,i=0,f=u.length;i<f;i++)u[i].style.visibility=t?"visible":"hidden";r(n.oInstance).trigger("processing",[n,t])}function kr(n){if(""===n.oScroll.sX&&""===n.oScroll.sY)return n.nTable;var a=t.createElement("div"),u=t.createElement("div"),i=t.createElement("div"),f=t.createElement("div"),e=t.createElement("div"),p=t.createElement("div"),v=n.nTable.cloneNode(!1),y=n.nTable.cloneNode(!1),w=n.nTable.getElementsByTagName("thead")[0],s=0===n.nTable.getElementsByTagName("tfoot").length?null:n.nTable.getElementsByTagName("tfoot")[0],h=n.oClasses;return u.appendChild(i),e.appendChild(p),f.appendChild(n.nTable),a.appendChild(u),a.appendChild(f),i.appendChild(v),v.appendChild(w),null!==s&&(a.appendChild(e),p.appendChild(y),y.appendChild(s)),a.className=h.sScrollWrapper,u.className=h.sScrollHead,i.className=h.sScrollHeadInner,f.className=h.sScrollBody,e.className=h.sScrollFoot,p.className=h.sScrollFootInner,n.oScroll.bAutoCss&&(u.style.overflow="hidden",u.style.position="relative",e.style.overflow="hidden",f.style.overflow="auto"),u.style.border="0",u.style.width="100%",e.style.border="0",i.style.width=""!==n.oScroll.sXInner?n.oScroll.sXInner:"100%",v.removeAttribute("id"),v.style.marginLeft="0",n.nTable.style.marginLeft="0",null!==s&&(y.removeAttribute("id"),y.style.marginLeft="0"),i=r(n.nTable).children("caption"),0<i.length&&(i=i[0],"top"===i._captionSide?v.appendChild(i):"bottom"===i._captionSide&&s&&y.appendChild(i)),""!==n.oScroll.sX&&(u.style.width=o(n.oScroll.sX),f.style.width=o(n.oScroll.sX),null!==s&&(e.style.width=o(n.oScroll.sX)),r(f).scroll(function(){u.scrollLeft=this.scrollLeft;s!==null&&(e.scrollLeft=this.scrollLeft)})),""!==n.oScroll.sY&&(f.style.height=o(n.oScroll.sY)),n.aoDrawCallback.push({fn:dr,sName:"scrolling"}),n.oScroll.bInfinite&&r(f).scroll(function(){!n.bDrawing&&r(this).scrollTop()!==0&&r(this).scrollTop()+r(this).height()>r(n.nTable).height()-n.oScroll.iLoadGap&&n.fnDisplayEnd()<n.fnRecordsDisplay()&&(pi(n,"next"),l(n),c(n))}),n.nScrollHead=u,n.nScrollFoot=e,a}function dr(n){var c=n.nScrollHead.getElementsByTagName("div")[0],l=c.getElementsByTagName("table")[0],t=n.nTable.parentNode,i,k,e,h,f,d,s,g,a=[],v=[],p=null!==n.nTFoot?n.nScrollFoot.getElementsByTagName("div")[0]:null,tt=null!==n.nTFoot?p.getElementsByTagName("table")[0]:null,u=n.oBrowser.bScrollOversize,nt=function(n){s=n.style;s.paddingTop="0";s.paddingBottom="0";s.borderTopWidth="0";s.borderBottomWidth="0";s.height=0},b;for(r(n.nTable).children("thead, tfoot").remove(),i=r(n.nTHead).clone()[0],n.nTable.insertBefore(i,n.nTable.childNodes[0]),e=n.nTHead.getElementsByTagName("tr"),h=i.getElementsByTagName("tr"),null!==n.nTFoot&&(f=r(n.nTFoot).clone()[0],n.nTable.insertBefore(f,n.nTable.childNodes[1]),d=n.nTFoot.getElementsByTagName("tr"),f=f.getElementsByTagName("tr")),""===n.oScroll.sX&&(t.style.width="100%",c.parentNode.style.width="100%"),b=it(n,i),i=0,k=b.length;i<k;i++)g=di(n,i),b[i].style.width=n.aoColumns[g].sWidth;null!==n.nTFoot&&y(function(n){n.style.width=""},f);n.oScroll.bCollapse&&""!==n.oScroll.sY&&(t.style.height=t.offsetHeight+n.nTHead.offsetHeight+"px");i=r(n.nTable).outerWidth();""===n.oScroll.sX?(n.nTable.style.width="100%",u&&(r("tbody",t).height()>t.offsetHeight||"scroll"==r(t).css("overflow-y")))&&(n.nTable.style.width=o(r(n.nTable).outerWidth()-n.oScroll.iBarWidth)):""!==n.oScroll.sXInner?n.nTable.style.width=o(n.oScroll.sXInner):i==r(t).width()&&r(t).height()<r(n.nTable).height()?(n.nTable.style.width=o(i-n.oScroll.iBarWidth),r(n.nTable).outerWidth()>i-n.oScroll.iBarWidth&&(n.nTable.style.width=o(i))):n.nTable.style.width=o(i);i=r(n.nTable).outerWidth();y(nt,h);y(function(n){a.push(o(r(n).width()))},h);y(function(n,t){n.style.width=a[t]},e);r(h).height(0);null!==n.nTFoot&&(y(nt,f),y(function(n){v.push(o(r(n).width()))},f),y(function(n,t){n.style.width=v[t]},d),r(f).height(0));y(function(n,t){n.innerHTML="";n.style.width=a[t]},h);null!==n.nTFoot&&y(function(n,t){n.innerHTML="";n.style.width=v[t]},f);r(n.nTable).outerWidth()<i?(e=t.scrollHeight>t.offsetHeight||"scroll"==r(t).css("overflow-y")?i+n.oScroll.iBarWidth:i,u&&(t.scrollHeight>t.offsetHeight||"scroll"==r(t).css("overflow-y"))&&(n.nTable.style.width=o(e-n.oScroll.iBarWidth)),t.style.width=o(e),n.nScrollHead.style.width=o(e),null!==n.nTFoot&&(n.nScrollFoot.style.width=o(e)),""===n.oScroll.sX?w(n,1,"The table cannot fit into the current element which will cause column misalignment. The table has been drawn at its minimum possible width."):""!==n.oScroll.sXInner&&w(n,1,"The table cannot fit into the current element which will cause column misalignment. Increase the sScrollXInner value or remove it to allow automatic calculation")):(t.style.width=o("100%"),n.nScrollHead.style.width=o("100%"),null!==n.nTFoot&&(n.nScrollFoot.style.width=o("100%")));""===n.oScroll.sY&&u&&(t.style.height=o(n.nTable.offsetHeight+n.oScroll.iBarWidth));""!==n.oScroll.sY&&n.oScroll.bCollapse&&(t.style.height=o(n.oScroll.sY),u=""!==n.oScroll.sX&&n.nTable.offsetWidth>t.offsetWidth?n.oScroll.iBarWidth:0,n.nTable.offsetHeight<t.offsetHeight&&(t.style.height=o(n.nTable.offsetHeight+u)));u=r(n.nTable).outerWidth();l.style.width=o(u);c.style.width=o(u);l=r(n.nTable).height()>t.clientHeight||"scroll"==r(t).css("overflow-y");c.style.paddingRight=l?n.oScroll.iBarWidth+"px":"0px";null!==n.nTFoot&&(tt.style.width=o(u),p.style.width=o(u),p.style.paddingRight=l?n.oScroll.iBarWidth+"px":"0px");r(t).scroll();(n.bSorted||n.bFiltered)&&(t.scrollTop=0)}function y(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)1===r.nodeType&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function gr(n,i){if(!n||null===n||""===n)return 0;i||(i=t.body);var u,r=t.createElement("div");return r.style.width=o(n),i.appendChild(r),u=r.offsetWidth,i.removeChild(r),u}function wi(n){for(var u=0,h,f=0,s=n.aoColumns.length,l=r("th",n.nTHead),a=n.nTable.getAttribute("width"),c,e=n.nTable.parentNode,i=0;i<s;i++)n.aoColumns[i].bVisible&&(f++,null!==n.aoColumns[i].sWidth&&(h=gr(n.aoColumns[i].sWidthOrig,e),null!==h&&(n.aoColumns[i].sWidth=o(h)),u++));if(s==l.length&&0===u&&f==s&&""===n.oScroll.sX&&""===n.oScroll.sY)for(i=0;i<n.aoColumns.length;i++)h=r(l[i]).width(),null!==h&&(n.aoColumns[i].sWidth=o(h));else{for(u=n.nTable.cloneNode(!1),i=n.nTHead.cloneNode(!0),f=t.createElement("tbody"),h=t.createElement("tr"),u.removeAttribute("id"),u.appendChild(i),null!==n.nTFoot&&(u.appendChild(n.nTFoot.cloneNode(!0)),y(function(n){n.style.width=""},u.getElementsByTagName("tr"))),u.appendChild(f),f.appendChild(h),f=r("thead th",u),0===f.length&&(f=r("tbody tr:eq(0)>td",u)),l=it(n,i),i=f=0;i<s;i++)c=n.aoColumns[i],c.bVisible&&null!==c.sWidthOrig&&""!==c.sWidthOrig?l[i-f].style.width=o(c.sWidthOrig):c.bVisible?l[i-f].style.width="":f++;for(i=0;i<s;i++)n.aoColumns[i].bVisible&&(f=tu(n,i),null!==f&&(f=f.cloneNode(!0),""!==n.aoColumns[i].sContentPadding&&(f.innerHTML+=n.aoColumns[i].sContentPadding),h.appendChild(f)));if(e.appendChild(u),""!==n.oScroll.sX&&""!==n.oScroll.sXInner?u.style.width=o(n.oScroll.sXInner):""!==n.oScroll.sX?(u.style.width="",r(u).width()<e.offsetWidth&&(u.style.width=o(e.offsetWidth))):""!==n.oScroll.sY?u.style.width=o(e.offsetWidth):a&&(u.style.width=o(a)),u.style.visibility="hidden",nu(n,u),s=r("tbody tr:eq(0)",u).children(),0===s.length&&(s=it(n,r("thead",u)[0])),""!==n.oScroll.sX){for(i=f=e=0;i<n.aoColumns.length;i++)n.aoColumns[i].bVisible&&(e=null===n.aoColumns[i].sWidthOrig?e+r(s[f]).outerWidth():e+(parseInt(n.aoColumns[i].sWidth.replace("px",""),10)+(r(s[f]).outerWidth()-r(s[f]).width())),f++);u.style.width=o(e);n.nTable.style.width=o(e)}for(i=f=0;i<n.aoColumns.length;i++)n.aoColumns[i].bVisible&&(e=r(s[f]).width(),null!==e&&0<e&&(n.aoColumns[i].sWidth=o(e)),f++);s=r(u).css("width");n.nTable.style.width=-1!==s.indexOf("%")?s:o(r(u).outerWidth());u.parentNode.removeChild(u)}a&&(n.nTable.style.width=o(a))}function nu(n,t){""===n.oScroll.sX&&""!==n.oScroll.sY?(r(t).width(),t.style.width=o(r(t).outerWidth()-n.oScroll.iBarWidth)):""!==n.oScroll.sX&&(t.style.width=o(r(t).outerWidth()))}function tu(n,i){var r=iu(n,i),u;return 0>r?null:null===n.aoData[r].nTr?(u=t.createElement("td"),u.innerHTML=h(n,r,i,""),u):tt(n,r)[i]}function iu(n,t){for(var i,u=-1,f=-1,r=0;r<n.aoData.length;r++)i=h(n,r,t,"display")+"",i=i.replace(/<.*?>/g,""),i.length>u&&(u=i.length,f=r);return f}function o(n){if(null===n)return"0px";if("number"==typeof n)return 0>n?"0px":n+"px";var t=n.charCodeAt(n.length-1);return 48>t||57<t?n:n+"px"}function ru(){var i=t.createElement("p"),n=i.style,r;return n.width="100%",n.height="200px",n.padding="0px",r=t.createElement("div"),n=r.style,n.position="absolute",n.top="0px",n.left="0px",n.visibility="hidden",n.width="200px",n.height="150px",n.padding="0px",n.overflow="hidden",r.appendChild(i),t.body.appendChild(r),n=i.offsetWidth,r.style.overflow="scroll",i=i.offsetWidth,n==i&&(i=r.clientWidth),t.body.removeChild(r),n-i}function rt(n,t){var f,s,e,o,y,rt,a=[],g=[],tt=u.ext.oSort,p=n.aoData,v=n.aoColumns,d=n.oLanguage.oAria,it,k;if(!n.oFeatures.bServerSide&&(0!==n.aaSorting.length||null!==n.aaSortingFixed)){for(a=null!==n.aaSortingFixed?n.aaSortingFixed.concat(n.aaSorting):n.aaSorting.slice(),f=0;f<a.length;f++)if(s=a[f][0],e=ti(n,s),o=n.aoColumns[s].sSortDataType,u.ext.afnSortData[o])if(y=u.ext.afnSortData[o].call(n.oInstance,n,s,e),y.length===p.length)for(e=0,o=p.length;e<o;e++)b(n,e,s,y[e]);else w(n,0,"Returned data sort array (col "+s+") is the wrong length");for(f=0,s=n.aiDisplayMaster.length;f<s;f++)g[n.aiDisplayMaster[f]]=f;for(it=a.length,f=0,s=p.length;f<s;f++)for(e=0;e<it;e++)for(k=v[a[e][0]].aDataSort,y=0,rt=k.length;y<rt;y++)o=v[k[y]].sType,o=tt[(o?o:"string")+"-pre"],p[f]._aSortData[k[y]]=o?o(h(n,f,k[y],"sort")):h(n,f,k[y],"sort");n.aiDisplayMaster.sort(function(n,t){for(var i,e,r,f,u=0;u<it;u++)for(f=v[a[u][0]].aDataSort,i=0,e=f.length;i<e;i++)if(r=v[f[i]].sType,r=tt[(r?r:"string")+"-"+a[u][1]](p[n]._aSortData[f[i]],p[t]._aSortData[f[i]]),0!==r)return r;return tt["numeric-asc"](g[n],g[t])})}for((t===i||t)&&!n.oFeatures.bDeferRender&&ut(n),f=0,s=n.aoColumns.length;f<s;f++)o=v[f].sTitle.replace(/<.*?>/g,""),e=v[f].nTh,e.removeAttribute("aria-sort"),e.removeAttribute("aria-label"),v[f].bSortable?0<a.length&&a[0][0]==f?(e.setAttribute("aria-sort","asc"==a[0][1]?"ascending":"descending"),e.setAttribute("aria-label",o+("asc"==(v[f].asSorting[a[0][2]+1]?v[f].asSorting[a[0][2]+1]:v[f].asSorting[0])?d.sSortAscending:d.sSortDescending))):e.setAttribute("aria-label",o+("asc"==v[f].asSorting[0]?d.sSortAscending:d.sSortDescending)):e.setAttribute("aria-label",o);n.bSorted=!0;r(n.oInstance).trigger("sort",n);n.oFeatures.bFilter?nt(n,n.oPreviousSearch,1):(n.aiDisplay=n.aiDisplayMaster.slice(),n._iDisplayStart=0,l(n),c(n))}function bi(n,t,i,r){eu(t,{},function(t){if(!1!==n.aoColumns[i].bSortable){var u=function(){var f,r,e,u;if(t.shiftKey){for(e=!1,u=0;u<n.aaSorting.length;u++)if(n.aaSorting[u][0]==i){e=!0;f=n.aaSorting[u][0];r=n.aaSorting[u][2]+1;n.aoColumns[f].asSorting[r]?(n.aaSorting[u][1]=n.aoColumns[f].asSorting[r],n.aaSorting[u][2]=r):n.aaSorting.splice(u,1);break}!1===e&&n.aaSorting.push([i,n.aoColumns[i].asSorting[0],0])}else 1==n.aaSorting.length&&n.aaSorting[0][0]==i?(f=n.aaSorting[0][0],r=n.aaSorting[0][2]+1,n.aoColumns[f].asSorting[r]||(r=0),n.aaSorting[0][1]=n.aoColumns[f].asSorting[r],n.aaSorting[0][2]=r):(n.aaSorting.splice(0,n.aaSorting.length),n.aaSorting.push([i,n.aoColumns[i].asSorting[0],0]));rt(n)};n.oFeatures.bProcessing?(p(n,!0),setTimeout(function(){u();n.oFeatures.bServerSide||p(n,!1)},0)):u();"function"==typeof r&&r(n)}})}function ut(n){for(var e,u,o,f,h=n.aoColumns.length,i=n.oClasses,s,t=0;t<h;t++)n.aoColumns[t].bSortable&&r(n.aoColumns[t].nTh).removeClass(i.sSortAsc+" "+i.sSortDesc+" "+n.aoColumns[t].sSortingClass);for(e=null!==n.aaSortingFixed?n.aaSortingFixed.concat(n.aaSorting):n.aaSorting.slice(),t=0;t<n.aoColumns.length;t++)if(n.aoColumns[t].bSortable){for(f=n.aoColumns[t].sSortingClass,o=-1,u=0;u<e.length;u++)if(e[u][0]==t){f="asc"==e[u][1]?i.sSortAsc:i.sSortDesc;o=u;break}r(n.aoColumns[t].nTh).addClass(f);n.bJUI&&(f=r("span."+i.sSortIcon,n.aoColumns[t].nTh),f.removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed),f.addClass(-1==o?n.aoColumns[t].sSortingClassJUI:"asc"==e[o][1]?i.sSortJUIAsc:i.sSortJUIDesc))}else r(n.aoColumns[t].nTh).addClass(n.aoColumns[t].sSortingClass);if(f=i.sSortColumn,n.oFeatures.bSort&&n.oFeatures.bSortClasses){for(n=tt(n),o=[],t=0;t<h;t++)o.push("");for(t=0,u=1;t<e.length;t++)i=parseInt(e[t][0],10),o[i]=f+u,3>u&&u++;for(f=RegExp(f+"[123]"),t=0,e=n.length;t<e;t++)i=t%h,u=n[t].className,s=o[i],i=u.replace(f,s),i!=u?n[t].className=r.trim(i):0<s.length&&-1==u.indexOf(s)&&(n[t].className=u+" "+s)}}function ki(n){var t,u,i;if(n.oFeatures.bStateSave&&!n.bDestroying){for(t=n.oScroll.bInfinite,i={iCreate:(new Date).getTime(),iStart:t?0:n._iDisplayStart,iEnd:t?n._iDisplayLength:n._iDisplayEnd,iLength:n._iDisplayLength,aaSorting:r.extend(!0,[],n.aaSorting),oSearch:r.extend(!0,{},n.oPreviousSearch),aoSearchCols:r.extend(!0,[],n.aoPreSearchCols),abVisCols:[]},t=0,u=n.aoColumns.length;t<u;t++)i.abVisCols.push(n.aoColumns[t].bVisible);v(n,"aoStateSaveParams","stateSaveParams",[n,i]);n.fnStateSave.call(n.oInstance,n,i)}}function uu(n,t){var i,u;if(n.oFeatures.bStateSave&&(i=n.fnStateLoad.call(n.oInstance,n),i&&(u=v(n,"aoStateLoadParams","stateLoadParams",[n,i]),-1===r.inArray(!1,u)))){for(n.oLoadedState=r.extend(!0,{},i),n._iDisplayStart=i.iStart,n.iInitDisplayStart=i.iStart,n._iDisplayEnd=i.iEnd,n._iDisplayLength=i.iLength,n.aaSorting=i.aaSorting.slice(),n.saved_aaSorting=i.aaSorting.slice(),r.extend(n.oPreviousSearch,i.oSearch),r.extend(!0,n.aoPreSearchCols,i.aoSearchCols),t.saved_aoColumns=[],u=0;u<i.abVisCols.length;u++)t.saved_aoColumns[u]={},t.saved_aoColumns[u].bVisible=i.abVisCols[u];v(n,"aoStateLoaded","stateLoaded",[n,i])}}function s(n){for(var t=0;t<u.settings.length;t++)if(u.settings[t].nTable===n)return u.settings[t];return null}function ct(n){for(var i=[],n=n.aoData,t=0,r=n.length;t<r;t++)null!==n[t].nTr&&i.push(n[t].nTr);return i}function tt(n,t){var s=[],r,f,e,u,c,o,h;for(f=0,h=n.aoData.length,t!==i&&(f=t,h=t+1),e=f;e<h;e++)if(o=n.aoData[e],null!==o.nTr){for(f=[],r=o.nTr.firstChild;r;)u=r.nodeName.toLowerCase(),("td"==u||"th"==u)&&f.push(r),r=r.nextSibling;for(u=r=0,c=n.aoColumns.length;u<c;u++)n.aoColumns[u].bVisible?s.push(f[u-r]):(s.push(o._anHidden[u]),r++)}return s}function w(t,i,r){if(t=null===t?"DataTables warning: "+r:"DataTables warning (table id = '"+t.sTableId+"'): "+r,0===i)if("alert"==u.ext.sErrMode)alert(t);else throw Error(t);else n.console&&console.log&&console.log(t)}function e(n,t,r,u){u===i&&(u=r);t[r]!==i&&(n[u]=t[r])}function fu(n,t){var u,i;for(i in t)t.hasOwnProperty(i)&&(u=t[i],"object"==typeof f[i]&&null!==u&&!1===r.isArray(u)?r.extend(!0,n[i],u):n[i]=u);return n}function eu(n,t,i){r(n).bind("click.DT",t,function(t){n.blur();i(t)}).bind("keypress.DT",t,function(n){13===n.which&&i(n)}).bind("selectstart.DT",function(){return!1})}function a(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function v(n,t,i,u){for(var t=n[t],e=[],f=t.length-1;0<=f;f--)e.push(t[f].fn.apply(n.oInstance,u));return null!==i&&r(n.oInstance).trigger(i,u),e}function ou(n){var i=r('<div style="position:absolute; top:0; left:0; height:1px; width:1px; overflow:hidden"><div style="position:absolute; top:1px; left:1px; width:100px; overflow:scroll;"><div id="DT_BrowserTest" style="width:100%; height:10px;"><\/div><\/div><\/div>')[0];t.body.appendChild(i);n.oBrowser.bScrollOversize=100===r("#DT_BrowserTest",i)[0].offsetWidth?!0:!1;t.body.removeChild(i)}function su(n){return function(){var t=[s(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.oApi[n].apply(this,t)}}var lt=/\[.*?\]$/,hu=n.JSON?JSON.stringify:function(n){var i=typeof n,f,t,e,u;if("object"!==i||null===n)return"string"===i&&(n='"'+n+'"'),n+"";e=[];u=r.isArray(n);for(f in n)t=n[f],i=typeof t,"string"===i?t='"'+t+'"':"object"===i&&null!==t&&(t=hu(t)),e.push((u?"":'"'+f+'":')+t);return(u?"[":"{")+e+(u?"]":"}")},dt,at;this.$=function(n,t){var i,f,e=[],o;f=s(this[u.ext.iApiIndex]);var h=f.aoData,c=f.aiDisplay,l=f.aiDisplayMaster;if(t||(t={}),t=r.extend({},{filter:"none",order:"current",page:"all"},t),"current"==t.page)for(i=f._iDisplayStart,f=f.fnDisplayEnd();i<f;i++)(o=h[c[i]].nTr)&&e.push(o);else if("current"==t.order&&"none"==t.filter)for(i=0,f=l.length;i<f;i++)(o=h[l[i]].nTr)&&e.push(o);else if("current"==t.order&&"applied"==t.filter)for(i=0,f=c.length;i<f;i++)(o=h[c[i]].nTr)&&e.push(o);else if("original"==t.order&&"none"==t.filter)for(i=0,f=h.length;i<f;i++)(o=h[i].nTr)&&e.push(o);else if("original"==t.order&&"applied"==t.filter)for(i=0,f=h.length;i<f;i++)o=h[i].nTr,-1!==r.inArray(i,c)&&o&&e.push(o);else w(f,1,"Unknown selection options");return e=r(e),i=e.filter(n),e=e.find(n),r([].concat(r.makeArray(i),r.makeArray(e)))};this._=function(n,t){for(var r=[],f=this.$(n,t),i=0,u=f.length;i<u;i++)r.push(this.fnGetData(f[i]));return r};this.fnAddData=function(n,t){var r,f,e,o;if(0===n.length)return[];if(r=[],e=s(this[u.ext.iApiIndex]),"object"==typeof n[0]&&null!==n[0])for(o=0;o<n.length;o++){if(f=d(e,n[o]),-1==f)return r;r.push(f)}else{if(f=d(e,n),-1==f)return r;r.push(f)}return e.aiDisplay=e.aiDisplayMaster.slice(),(t===i||t)&&wt(e),r};this.fnAdjustColumnSizing=function(n){var t=s(this[u.ext.iApiIndex]);vt(t);n===i||n?this.fnDraw(!1):(""!==t.oScroll.sX||""!==t.oScroll.sY)&&this.oApi._fnScrollDraw(t)};this.fnClearTable=function(n){var t=s(this[u.ext.iApiIndex]);fi(t);(n===i||n)&&c(t)};this.fnClose=function(n){for(var i=s(this[u.ext.iApiIndex]),t=0;t<i.aoOpenRows.length;t++)if(i.aoOpenRows[t].nParent==n)return(n=i.aoOpenRows[t].nTr.parentNode)&&n.removeChild(i.aoOpenRows[t].nTr),i.aoOpenRows.splice(t,1),0;return 1};this.fnDeleteRow=function(n,t,f){for(var e=s(this[u.ext.iApiIndex]),n="object"==typeof n?g(e,n):n,a=e.aoData.splice(n,1),o=0,h=e.aoData.length;o<h;o++)null!==e.aoData[o].nTr&&(e.aoData[o].nTr._DT_RowIndex=o);return o=r.inArray(n,e.aiDisplay),e.asDataSearch.splice(o,1),ei(e.aiDisplayMaster,n),ei(e.aiDisplay,n),"function"==typeof t&&t.call(this,e,a),e._iDisplayStart>=e.fnRecordsDisplay()&&(e._iDisplayStart-=e._iDisplayLength,0>e._iDisplayStart&&(e._iDisplayStart=0)),(f===i||f)&&(l(e),c(e)),a};this.fnDestroy=function(n){var t=s(this[u.ext.iApiIndex]),c=t.nTableWrapper.parentNode,l=t.nTBody,e,h,n=n===i?!1:n;if(t.bDestroying=!0,v(t,"aoDestroyCallback","destroy",[t]),!n)for(e=0,h=t.aoColumns.length;e<h;e++)!1===t.aoColumns[e].bVisible&&this.fnSetColumnVis(e,!0);for(r(t.nTableWrapper).find("*").andSelf().unbind(".DT"),r("tbody>tr>td."+t.oClasses.sRowEmpty,t.nTable).parent().remove(),t.nTable!=t.nTHead.parentNode&&(r(t.nTable).children("thead").remove(),t.nTable.appendChild(t.nTHead)),t.nTFoot&&t.nTable!=t.nTFoot.parentNode&&(r(t.nTable).children("tfoot").remove(),t.nTable.appendChild(t.nTFoot)),t.nTable.parentNode.removeChild(t.nTable),r(t.nTableWrapper).remove(),t.aaSorting=[],t.aaSortingFixed=[],ut(t),r(ct(t)).removeClass(t.asStripeClasses.join(" ")),r("th, td",t.nTHead).removeClass([t.oClasses.sSortable,t.oClasses.sSortableAsc,t.oClasses.sSortableDesc,t.oClasses.sSortableNone].join(" ")),t.bJUI&&(r("th span."+t.oClasses.sSortIcon+", td span."+t.oClasses.sSortIcon,t.nTHead).remove(),r("th, td",t.nTHead).each(function(){var n=r("div."+t.oClasses.sSortJUIWrapper,this),i=n.contents();r(this).append(i);n.remove()})),!n&&t.nTableReinsertBefore?c.insertBefore(t.nTable,t.nTableReinsertBefore):n||c.appendChild(t.nTable),e=0,h=t.aoData.length;e<h;e++)null!==t.aoData[e].nTr&&l.appendChild(t.aoData[e].nTr);if(!0===t.oFeatures.bAutoWidth&&(t.nTable.style.width=o(t.sDestroyWidth)),h=t.asDestroyStripes.length)for(n=r(l).children("tr"),e=0;e<h;e++)n.filter(":nth-child("+h+"n + "+e+")").addClass(t.asDestroyStripes[e]);for(e=0,h=u.settings.length;e<h;e++)u.settings[e]==t&&u.settings.splice(e,1);f=t=null};this.fnDraw=function(n){var t=s(this[u.ext.iApiIndex]);!1===n?(l(t),c(t)):wt(t)};this.fnFilter=function(n,f,e,o,h,c){var l=s(this[u.ext.iApiIndex]);if(l.oFeatures.bFilter)if((e===i||null===e)&&(e=!1),(o===i||null===o)&&(o=!0),(h===i||null===h)&&(h=!0),(c===i||null===c)&&(c=!0),f===i||null===f){if(nt(l,{sSearch:n+"",bRegex:e,bSmart:o,bCaseInsensitive:c},1),h&&l.aanFeatures.f)for(f=l.aanFeatures.f,e=0,o=f.length;e<o;e++)try{f[e]._DT_Input!=t.activeElement&&r(f[e]._DT_Input).val(n)}catch(a){r(f[e]._DT_Input).val(n)}}else r.extend(l.aoPreSearchCols[f],{sSearch:n+"",bRegex:e,bSmart:o,bCaseInsensitive:c}),nt(l,l.oPreviousSearch,1)};this.fnGetData=function(n,t){var r=s(this[u.ext.iApiIndex]),f,e;return n!==i?(f=n,"object"==typeof n&&(e=n.nodeName.toLowerCase(),"tr"===e?f=g(r,n):"td"===e&&(f=g(r,n.parentNode),t=ui(r,f,n))),t!==i?h(r,f,t,""):r.aoData[f]!==i?r.aoData[f]._aData:null):pt(r)};this.fnGetNodes=function(n){var t=s(this[u.ext.iApiIndex]);return n!==i?t.aoData[n]!==i?t.aoData[n].nTr:null:ct(t)};this.fnGetPosition=function(n){var i=s(this[u.ext.iApiIndex]),t=n.nodeName.toUpperCase();return"TR"==t?g(i,n):"TD"==t||"TH"==t?(t=g(i,n.parentNode),n=ui(i,t,n),[t,ti(i,n),n]):null};this.fnIsOpen=function(n){for(var i=s(this[u.ext.iApiIndex]),t=0;t<i.aoOpenRows.length;t++)if(i.aoOpenRows[t].nParent==n)return!0;return!1};this.fnOpen=function(n,i,f){var h=s(this[u.ext.iApiIndex]),e=ct(h),o;if(-1!==r.inArray(n,e))return this.fnClose(n),e=t.createElement("tr"),o=t.createElement("td"),e.appendChild(o),o.className=f,o.colSpan=ft(h),"string"==typeof i?o.innerHTML=i:r(o).html(i),i=r("tr",h.nTBody),-1!=r.inArray(n,i)&&r(e).insertAfter(n),h.aoOpenRows.push({nTr:e,nParent:n}),e};this.fnPageChange=function(n,t){var r=s(this[u.ext.iApiIndex]);pi(r,n);l(r);(t===i||t)&&c(r)};this.fnSetColumnVis=function(n,t,r){var e=s(this[u.ext.iApiIndex]),f,o,a=e.aoColumns,h=e.aoData,l,v;if(a[n].bVisible!=t){if(t){for(f=o=0;f<n;f++)a[f].bVisible&&o++;if(v=o>=ft(e),!v)for(f=n;f<a.length;f++)if(a[f].bVisible){l=f;break}for(f=0,o=h.length;f<o;f++)null!==h[f].nTr&&(v?h[f].nTr.appendChild(h[f]._anHidden[n]):h[f].nTr.insertBefore(h[f]._anHidden[n],tt(e,f)[l]))}else for(f=0,o=h.length;f<o;f++)null!==h[f].nTr&&(l=tt(e,f)[n],h[f]._anHidden[n]=l,l.parentNode.removeChild(l));for(a[n].bVisible=t,st(e,e.aoHeader),e.nTFoot&&st(e,e.aoFooter),f=0,o=e.aoOpenRows.length;f<o;f++)e.aoOpenRows[f].nTr.colSpan=ft(e);(r===i||r)&&(vt(e),c(e));ki(e)}};this.fnSettings=function(){return s(this[u.ext.iApiIndex])};this.fnSort=function(n){var t=s(this[u.ext.iApiIndex]);t.aaSorting=n;rt(t)};this.fnSortListener=function(n,t,i){bi(s(this[u.ext.iApiIndex]),n,t,i)};this.fnUpdate=function(n,t,f,e,o){var c=s(this[u.ext.iApiIndex]),t="object"==typeof t?g(c,t):t,n,l;if(r.isArray(n)&&f===i)for(c.aoData[t]._aData=n.slice(),f=0;f<c.aoColumns.length;f++)this.fnUpdate(h(c,t,f),t,f,!1,!1);else if(r.isPlainObject(n)&&f===i)for(c.aoData[t]._aData=r.extend(!0,{},n),f=0;f<c.aoColumns.length;f++)this.fnUpdate(h(c,t,f),t,f,!1,!1);else b(c,t,f,n),n=h(c,t,f,"display"),l=c.aoColumns[f],null!==l.fnRender&&(n=ot(c,t,f),l.bUseRendered&&b(c,t,f,n)),null!==c.aoData[t].nTr&&(tt(c,t)[f].innerHTML=n);return f=r.inArray(t,c.aiDisplay),c.asDataSearch[f]=ci(c,yt(c,t,"filter",k(c,"bSearchable"))),(o===i||o)&&vt(c),(e===i||e)&&wt(c),0};this.fnVersionCheck=u.ext.fnVersionCheck;this.oApi={_fnExternApiFunc:su,_fnInitialise:bt,_fnInitComplete:kt,_fnLanguageCompat:yi,_fnAddColumn:gt,_fnColumnOptions:ni,_fnAddData:d,_fnCreateTr:oi,_fnGatherData:tr,_fnBuildHead:rr,_fnDrawHead:st,_fnDraw:c,_fnReDraw:wt,_fnAjaxUpdate:fr,_fnAjaxParameters:er,_fnAjaxUpdateDraw:or,_fnServerParams:si,_fnAddOptionsHtml:ur,_fnFeatureHtmlTable:kr,_fnScrollDraw:dr,_fnAdjustColumnSizing:vt,_fnFeatureHtmlFilter:sr,_fnFilterComplete:nt,_fnFilterCustom:hr,_fnFilterColumn:cr,_fnFilter:lr,_fnBuildSearchArray:hi,_fnBuildSearchRow:ci,_fnFilterCreateSearch:li,_fnDataToSearch:ar,_fnSort:rt,_fnSortAttachListener:bi,_fnSortingClasses:ut,_fnFeatureHtmlPaginate:wr,_fnPageChange:pi,_fnFeatureHtmlInfo:vr,_fnUpdateInfo:yr,_fnFeatureHtmlLength:pr,_fnFeatureHtmlProcessing:br,_fnProcessingDisplay:p,_fnVisibleToColumnIndex:di,_fnColumnIndexToVisible:ti,_fnNodeToDataIndex:g,_fnVisbleColumns:ft,_fnCalculateEnd:l,_fnConvertToWidth:gr,_fnCalculateColumnWidths:wi,_fnScrollingWidthAdjust:nu,_fnGetWidestNode:tu,_fnGetMaxLenString:iu,_fnStringToCss:o,_fnDetectType:ii,_fnSettingsFromNode:s,_fnGetDataMaster:pt,_fnGetTrNodes:ct,_fnGetTdNodes:tt,_fnEscapeRegex:ai,_fnDeleteIndex:ei,_fnReOrderIndex:gi,_fnColumnOrdering:ri,_fnLog:w,_fnClearTable:fi,_fnSaveState:ki,_fnLoadState:uu,_fnCreateCookie:function(a,b,c,d,e){var f=new Date,c,a,g,j,o,k;if(f.setTime(f.getTime()+1e3*c),c=n.location.pathname.split("/"),a=a+"_"+c.pop().replace(/[\/:]/g,"").toLowerCase(),null!==e?(g="function"==typeof r.parseJSON?r.parseJSON(b):eval("("+b+")"),b=e(a,g,f.toGMTString(),c.join("/")+"/")):b=a+"="+encodeURIComponent(b)+"; expires="+f.toGMTString()+"; path="+c.join("/")+"/",a=t.cookie.split(";"),e=b.split(";")[0].length,f=[],4096<e+t.cookie.length+10){for(j=0,o=a.length;j<o;j++)if(-1!=a[j].indexOf(d)){k=a[j].split("=");try{(g=eval("("+decodeURIComponent(k[1])+")"))&&g.iCreate&&f.push({name:k[0],time:g.iCreate})}catch(m){}}for(f.sort(function(n,t){return t.time-n.time});4096<e+t.cookie.length+10;){if(0===f.length)return;d=f.pop();t.cookie=d.name+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; path="+c.join("/")+"/"}}t.cookie=b},_fnReadCookie:function(i){for(var r,u=n.location.pathname.split("/"),i=i+"_"+u[u.length-1].replace(/[\/:]/g,"").toLowerCase()+"=",u=t.cookie.split(";"),f=0;f<u.length;f++){for(r=u[f];" "==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(i))return decodeURIComponent(r.substring(i.length,r.length))}return null},_fnDetectHeader:ht,_fnGetUniqueThs:it,_fnScrollBarWidth:ru,_fnApplyToChildren:y,_fnMap:e,_fnGetRowData:yt,_fnGetCellData:h,_fnSetCellData:b,_fnGetObjectDataFn:et,_fnSetObjectDataFn:ir,_fnApplyColumnDefs:nr,_fnBindAction:eu,_fnExtend:fu,_fnCallbackReg:a,_fnCallbackFire:v,_fnJsonString:hu,_fnRender:ot,_fnNodeToColumnIndex:ui,_fnInfoMacros:vi,_fnBrowserDetect:ou,_fnGetColumns:k};r.extend(u.ext.oApi,this.oApi);for(dt in u.ext.oApi)dt&&(this[dt]=su(dt));return at=this,this.each(function(){var o=0,s,h,c,v,y,n,l;if(h=this.getAttribute("id"),v=!1,y=!1,"table"!=this.nodeName.toLowerCase())w(null,0,"Attempted to initialise DataTables on a node which is not a table: "+this.nodeName);else{for(o=0,s=u.settings.length;o<s;o++){if(u.settings[o].nTable==this){if(f===i||f.bRetrieve)return u.settings[o].oInstance;if(f.bDestroy){u.settings[o].oInstance.fnDestroy();break}else{w(u.settings[o],0,"Cannot reinitialise DataTable.\n\nTo retrieve the DataTables object for this table, pass no arguments or see the docs for bRetrieve and bDestroy");return}}if(u.settings[o].sTableId==this.id){u.settings.splice(o,1);break}}if((null===h||""===h)&&(this.id=h="DataTables_Table_"+u.ext._oExternConfig.iNextUnique++),n=r.extend(!0,{},u.models.oSettings,{nTable:this,oApi:at.oApi,oInit:f,sDestroyWidth:r(this).width(),sInstance:h,sTableId:h}),u.settings.push(n),n.oInstance=1===at.length?at:r(this).dataTable(),f||(f={}),f.oLanguage&&yi(f.oLanguage),f=fu(r.extend(!0,{},u.defaults),f),e(n.oFeatures,f,"bPaginate"),e(n.oFeatures,f,"bLengthChange"),e(n.oFeatures,f,"bFilter"),e(n.oFeatures,f,"bSort"),e(n.oFeatures,f,"bInfo"),e(n.oFeatures,f,"bProcessing"),e(n.oFeatures,f,"bAutoWidth"),e(n.oFeatures,f,"bSortClasses"),e(n.oFeatures,f,"bServerSide"),e(n.oFeatures,f,"bDeferRender"),e(n.oScroll,f,"sScrollX","sX"),e(n.oScroll,f,"sScrollXInner","sXInner"),e(n.oScroll,f,"sScrollY","sY"),e(n.oScroll,f,"bScrollCollapse","bCollapse"),e(n.oScroll,f,"bScrollInfinite","bInfinite"),e(n.oScroll,f,"iScrollLoadGap","iLoadGap"),e(n.oScroll,f,"bScrollAutoCss","bAutoCss"),e(n,f,"asStripeClasses"),e(n,f,"asStripClasses","asStripeClasses"),e(n,f,"fnServerData"),e(n,f,"fnFormatNumber"),e(n,f,"sServerMethod"),e(n,f,"aaSorting"),e(n,f,"aaSortingFixed"),e(n,f,"aLengthMenu"),e(n,f,"sPaginationType"),e(n,f,"sAjaxSource"),e(n,f,"sAjaxDataProp"),e(n,f,"iCookieDuration"),e(n,f,"sCookiePrefix"),e(n,f,"sDom"),e(n,f,"bSortCellsTop"),e(n,f,"iTabIndex"),e(n,f,"oSearch","oPreviousSearch"),e(n,f,"aoSearchCols","aoPreSearchCols"),e(n,f,"iDisplayLength","_iDisplayLength"),e(n,f,"bJQueryUI","bJUI"),e(n,f,"fnCookieCallback"),e(n,f,"fnStateLoad"),e(n,f,"fnStateSave"),e(n.oLanguage,f,"fnInfoCallback"),a(n,"aoDrawCallback",f.fnDrawCallback,"user"),a(n,"aoServerParams",f.fnServerParams,"user"),a(n,"aoStateSaveParams",f.fnStateSaveParams,"user"),a(n,"aoStateLoadParams",f.fnStateLoadParams,"user"),a(n,"aoStateLoaded",f.fnStateLoaded,"user"),a(n,"aoRowCallback",f.fnRowCallback,"user"),a(n,"aoRowCreatedCallback",f.fnCreatedRow,"user"),a(n,"aoHeaderCallback",f.fnHeaderCallback,"user"),a(n,"aoFooterCallback",f.fnFooterCallback,"user"),a(n,"aoInitComplete",f.fnInitComplete,"user"),a(n,"aoPreDrawCallback",f.fnPreDrawCallback,"user"),n.oFeatures.bServerSide&&n.oFeatures.bSort&&n.oFeatures.bSortClasses?a(n,"aoDrawCallback",ut,"server_side_sort_classes"):n.oFeatures.bDeferRender&&a(n,"aoDrawCallback",ut,"defer_sort_classes"),f.bJQueryUI?(r.extend(n.oClasses,u.ext.oJUIClasses),f.sDom===u.defaults.sDom&&"lfrtip"===u.defaults.sDom&&(n.sDom='<"H"lfr>t<"F"ip>')):r.extend(n.oClasses,u.ext.oStdClasses),r(this).addClass(n.oClasses.sTable),(""!==n.oScroll.sX||""!==n.oScroll.sY)&&(n.oScroll.iBarWidth=ru()),n.iInitDisplayStart===i&&(n.iInitDisplayStart=f.iDisplayStart,n._iDisplayStart=f.iDisplayStart),f.bStateSave&&(n.oFeatures.bStateSave=!0,uu(n,f),a(n,"aoDrawCallback",ki,"state_save")),null!==f.iDeferLoading&&(n.bDeferLoading=!0,o=r.isArray(f.iDeferLoading),n._iRecordsDisplay=o?f.iDeferLoading[0]:f.iDeferLoading,n._iRecordsTotal=o?f.iDeferLoading[1]:f.iDeferLoading),null!==f.aaData&&(y=!0),""!==f.oLanguage.sUrl?(n.oLanguage.sUrl=f.oLanguage.sUrl,r.getJSON(n.oLanguage.sUrl,null,function(t){yi(t);r.extend(!0,n.oLanguage,f.oLanguage,t);bt(n)}),v=!0):r.extend(!0,n.oLanguage,f.oLanguage),null===f.asStripeClasses&&(n.asStripeClasses=[n.oClasses.sStripeOdd,n.oClasses.sStripeEven]),s=n.asStripeClasses.length,n.asDestroyStripes=[],s){for(h=!1,c=r(this).children("tbody").children("tr:lt("+s+")"),o=0;o<s;o++)c.hasClass(n.asStripeClasses[o])&&(h=!0,n.asDestroyStripes.push(n.asStripeClasses[o]));h&&c.removeClass(n.asStripeClasses.join(" "))}if(h=[],o=this.getElementsByTagName("thead"),0!==o.length&&(ht(n.aoHeader,o[0]),h=it(n)),null===f.aoColumns)for(c=[],o=0,s=h.length;o<s;o++)c.push(null);else c=f.aoColumns;for(o=0,s=c.length;o<s;o++)f.saved_aoColumns!==i&&f.saved_aoColumns.length==s&&(null===c[o]&&(c[o]={}),c[o].bVisible=f.saved_aoColumns[o].bVisible),gt(n,h?h[o]:null);for(nr(n,f.aoColumnDefs,c,function(t,i){ni(n,t,i)}),o=0,s=n.aaSorting.length;o<s;o++)for(n.aaSorting[o][0]>=n.aoColumns.length&&(n.aaSorting[o][0]=0),l=n.aoColumns[n.aaSorting[o][0]],n.aaSorting[o][2]===i&&(n.aaSorting[o][2]=0),f.aaSorting===i&&n.saved_aaSorting===i&&(n.aaSorting[o][1]=l.asSorting[0]),h=0,c=l.asSorting.length;h<c;h++)if(n.aaSorting[o][1]==l.asSorting[h]){n.aaSorting[o][2]=h;break}if(ut(n),ou(n),o=r(this).children("caption").each(function(){this._captionSide=r(this).css("caption-side")}),s=r(this).children("thead"),0===s.length&&(s=[t.createElement("thead")],this.appendChild(s[0])),n.nTHead=s[0],s=r(this).children("tbody"),0===s.length&&(s=[t.createElement("tbody")],this.appendChild(s[0])),n.nTBody=s[0],n.nTBody.setAttribute("role","alert"),n.nTBody.setAttribute("aria-live","polite"),n.nTBody.setAttribute("aria-relevant","all"),s=r(this).children("tfoot"),0===s.length&&0<o.length&&(""!==n.oScroll.sX||""!==n.oScroll.sY)&&(s=[t.createElement("tfoot")],this.appendChild(s[0])),0<s.length&&(n.nTFoot=s[0],ht(n.aoFooter,n.nTFoot)),y)for(o=0;o<f.aaData.length;o++)d(n,f.aaData[o]);else tr(n);n.aiDisplay=n.aiDisplayMaster.slice();n.bInitialised=!0;!1===v&&bt(n)}}),at=null,this};u.fnVersionCheck=function(n){for(var i=function(n,t){for(;n.length<t;)n+="0";return n},e=u.ext.sVersion.split("."),n=n.split("."),r="",f="",t=0,o=n.length;t<o;t++)r+=i(e[t],3),f+=i(n[t],3);return parseInt(r,10)>=parseInt(f,10)};u.fnIsDataTable=function(n){for(var i=u.settings,t=0;t<i.length;t++)if(i[t].nTable===n||i[t].nScrollHead===n||i[t].nScrollFoot===n)return!0;return!1};u.fnTables=function(n){var t=[];return jQuery.each(u.settings,function(i,u){(!n||!0===n&&r(u.nTable).is(":visible"))&&t.push(u.nTable)}),t};u.version="1.9.4";u.settings=[];u.models={};u.models.ext={afnFiltering:[],afnSortData:[],aoFeatures:[],aTypes:[],fnVersionCheck:u.fnVersionCheck,iApiIndex:0,ofnSearch:{},oApi:{},oStdClasses:{},oJUIClasses:{},oPagination:{},oSort:{},sVersion:u.version,sErrMode:"alert",_oExternConfig:{iNextUnique:0}};u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0};u.models.oRow={nTr:null,_aData:[],_aSortData:[],_anHidden:[],_sRowStripe:""};u.models.oColumn={aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bUseRendered:null,bVisible:null,_bAutoType:!0,fnCreatedCell:null,fnGetData:null,fnRender:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null};u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bJQueryUI:!1,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollAutoCss:!0,bScrollCollapse:!1,bScrollInfinite:!1,bServerSide:!1,bSort:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCookieCallback:null,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){if(1e3>n)return n;for(var t=n+"",n=t.split(""),i="",t=t.length,r=0;r<t;r++)0==r%3&&0!==r&&(i=this.oLanguage.sInfoThousands+i),i=n[t-r-1]+i;return i},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:function(n,t,i,u){u.jqXHR=r.ajax({url:n,data:t,success:function(n){n.sError&&u.oApi._fnLog(u,0,n.sError);r(u.oInstance).trigger("xhr",[u,n]);i(n)},dataType:"json",cache:!1,type:u.sServerMethod,error:function(n,t){"parsererror"==t&&u.oApi._fnLog(u,0,"DataTables warning: JSON data from server could not be parsed. This is caused by a JSON formatting error.")}})},fnServerParams:null,fnStateLoad:function(e){var e=this.oApi._fnReadCookie(e.sCookiePrefix+e.sInstance),j;try{j="function"==typeof r.parseJSON?r.parseJSON(e):eval("("+e+")")}catch(m){j=null}return j},fnStateLoadParams:null,fnStateLoaded:null,fnStateSave:function(n,t){this.oApi._fnCreateCookie(n.sCookiePrefix+n.sInstance,this.oApi._fnJsonString(t),n.iCookieDuration,n.sCookiePrefix,n.fnCookieCallback)},fnStateSaveParams:null,iCookieDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iScrollLoadGap:100,iTabIndex:0,oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sUrl:"",sZeroRecords:"No matching records found"},oSearch:r.extend({},u.models.oSearch),sAjaxDataProp:"aaData",sAjaxSource:null,sCookiePrefix:"SpryMedia_DataTables_",sDom:"lfrtip",sPaginationType:"two_button",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET"};u.defaults.columns={aDataSort:null,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bUseRendered:!0,bVisible:!0,fnCreatedCell:null,fnRender:null,iDataSort:-1,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null};u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortClasses:null,bStateSave:null},oScroll:{bAutoCss:null,bCollapse:null,bInfinite:null,iBarWidth:0,iLoadGap:null,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1},aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aoColumns:[],aoHeader:[],aoFooter:[],asDataSearch:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:null,asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,sPaginationType:"two_button",iCookieDuration:0,sCookiePrefix:"",fnCookieCallback:null,aoStateSave:[],aoStateLoad:[],oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iDisplayEnd:10,_iRecordsTotal:0,_iRecordsDisplay:0,bJUI:null,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsTotal,10):this.aiDisplayMaster.length},fnRecordsDisplay:function(){return this.oFeatures.bServerSide?parseInt(this._iRecordsDisplay,10):this.aiDisplay.length},fnDisplayEnd:function(){return this.oFeatures.bServerSide?!1===this.oFeatures.bPaginate||-1==this._iDisplayLength?this._iDisplayStart+this.aiDisplay.length:Math.min(this._iDisplayStart+this._iDisplayLength,this._iRecordsDisplay):this._iDisplayEnd},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null};u.ext=r.extend(!0,{},u.models.ext);r.extend(u.ext.oStdClasses,{sTable:"dataTable",sPagePrevEnabled:"paginate_enabled_previous",sPagePrevDisabled:"paginate_disabled_previous",sPageNextEnabled:"paginate_enabled_next",sPageNextDisabled:"paginate_disabled_next",sPageJUINext:"",sPageJUIPrev:"",sPageButton:"paginate_button",sPageButtonActive:"paginate_active",sPageButtonStaticDisabled:"paginate_button paginate_button_disabled",sPageFirst:"first",sPagePrevious:"previous",sPageNext:"next",sPageLast:"last",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sFooterTH:"",sJUIHeader:"",sJUIFooter:""});r.extend(u.ext.oJUIClasses,u.ext.oStdClasses,{sPagePrevEnabled:"fg-button ui-button ui-state-default ui-corner-left",sPagePrevDisabled:"fg-button ui-button ui-state-default ui-corner-left ui-state-disabled",sPageNextEnabled:"fg-button ui-button ui-state-default ui-corner-right",sPageNextDisabled:"fg-button ui-button ui-state-default ui-corner-right ui-state-disabled",sPageJUINext:"ui-icon ui-icon-circle-arrow-e",sPageJUIPrev:"ui-icon ui-icon-circle-arrow-w",sPageButton:"fg-button ui-button ui-state-default",sPageButtonActive:"fg-button ui-button ui-state-default ui-state-disabled",sPageButtonStaticDisabled:"fg-button ui-button ui-state-default ui-state-disabled",sPageFirst:"first ui-corner-tl ui-corner-bl",sPageLast:"last ui-corner-tr ui-corner-br",sPaging:"dataTables_paginate fg-buttonset ui-buttonset fg-buttonset-multi ui-buttonset-multi paging_",sSortAsc:"ui-state-default",sSortDesc:"ui-state-default",sSortable:"ui-state-default",sSortableAsc:"ui-state-default",sSortableDesc:"ui-state-default",sSortableNone:"ui-state-default",sSortJUIAsc:"css_right ui-icon ui-icon-triangle-1-n",sSortJUIDesc:"css_right ui-icon ui-icon-triangle-1-s",sSortJUI:"css_right ui-icon ui-icon-carat-2-n-s",sSortJUIAscAllowed:"css_right ui-icon ui-icon-carat-1-n",sSortJUIDescAllowed:"css_right ui-icon ui-icon-carat-1-s",sSortJUIWrapper:"DataTables_sort_wrapper",sSortIcon:"DataTables_sort_icon",sScrollHead:"dataTables_scrollHead ui-state-default",sScrollFoot:"dataTables_scrollFoot ui-state-default",sFooterTH:"ui-state-default",sJUIHeader:"fg-toolbar ui-toolbar ui-widget-header ui-corner-tl ui-corner-tr ui-helper-clearfix",sJUIFooter:"fg-toolbar ui-toolbar ui-widget-header ui-corner-bl ui-corner-br ui-helper-clearfix"});r.extend(u.ext.oPagination,{two_button:{fnInit:function(n,t,i){var u=n.oLanguage.oPaginate,e=function(t){n.oApi._fnPageChange(n,t.data.action)&&i(n)},u=n.bJUI?'<a class="'+n.oClasses.sPagePrevDisabled+'" tabindex="'+n.iTabIndex+'" role="button"><span class="'+n.oClasses.sPageJUIPrev+'"><\/span><\/a><a class="'+n.oClasses.sPageNextDisabled+'" tabindex="'+n.iTabIndex+'" role="button"><span class="'+n.oClasses.sPageJUINext+'"><\/span><\/a>':'<a class="'+n.oClasses.sPagePrevDisabled+'" tabindex="'+n.iTabIndex+'" role="button">'+u.sPrevious+'<\/a><a class="'+n.oClasses.sPageNextDisabled+'" tabindex="'+n.iTabIndex+'" role="button">'+u.sNext+"<\/a>";r(t).append(u);var f=r("a",t),u=f[0],f=f[1];n.oApi._fnBindAction(u,{action:"previous"},e);n.oApi._fnBindAction(f,{action:"next"},e);n.aanFeatures.p||(t.id=n.sTableId+"_paginate",u.id=n.sTableId+"_previous",f.id=n.sTableId+"_next",u.setAttribute("aria-controls",n.sTableId),f.setAttribute("aria-controls",n.sTableId))},fnUpdate:function(n){if(n.aanFeatures.p)for(var i=n.oClasses,u=n.aanFeatures.p,t,r=0,f=u.length;r<f;r++)(t=u[r].firstChild)&&(t.className=0===n._iDisplayStart?i.sPagePrevDisabled:i.sPagePrevEnabled,t=t.nextSibling,t.className=n.fnDisplayEnd()==n.fnRecordsDisplay()?i.sPageNextDisabled:i.sPageNextEnabled)}},iFullNumbersShowPages:5,full_numbers:{fnInit:function(n,t,i){var f=n.oLanguage.oPaginate,u=n.oClasses,o=function(t){n.oApi._fnPageChange(n,t.data.action)&&i(n)};r(t).append('<a  tabindex="'+n.iTabIndex+'" class="'+u.sPageButton+" "+u.sPageFirst+'">'+f.sFirst+'<\/a><a  tabindex="'+n.iTabIndex+'" class="'+u.sPageButton+" "+u.sPagePrevious+'">'+f.sPrevious+'<\/a><span><\/span><a tabindex="'+n.iTabIndex+'" class="'+u.sPageButton+" "+u.sPageNext+'">'+f.sNext+'<\/a><a tabindex="'+n.iTabIndex+'" class="'+u.sPageButton+" "+u.sPageLast+'">'+f.sLast+"<\/a>");var e=r("a",t),f=e[0],u=e[1],s=e[2],e=e[3];n.oApi._fnBindAction(f,{action:"first"},o);n.oApi._fnBindAction(u,{action:"previous"},o);n.oApi._fnBindAction(s,{action:"next"},o);n.oApi._fnBindAction(e,{action:"last"},o);n.aanFeatures.p||(t.id=n.sTableId+"_paginate",f.id=n.sTableId+"_first",u.id=n.sTableId+"_previous",s.id=n.sTableId+"_next",e.id=n.sTableId+"_last")},fnUpdate:function(n,t){if(n.aanFeatures.p){var f=u.ext.oPagination.iFullNumbersShowPages,e=Math.floor(f/2),h=Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength),c=Math.ceil(n._iDisplayStart/n._iDisplayLength)+1,l="",s,o=n.oClasses,i,a=n.aanFeatures.p,v=function(i){n.oApi._fnBindAction(this,{page:i+s-1},function(i){n.oApi._fnPageChange(n,i.data.page);t(n);i.preventDefault()})};for(-1===n._iDisplayLength?c=e=s=1:h<f?(s=1,e=h):c<=e?(s=1,e=f):c>=h-e?(s=h-f+1,e=h):(s=c-Math.ceil(f/2)+1,e=s+f-1),f=s;f<=e;f++)l+=c!==f?'<a tabindex="'+n.iTabIndex+'" class="'+o.sPageButton+'">'+n.fnFormatNumber(f)+"<\/a>":'<a tabindex="'+n.iTabIndex+'" class="'+o.sPageButtonActive+'">'+n.fnFormatNumber(f)+"<\/a>";for(f=0,e=a.length;f<e;f++)i=a[f],i.hasChildNodes()&&(r("span:eq(0)",i).html(l).children("a").each(v),i=i.getElementsByTagName("a"),i=[i[0],i[1],i[i.length-2],i[i.length-1]],r(i).removeClass(o.sPageButton+" "+o.sPageButtonActive+" "+o.sPageButtonStaticDisabled),r([i[0],i[1]]).addClass(1==c?o.sPageButtonStaticDisabled:o.sPageButton),r([i[2],i[3]]).addClass(0===h||c===h||-1===n._iDisplayLength?o.sPageButtonStaticDisabled:o.sPageButton))}}}});r.extend(u.ext.oSort,{"string-pre":function(n){return"string"!=typeof n&&(n=null!==n&&n.toString?n.toString():""),n.toLowerCase()},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0},"html-pre":function(n){return n.replace(/<.*?>/g,"").toLowerCase()},"html-asc":function(n,t){return n<t?-1:n>t?1:0},"html-desc":function(n,t){return n<t?1:n>t?-1:0},"date-pre":function(n){return n=Date.parse(n),(isNaN(n)||""===n)&&(n=Date.parse("01/01/1970 00:00:00")),n},"date-asc":function(n,t){return n-t},"date-desc":function(n,t){return t-n},"numeric-pre":function(n){return"-"==n||""===n?0:1*n},"numeric-asc":function(n,t){return n-t},"numeric-desc":function(n,t){return t-n}});r.extend(u.ext.aTypes,[function(n){var t,r,i;if("number"==typeof n)return"numeric";if("string"!=typeof n||(r=!1,t=n.charAt(0),-1=="0123456789-".indexOf(t)))return null;for(i=1;i<n.length;i++){if(t=n.charAt(i),-1=="0123456789.".indexOf(t))return null;if("."==t){if(r)return null;r=!0}}return"numeric"},function(n){var t=Date.parse(n);return null!==t&&!isNaN(t)||"string"==typeof n&&0===n.length?"date":null},function(n){return"string"==typeof n&&-1!=n.indexOf("<")&&-1!=n.indexOf(">")?"html":null}]);r.fn.DataTable=u;r.fn.dataTable=u;r.fn.dataTableSettings=u.settings;r.fn.dataTableExt=u.ext};"function"==typeof define&&define.amd?define(["jquery"],r):jQuery&&!jQuery.fn.dataTable&&r(jQuery)}(window,document);$.extend(!0,$.fn.dataTable.defaults,{sDom:"<'row'<'col-sm-6'l><'col-sm-6'f>r>t<'row'<'col-sm-6'i><'col-sm-6'p>>",sPaginationType:"bootstrap",oLanguage:{sLengthMenu:"_MENU_ records per page",sSearch:""}});$.extend($.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper"});$.fn.dataTableExt.oApi.fnPagingInfo=function(n){return{iStart:n._iDisplayStart,iEnd:n.fnDisplayEnd(),iLength:n._iDisplayLength,iTotal:n.fnRecordsTotal(),iFilteredTotal:n.fnRecordsDisplay(),iPage:n._iDisplayLength===-1?0:Math.ceil(n._iDisplayStart/n._iDisplayLength),iTotalPages:n._iDisplayLength===-1?0:Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength)}};$.extend($.fn.dataTableExt.oPagination,{bootstrap:{fnInit:function(n,t,i){var u=n.oLanguage.oPaginate,f=function(t){t.preventDefault();n.oApi._fnPageChange(n,t.data.action)&&i(n)},r;$(t).append('<ol class="pagination"><li class="prev disabled"><a href="#"><i class="fa fa-long-arrow-left"><\/i> '+u.sPrevious+'<\/a><\/li><li class="next disabled"><a href="#">'+u.sNext+' <i class="fa fa-long-arrow-right"><\/i><\/a><\/li><\/ol>');r=$("a",t);$(r[0]).bind("click.DT",{action:"previous"},f);$(r[1]).bind("click.DT",{action:"next"},f)},fnUpdate:function(n,t){var e=5,i=n.oInstance.fnPagingInfo(),u=n.aanFeatures.p,r,c,o,l,f,s,h=Math.floor(e/2);for(i.iTotalPages<e?(f=1,s=i.iTotalPages):i.iPage<=h?(f=1,s=e):i.iPage>=i.iTotalPages-h?(f=i.iTotalPages-e+1,s=i.iTotalPages):(f=i.iPage-h+1,s=f+e-1),r=0,c=u.length;r<c;r++){for($("li:gt(0)",u[r]).filter(":not(:last)").remove(),o=f;o<=s;o++)l=o==i.iPage+1?'class="active"':"",$("<li "+l+'><a href="#">'+o+"<\/a><\/li>").insertBefore($("li:last",u[r])[0]).bind("click",function(r){r.preventDefault();n._iDisplayStart=(parseInt($("a",this).text(),10)-1)*i.iLength;t(n)});i.iPage===0?$("li:first",u[r]).addClass("disabled"):$("li:first",u[r]).removeClass("disabled");i.iPage===i.iTotalPages-1||i.iTotalPages===0?$("li:last",u[r]).addClass("disabled"):$("li:last",u[r]).removeClass("disabled")}}}});$.fn.DataTable.TableTools&&($.extend(!0,$.fn.DataTable.TableTools.classes,{container:"btn-group",buttons:{normal:"btn btn-default",disabled:"disabled"},collection:{container:"",buttons:{normal:"",disabled:"disabled"}},print:{info:"modal"},select:{row:"active"}}),$.extend(!0,$.fn.DataTable.TableTools.DEFAULTS.oTags,{collection:{container:"ul",button:"li",liner:"a"}})),function(n,t,r){TableTools=function(t,i){return!this instanceof TableTools&&alert("Warning: TableTools must be initialised with the keyword 'new'"),this.s={that:this,dt:t.fnSettings(),print:{saveStart:-1,saveLength:-1,saveScroll:-1,funcEnd:function(){}},buttonCounter:0,select:{type:"",selected:[],preRowSelect:null,postSelected:null,postDeselected:null,all:!1,selectedClass:""},custom:{},swfPath:"",buttonSet:[],master:!1,tags:{}},this.dom={container:null,table:null,print:{hidden:[],message:null},collection:{collection:null,background:null}},this.classes=n.extend(!0,{},TableTools.classes),this.s.dt.bJUI&&n.extend(!0,this.classes,TableTools.classes_themeroller),this.fnSettings=function(){return this.s},typeof i=="undefined"&&(i={}),this._fnConstruct(i),this};TableTools.prototype={fnGetSelected:function(n){var r=[],t=this.s.dt.aoData,u=this.s.dt.aiDisplay,i;if(n)for(n=0,i=u.length;n<i;n++)t[u[n]]._DTTT_selected&&r.push(t[u[n]].nTr);else for(n=0,i=t.length;n<i;n++)t[n]._DTTT_selected&&r.push(t[n].nTr);return r},fnGetSelectedData:function(){for(var t=[],i=this.s.dt.aoData,n=0,r=i.length;n<r;n++)i[n]._DTTT_selected&&t.push(this.s.dt.oInstance.fnGetData(n));return t},fnIsSelected:function(n){return this.s.dt.aoData[this.s.dt.oInstance.fnGetPosition(n)]._DTTT_selected===!0?!0:!1},fnSelectAll:function(n){var t=this._fnGetMasterSettings();this._fnRowSelect(n===!0?t.dt.aiDisplay:t.dt.aoData)},fnSelectNone:function(n){this._fnGetMasterSettings();this._fnRowDeselect(this.fnGetSelected(n))},fnSelect:function(n){this.s.select.type=="single"?(this.fnSelectNone(),this._fnRowSelect(n)):this.s.select.type=="multi"&&this._fnRowSelect(n)},fnDeselect:function(n){this._fnRowDeselect(n)},fnGetTitle:function(n){var t="";return typeof n.sTitle!="undefined"&&n.sTitle!==""?t=n.sTitle:(n=r.getElementsByTagName("title"),n.length>0&&(t=n[0].innerHTML)),"¡".toString().length<4?t.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""):t.replace(/[^a-zA-Z0-9_\.,\-_ !\(\)]/g,"")},fnCalcColRatios:function(n){var e=this.s.dt.aoColumns;n=this._fnColumnTargets(n.mColumns);for(var i=[],u=0,f=0,t=0,r=n.length;t<r;t++)n[t]&&(u=e[t].nTh.offsetWidth,f+=u,i.push(u));for(t=0,r=i.length;t<r;t++)i[t]/=f;return i.join("\t")},fnGetTableData:function(n){if(this.s.dt)return this._fnGetDataTablesData(n)},fnSetText:function(n,t){this._fnFlashSetText(n,t)},fnResizeButtons:function(){var t,n;for(t in ZeroClipboard_TableTools.clients)t&&(n=ZeroClipboard_TableTools.clients[t],typeof n.domElement!="undefined"&&n.domElement.parentNode&&n.positionElement())},fnResizeRequired:function(){var t,n;for(t in ZeroClipboard_TableTools.clients)if(t&&(n=ZeroClipboard_TableTools.clients[t],typeof n.domElement!="undefined"&&n.domElement.parentNode==this.dom.container&&n.sized===!1))return!0;return!1},fnPrint:function(n,t){t===undefined&&(t={});n===undefined||n?this._fnPrintStart(t):this._fnPrintEnd()},fnInfo:function(t,i){var u=r.createElement("div");u.className=this.classes.print.info;u.innerHTML=t;r.body.appendChild(u);setTimeout(function(){n(u).fadeOut("normal",function(){r.body.removeChild(u)})},i)},_fnConstruct:function(t){var i=this;this._fnCustomiseSettings(t);this.dom.container=r.createElement(this.s.tags.container);this.dom.container.className=this.classes.container;this.s.select.type!="none"&&this._fnRowSelectConfig();this._fnButtonDefinations(this.s.buttonSet,this.dom.container);this.s.dt.aoDestroyCallback.push({sName:"TableTools",fn:function(){n(i.s.dt.nTBody).off("click.DTTT_Select","tr");n(i.dom.container).empty()}})},_fnCustomiseSettings:function(t){typeof this.s.dt._TableToolsInit=="undefined"&&(this.s.master=!0,this.s.dt._TableToolsInit=!0);this.dom.table=this.s.dt.nTable;this.s.custom=n.extend({},TableTools.DEFAULTS,t);this.s.swfPath=this.s.custom.sSwfPath;typeof ZeroClipboard_TableTools!="undefined"&&(ZeroClipboard_TableTools.moviePath=this.s.swfPath);this.s.select.type=this.s.custom.sRowSelect;this.s.select.preRowSelect=this.s.custom.fnPreRowSelect;this.s.select.postSelected=this.s.custom.fnRowSelected;this.s.select.postDeselected=this.s.custom.fnRowDeselected;this.s.custom.sSelectedClass&&(this.classes.select.row=this.s.custom.sSelectedClass);this.s.tags=this.s.custom.oTags;this.s.buttonSet=this.s.custom.aButtons},_fnButtonDefinations:function(t,i){for(var u,r=0,f=t.length;r<f;r++){if(typeof t[r]=="string"){if(typeof TableTools.BUTTONS[t[r]]=="undefined"){alert("TableTools: Warning - unknown button type: "+t[r]);continue}u=n.extend({},TableTools.BUTTONS[t[r]],!0)}else{if(typeof TableTools.BUTTONS[t[r].sExtends]=="undefined"){alert("TableTools: Warning - unknown button type: "+t[r].sExtends);continue}u=n.extend({},TableTools.BUTTONS[t[r].sExtends],!0);u=n.extend(u,t[r],!0)}i.appendChild(this._fnCreateButton(u,n(i).hasClass(this.classes.collection.container)))}},_fnCreateButton:function(n,t){return t=this._fnButtonBase(n,t),n.sAction.match(/flash/)?this._fnFlashConfig(t,n):n.sAction=="text"?this._fnTextConfig(t,n):n.sAction=="div"?this._fnTextConfig(t,n):n.sAction=="collection"&&(this._fnTextConfig(t,n),this._fnCollectionConfig(t,n)),t},_fnButtonBase:function(n,t){var i,u,f;return t?(i=n.sTag&&n.sTag!=="default"?n.sTag:this.s.tags.collection.button,u=n.sLinerTag&&n.sLinerTag!=="default"?n.sLiner:this.s.tags.collection.liner,t=this.classes.collection.buttons.normal):(i=n.sTag&&n.sTag!=="default"?n.sTag:this.s.tags.button,u=n.sLinerTag&&n.sLinerTag!=="default"?n.sLiner:this.s.tags.liner,t=this.classes.buttons.normal),i=r.createElement(i),u=r.createElement(u),f=this._fnGetMasterSettings(),i.className=t+" "+n.sButtonClass,i.setAttribute("id","ToolTables_"+this.s.dt.sInstance+"_"+f.buttonCounter),i.appendChild(u),u.innerHTML=n.sButtonText,f.buttonCounter++,i},_fnGetMasterSettings:function(){if(this.s.master)return this.s;for(var t=TableTools._aInstances,n=0,i=t.length;n<i;n++)if(this.dom.table==t[n].s.dt.nTable)return t[n].s},_fnCollectionConfig:function(n,t){n=r.createElement(this.s.tags.collection.container);n.style.display="none";n.className=this.classes.collection.container;t._collection=n;r.body.appendChild(n);this._fnButtonDefinations(t.aButtons,n)},_fnCollectionShow:function(i,u){var a=this,o=n(i).offset(),f=u._collection,e;u=o.left;o=o.top+n(i).outerHeight();var s=n(t).height(),l=n(r).height(),h=n(t).width(),c=n(r).width();f.style.position="absolute";f.style.left=u+"px";f.style.top=o+"px";f.style.display="block";n(f).css("opacity",0);e=r.createElement("div");e.style.position="absolute";e.style.left="0px";e.style.top="0px";e.style.height=(s>l?s:l)+"px";e.style.width=(h>c?h:c)+"px";e.className=this.classes.collection.background;n(e).css("opacity",0);r.body.appendChild(e);r.body.appendChild(f);s=n(f).outerWidth();h=n(f).outerHeight();u+s>c&&(f.style.left=c-s+"px");o+h>l&&(f.style.top=o-h-n(i).outerHeight()+"px");this.dom.collection.collection=f;this.dom.collection.background=e;setTimeout(function(){n(f).animate({opacity:1},500);n(e).animate({opacity:.25},500)},10);this.fnResizeButtons();n(e).click(function(){a._fnCollectionHide.call(a,null,null)})},_fnCollectionHide:function(t,i){i!==null&&i.sExtends=="collection"||this.dom.collection.collection!==null&&(n(this.dom.collection.collection).animate({opacity:0},500,function(){this.style.display="none"}),n(this.dom.collection.background).animate({opacity:0},500,function(){this.parentNode.removeChild(this)}),this.dom.collection.collection=null,this.dom.collection.background=null)},_fnRowSelectConfig:function(){if(this.s.master){var t=this,i=this.s.dt;n(i.nTable).addClass(this.classes.select.table);n(i.nTBody).on("click.DTTT_Select","tr",function(n){this.parentNode==i.nTBody&&i.oInstance.fnGetData(this)!==null&&(t.fnIsSelected(this)?t._fnRowDeselect(this,n):t.s.select.type=="single"?(t.fnSelectNone(),t._fnRowSelect(this,n)):t.s.select.type=="multi"&&t._fnRowSelect(this,n))});i.oApi._fnCallbackReg(i,"aoRowCreatedCallback",function(r,u,f){i.aoData[f]._DTTT_selected&&n(r).addClass(t.classes.select.row)},"TableTools-SelectAll")}},_fnRowSelect:function(t,i){var e=this,u,r,f;for(t=this._fnSelectData(t),u=[],r=0,f=t.length;r<f;r++)t[r].nTr&&u.push(t[r].nTr);if(!(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,i,u,!0))){for(r=0,f=t.length;r<f;r++)t[r]._DTTT_selected=!0,t[r].nTr&&n(t[r].nTr).addClass(e.classes.select.row);this.s.select.postSelected!==null&&this.s.select.postSelected.call(this,u);TableTools._fnEventDispatch(this,"select",u,!0)}},_fnRowDeselect:function(t,i){var e=this,u,r,f;for(t=this._fnSelectData(t),u=[],r=0,f=t.length;r<f;r++)t[r].nTr&&u.push(t[r].nTr);if(!(this.s.select.preRowSelect!==null&&!this.s.select.preRowSelect.call(this,i,u,!1))){for(r=0,f=t.length;r<f;r++)t[r]._DTTT_selected=!1,t[r].nTr&&n(t[r].nTr).removeClass(e.classes.select.row);this.s.select.postDeselected!==null&&this.s.select.postDeselected.call(this,u);TableTools._fnEventDispatch(this,"select",u,!1)}},_fnSelectData:function(n){var i=[],r,t,u;if(n.nodeName)r=this.s.dt.oInstance.fnGetPosition(n),i.push(this.s.dt.aoData[r]);else{if(typeof n.length!="undefined"){for(t=0,u=n.length;t<u;t++)n[t].nodeName?(r=this.s.dt.oInstance.fnGetPosition(n[t]),i.push(this.s.dt.aoData[r])):typeof n[t]=="number"?i.push(this.s.dt.aoData[n[t]]):i.push(n[t]);return i}i.push(n)}return i},_fnTextConfig:function(t,i){var r=this;i.fnInit!==null&&i.fnInit.call(this,t,i);i.sToolTip!==""&&(t.title=i.sToolTip);n(t).hover(function(){i.fnMouseover!==null&&i.fnMouseover.call(this,t,i,null)},function(){i.fnMouseout!==null&&i.fnMouseout.call(this,t,i,null)});i.fnSelect!==null&&TableTools._fnEventListen(this,"select",function(n){i.fnSelect.call(r,t,i,n)});n(t).click(function(n){i.fnClick!==null&&i.fnClick.call(r,t,i,null,n);i.fnComplete!==null&&i.fnComplete.call(r,t,i,null,null);r._fnCollectionHide(t,i)})},_fnFlashConfig:function(n,t){var r=this,i=new ZeroClipboard_TableTools.Client;t.fnInit!==null&&t.fnInit.call(this,n,t);i.setHandCursor(!0);t.sAction=="flash_save"?(i.setAction("save"),i.setCharSet(t.sCharSet=="utf16le"?"UTF16LE":"UTF8"),i.setBomInc(t.bBomInc),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):t.sAction=="flash_pdf"?(i.setAction("pdf"),i.setFileName(t.sFileName.replace("*",this.fnGetTitle(t)))):i.setAction("copy");i.addEventListener("mouseOver",function(){t.fnMouseover!==null&&t.fnMouseover.call(r,n,t,i)});i.addEventListener("mouseOut",function(){t.fnMouseout!==null&&t.fnMouseout.call(r,n,t,i)});i.addEventListener("mouseDown",function(){t.fnClick!==null&&t.fnClick.call(r,n,t,i)});i.addEventListener("complete",function(u,f){t.fnComplete!==null&&t.fnComplete.call(r,n,t,i,f);r._fnCollectionHide(n,t)});this._fnFlashGlue(i,n,t.sToolTip)},_fnFlashGlue:function(n,t,i){var u=this,f=t.getAttribute("id");r.getElementById(f)?n.glue(t,i):setTimeout(function(){u._fnFlashGlue(n,t,i)},100)},_fnFlashSetText:function(n,t){t=this._fnChunkData(t,8192);n.clearText();for(var i=0,r=t.length;i<r;i++)n.appendText(t[i])},_fnColumnTargets:function(n){var r=[],t=this.s.dt;if(typeof n=="object"){for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(!1);for(i=0,iLen=n.length;i<iLen;i++)r[n[i]]=!0}else if(n=="visible")for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(t.aoColumns[i].bVisible?!0:!1);else if(n=="hidden")for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(t.aoColumns[i].bVisible?!1:!0);else if(n=="sortable")for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(t.aoColumns[i].bSortable?!0:!1);else for(i=0,iLen=t.aoColumns.length;i<iLen;i++)r.push(!0);return r},_fnNewline:function(n){return n.sNewLine=="auto"?navigator.userAgent.match(/Windows/)?"\r\n":"\n":n.sNewLine},_fnGetDataTablesData:function(t){var r,e,o,h,f,c=[],i="",u=this.s.dt,a,l=new RegExp(t.sFieldBoundary,"g"),v=this._fnColumnTargets(t.mColumns),s;if(o=typeof t.bSelectedOnly!="undefined"?t.bSelectedOnly:!1,t.bHeader){for(f=[],r=0,e=u.aoColumns.length;r<e;r++)v[r]&&(i=u.aoColumns[r].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,""),i=this._fnHtmlDecode(i),f.push(this._fnBoundData(i,t.sFieldBoundary,l)));c.push(f.join(t.sFieldSeperator))}if(s=u.aiDisplay,h=this.fnGetSelected(),this.s.select.type!=="none"&&o&&h.length!==0)for(s=[],r=0,e=h.length;r<e;r++)s.push(u.oInstance.fnGetPosition(h[r]));for(o=0,h=s.length;o<h;o++){for(a=u.aoData[s[o]].nTr,f=[],r=0,e=u.aoColumns.length;r<e;r++)v[r]&&(i=u.oApi._fnGetCellData(u,s[o],r,"display"),t.fnCellRender?i=t.fnCellRender(i,r,a,s[o])+"":typeof i=="string"?(i=i.replace(/\n/g," "),i=i.replace(/<img.*?\s+alt\s*=\s*(?:"([^"]+)"|'([^']+)'|([^\s>]+)).*?>/gi,"$1$2$3"),i=i.replace(/<.*?>/g,"")):i=i+"",i=i.replace(/^\s+/,"").replace(/\s+$/,""),i=this._fnHtmlDecode(i),f.push(this._fnBoundData(i,t.sFieldBoundary,l)));c.push(f.join(t.sFieldSeperator));t.bOpenRows&&(r=n.grep(u.aoOpenRows,function(n){return n.nParent===a}),r.length===1&&(i=this._fnBoundData(n("td",r[0].nTr).html(),t.sFieldBoundary,l),c.push(i)))}if(t.bFooter&&u.nTFoot!==null){for(f=[],r=0,e=u.aoColumns.length;r<e;r++)v[r]&&u.aoColumns[r].nTf!==null&&(i=u.aoColumns[r].nTf.innerHTML.replace(/\n/g," ").replace(/<.*?>/g,""),i=this._fnHtmlDecode(i),f.push(this._fnBoundData(i,t.sFieldBoundary,l)));c.push(f.join(t.sFieldSeperator))}return _sLastData=c.join(this._fnNewline(t))},_fnBoundData:function(n,t,i){return t===""?n:t+n.replace(i,t+t)+t},_fnChunkData:function(n,t){for(var r=[],u=n.length,i=0;i<u;i+=t)i+t<u?r.push(n.substring(i,i+t)):r.push(n.substring(i,u));return r},_fnHtmlDecode:function(n){if(n.indexOf("&")===-1)return n;var t=r.createElement("div");return n.replace(/&([^\s]*);/g,function(n,i){return n.substr(1,1)==="#"?String.fromCharCode(Number(i.substr(1))):(t.innerHTML=n,t.childNodes[0].nodeValue)})},_fnPrintStart:function(i){var s=this,u=this.s.dt,e,f,o,h;this._fnPrintHideNodes(u.nTable);this.s.print.saveStart=u._iDisplayStart;this.s.print.saveLength=u._iDisplayLength;i.bShowAll&&(u._iDisplayStart=0,u._iDisplayLength=-1,u.oApi._fnCalculateEnd(u),u.oApi._fnDraw(u));(u.oScroll.sX!==""||u.oScroll.sY!=="")&&(this._fnPrintScrollStart(u),n(this.s.dt.nTable).bind("draw.DTTT_Print",function(){s._fnPrintScrollStart(u)}));e=u.aanFeatures;for(f in e)if(f!="i"&&f!="t"&&f.length==1)for(o=0,h=e[f].length;o<h;o++)this.dom.print.hidden.push({node:e[f][o],display:"block"}),e[f][o].style.display="none";n(r.body).addClass(this.classes.print.body);i.sInfo!==""&&this.fnInfo(i.sInfo,3e3);i.sMessage&&(this.dom.print.message=r.createElement("div"),this.dom.print.message.className=this.classes.print.message,this.dom.print.message.innerHTML=i.sMessage,r.body.insertBefore(this.dom.print.message,r.body.childNodes[0]));this.s.print.saveScroll=n(t).scrollTop();t.scrollTo(0,0);n(r).bind("keydown.DTTT",function(n){n.keyCode==27&&(n.preventDefault(),s._fnPrintEnd.call(s,n))})},_fnPrintEnd:function(){var i=this.s.dt,u=this.s.print,f=this.dom.print;this._fnPrintShowNodes();(i.oScroll.sX!==""||i.oScroll.sY!=="")&&(n(this.s.dt.nTable).unbind("draw.DTTT_Print"),this._fnPrintScrollEnd());t.scrollTo(0,u.saveScroll);f.message!==null&&(r.body.removeChild(f.message),f.message=null);n(r.body).removeClass("DTTT_Print");i._iDisplayStart=u.saveStart;i._iDisplayLength=u.saveLength;i.oApi._fnCalculateEnd(i);i.oApi._fnDraw(i);n(r).unbind("keydown.DTTT")},_fnPrintScrollStart:function(){var t=this.s.dt,r,i;t.nScrollHead.getElementsByTagName("div")[0].getElementsByTagName("table");r=t.nTable.parentNode;i=t.nTable.getElementsByTagName("thead");i.length>0&&t.nTable.removeChild(i[0]);t.nTFoot!==null&&(i=t.nTable.getElementsByTagName("tfoot"),i.length>0&&t.nTable.removeChild(i[0]));i=t.nTHead.cloneNode(!0);t.nTable.insertBefore(i,t.nTable.childNodes[0]);t.nTFoot!==null&&(i=t.nTFoot.cloneNode(!0),t.nTable.insertBefore(i,t.nTable.childNodes[1]));t.oScroll.sX!==""&&(t.nTable.style.width=n(t.nTable).outerWidth()+"px",r.style.width=n(t.nTable).outerWidth()+"px",r.style.overflow="visible");t.oScroll.sY!==""&&(r.style.height=n(t.nTable).outerHeight()+"px",r.style.overflow="visible")},_fnPrintScrollEnd:function(){var n=this.s.dt,t=n.nTable.parentNode;n.oScroll.sX!==""&&(t.style.width=n.oApi._fnStringToCss(n.oScroll.sX),t.style.overflow="auto");n.oScroll.sY!==""&&(t.style.height=n.oApi._fnStringToCss(n.oScroll.sY),t.style.overflow="auto")},_fnPrintShowNodes:function(){for(var n=this.dom.print.hidden,t=0,i=n.length;t<i;t++)n[t].node.style.display=n[t].display;n.splice(0,n.length)},_fnPrintHideNodes:function(t){for(var f,e=this.dom.print.hidden,u=t.parentNode,r=u.childNodes,i=0,o=r.length;i<o;i++)r[i]!=t&&r[i].nodeType==1&&(f=n(r[i]).css("display"),f!="none"&&(e.push({node:r[i],display:f}),r[i].style.display="none"));u.nodeName!="BODY"&&this._fnPrintHideNodes(u)}};TableTools._aInstances=[];TableTools._aListeners=[];TableTools.fnGetMasters=function(){for(var t=[],n=0,i=TableTools._aInstances.length;n<i;n++)TableTools._aInstances[n].s.master&&t.push(TableTools._aInstances[n]);return t};TableTools.fnGetInstance=function(n){typeof n!="object"&&(n=r.getElementById(n));for(var t=0,i=TableTools._aInstances.length;t<i;t++)if(TableTools._aInstances[t].s.master&&TableTools._aInstances[t].dom.table==n)return TableTools._aInstances[t];return null};TableTools._fnEventListen=function(n,t,i){TableTools._aListeners.push({that:n,type:t,fn:i})};TableTools._fnEventDispatch=function(n,t,i,r){for(var f=TableTools._aListeners,u=0,e=f.length;u<e;u++)n.dom.table==f[u].that.dom.table&&f[u].type==t&&f[u].fn(i,r)};TableTools.buttonBase={sAction:"text",sTag:"default",sLinerTag:"default",sButtonClass:"DTTT_button_text",sButtonText:"Button text",sTitle:"",sToolTip:"",sCharSet:"utf8",bBomInc:!1,sFileName:"*.csv",sFieldBoundary:"",sFieldSeperator:"\t",sNewLine:"auto",mColumns:"all",bHeader:!0,bFooter:!0,bOpenRows:!1,bSelectedOnly:!1,fnMouseover:null,fnMouseout:null,fnClick:null,fnSelect:null,fnComplete:null,fnInit:null,fnCellRender:null};TableTools.BUTTONS={csv:n.extend({},TableTools.buttonBase,{sAction:"flash_save",sButtonClass:"DTTT_button_csv",sButtonText:"CSV",sFieldBoundary:'"',sFieldSeperator:",",fnClick:function(n,t,i){this.fnSetText(i,this.fnGetTableData(t))}}),xls:n.extend({},TableTools.buttonBase,{sAction:"flash_save",sCharSet:"utf16le",bBomInc:!0,sButtonClass:"DTTT_button_xls",sButtonText:"Excel",fnClick:function(n,t,i){this.fnSetText(i,this.fnGetTableData(t))}}),copy:n.extend({},TableTools.buttonBase,{sAction:"flash_copy",sButtonClass:"DTTT_button_copy",sButtonText:"Copy",fnClick:function(n,t,i){this.fnSetText(i,this.fnGetTableData(t))},fnComplete:function(n,t,i,r){n=r.split("\n").length;n=this.s.dt.nTFoot===null?n-1:n-2;this.fnInfo("<h6>Table copied<\/h6><p>Copied "+n+" row"+(n==1?"":"s")+" to the clipboard.<\/p>",1500)}}),pdf:n.extend({},TableTools.buttonBase,{sAction:"flash_pdf",sNewLine:"\n",sFileName:"*.pdf",sButtonClass:"DTTT_button_pdf",sButtonText:"PDF",sPdfOrientation:"portrait",sPdfSize:"A4",sPdfMessage:"",fnClick:function(n,t,i){this.fnSetText(i,"title:"+this.fnGetTitle(t)+"\nmessage:"+t.sPdfMessage+"\ncolWidth:"+this.fnCalcColRatios(t)+"\norientation:"+t.sPdfOrientation+"\nsize:"+t.sPdfSize+"\n--/TableToolsOpts--\n"+this.fnGetTableData(t))}}),print:n.extend({},TableTools.buttonBase,{sInfo:"<h6>Print view<\/h6><p>Please use your browser's print function to print this table. Press escape when finished.",sMessage:null,bShowAll:!0,sToolTip:"View print view",sButtonClass:"DTTT_button_print",sButtonText:"Print",fnClick:function(n,t){this.fnPrint(!0,t)}}),text:n.extend({},TableTools.buttonBase),select:n.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){this.fnGetSelected().length!==0?n(t).removeClass(this.classes.buttons.disabled):n(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){n(t).addClass(this.classes.buttons.disabled)}}),select_single:n.extend({},TableTools.buttonBase,{sButtonText:"Select button",fnSelect:function(t){this.fnGetSelected().length==1?n(t).removeClass(this.classes.buttons.disabled):n(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){n(t).addClass(this.classes.buttons.disabled)}}),select_all:n.extend({},TableTools.buttonBase,{sButtonText:"Select all",fnClick:function(){this.fnSelectAll()},fnSelect:function(t){this.fnGetSelected().length==this.s.dt.fnRecordsDisplay()?n(t).addClass(this.classes.buttons.disabled):n(t).removeClass(this.classes.buttons.disabled)}}),select_none:n.extend({},TableTools.buttonBase,{sButtonText:"Deselect all",fnClick:function(){this.fnSelectNone()},fnSelect:function(t){this.fnGetSelected().length!==0?n(t).removeClass(this.classes.buttons.disabled):n(t).addClass(this.classes.buttons.disabled)},fnInit:function(t){n(t).addClass(this.classes.buttons.disabled)}}),ajax:n.extend({},TableTools.buttonBase,{sAjaxUrl:"/xhr.php",sButtonText:"Ajax button",fnClick:function(t,i){t=this.fnGetTableData(i);n.ajax({url:i.sAjaxUrl,data:[{name:"tableData",value:t}],success:i.fnAjaxComplete,dataType:"json",type:"POST",cache:!1,error:function(){alert("Error detected when sending table data to server")}})},fnAjaxComplete:function(){alert("Ajax complete")}}),div:n.extend({},TableTools.buttonBase,{sAction:"div",sTag:"div",sButtonClass:"DTTT_nonbutton",sButtonText:"Text button"}),collection:n.extend({},TableTools.buttonBase,{sAction:"collection",sButtonClass:"DTTT_button_collection",sButtonText:"Collection",fnClick:function(n,t){this._fnCollectionShow(n,t)}})};TableTools.classes={container:"DTTT_container",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"},collection:{container:"DTTT_collection",background:"DTTT_collection_background",buttons:{normal:"DTTT_button",disabled:"DTTT_disabled"}},select:{table:"DTTT_selectable",row:"DTTT_selected"},print:{body:"DTTT_Print",info:"DTTT_print_info",message:"DTTT_PrintMessage"}};TableTools.classes_themeroller={container:"DTTT_container ui-buttonset ui-buttonset-multi",buttons:{normal:"DTTT_button ui-button ui-state-default"},collection:{container:"DTTT_collection ui-buttonset ui-buttonset-multi"}};TableTools.DEFAULTS={sSwfPath:"media/swf/copy_csv_xls_pdf.swf",sRowSelect:"none",sSelectedClass:null,fnPreRowSelect:null,fnRowSelected:null,fnRowDeselected:null,aButtons:["copy","csv","xls","pdf","print"],oTags:{container:"div",button:"a",liner:"span",collection:{container:"div",button:"a",liner:"span"}}};TableTools.prototype.CLASS="TableTools";TableTools.VERSION="2.1.6-dev";TableTools.prototype.VERSION=TableTools.VERSION;typeof n.fn.dataTable=="function"&&typeof n.fn.dataTableExt.fnVersionCheck=="function"&&n.fn.dataTableExt.fnVersionCheck("1.9.0")?n.fn.dataTableExt.aoFeatures.push({fnInit:function(n){return n=new TableTools(n.oInstance,typeof n.oInit.oTableTools!="undefined"?n.oInit.oTableTools:{}),TableTools._aInstances.push(n),n.dom.container},cFeature:"T",sFeature:"TableTools"}):alert("Warning: TableTools 2 requires DataTables 1.9.0 or newer - www.datatables.net/download");n.fn.DataTable.TableTools=TableTools}(jQuery,window,document),function(n,t){"use strict";var r=n(t),i=!1,u=!1,e="data-edit-event",o="data-is-editing",f="data-is-empty",h="dbltap",p="ontouchend"in t,w="tinyMCE"in t&&typeof t.tinyMCE.init=="function",b=n.fn.is,c=0,l=function(){var t=(new Date).getTime();t-c<250&&n(this).trigger(h);c=t},a=function(n){if(n.keyCode==13&&n.data.closeOnEnter)u.editable("close");else if(n.data.toggleFontSize&&n.metaKey&&(n.keyCode==38||n.keyCode==40)){var t=parseInt(i.css("font-size"),10);return t+=n.keyCode==40?-1:1,i.css("font-size",t+"px"),!1}},s=function(){i[0].scrollHeight!==parseInt(i.attr("data-scroll"),10)&&(i.css("height",i[0].scrollHeight+"px"),i.attr("data-scroll",i[0].scrollHeight))},v=function(n,t,r){n.removeAttr(o);t.length==0&&r?(n.html(r),n.attr(f,"empty")):(n.html(t),n.removeAttr(f));i.remove()},y=function(t,e){var l;if(!t.is(":editing")){u=t;t.attr(o,"1");t.is(":empty")&&(t.removeAttr(f),t.html(""));var h=n.trim(t.html()),y=t.css("font-size"),p=t.height(),c="width: 96%; padding:0; margin:0; border:0; background:none;font-family: "+t.css("font-family")+"; font-size: "+t.css("font-size")+";font-weight: "+t.css("font-weight")+";";e.lineBreaks&&(h=h.replace(/<br( |)(|\/)>/g,"\n"));i=n("<textarea><\/textarea>");t.text("");navigator.userAgent.match(/webkit/i)!==null&&(c=document.defaultView.getComputedStyle(t.get(0),"").cssText);c+="position: static";e.tinyMCE!==!1?(l="editable-area-"+(new Date).getTime(),i.val(h).appendTo(t).attr("id",l),typeof e.tinyMCE!="object"&&(e.tinyMCE={}),e.tinyMCE.mode="exact",e.tinyMCE.elements=l,e.tinyMCE.width=t.innerWidth(),e.tinyMCE.height=t.height()+200,e.tinyMCE.theme_advanced_resize_vertical=!0,e.tinyMCE.setup=function(f){f.onInit.add(function(f){var s=f.getWin(),c=!1,o=function(){var s=n(f.getDoc()).find("body").html();n(s).get(0).nodeName==t.get(0).nodeName&&(s=n(s).html());v(t,s,e.emptyMessage);f.remove();i=!1;r.unbind("click",o);u=!1;typeof e.callback=="function"&&e.callback({content:s==h||!c?!1:s,fontSize:!1,$el:t})};setTimeout(function(){r.bind("click",o)},500);i=n("<textarea><\/textarea>");i.bind("blur",o);s.onkeydown=function(){c=!0};s.focus()})},tinyMCE.init(e.tinyMCE)):((e.toggleFontSize||e.closeOnEnter)&&r.bind("keydown",e,a),r.bind("keyup",s),i.val(h).blur(function(){u=!1;var f=n.trim(i.val()),o=i.css("font-size");e.lineBreaks&&(f=f.replace(new RegExp("\n","g"),"<br />"));v(t,f,e.emptyMessage);o!=y&&t.css("font-size",o);r.unbind("keydown",a);r.unbind("keyup",s);typeof e.callback=="function"&&e.callback({content:f==h?!1:f,fontSize:o==y?!1:o,$el:t})}).attr("style",c).appendTo(t).css({margin:0,padding:0,height:p+"px",overflow:"hidden"}).focus().get(0).select(),s());t.trigger("edit",[i])}},k=function(t){return u!==!1?(u.editable("close"),y(n(this),t.data)):y(n(this),t.data),!1};n.fn.editable=function(t){if(typeof t=="string")if(this.is(":editable"))switch(t){case"open":this.is(":editing")||this.trigger(this.attr(e));break;case"close":this.is(":editing")&&i.trigger("blur");break;case"destroy":this.is(":editing")&&i.trigger("blur");this.unbind(this.attr(e));this.removeAttr(e);break;default:console.warn('Unknown command "'+t+'" for jquery.editable')}else console.error("Calling .editable() on an element that is not editable, call .editable() first");else this.is(":editable")&&(console.warn('Making an already editable element editable, call .editable("destroy") first'),this.editable("destroy")),t=n.extend({event:"dblclick",touch:!0,lineBreaks:!0,toggleFontSize:!0,closeOnEnter:!1,emptyMessage:!1,tinyMCE:!1},t),t.tinyMCE===!1||w||(console.warn("Trying to use tinyMCE as editor but id does not seem to be installed"),t.tinyMCE=!1),p&&t.touch?(t.event=h,this.unbind("touchend",l),this.bind("touchend",l)):t.event+=".textEditor",this.bind(t.event,t,k),this.attr(e,t.event),this.html().length==0&&t.emptyMessage?(this.html(t.emptyMessage),this.attr(f,"empty")):this.removeAttr(f);return this};n.fn.is=function(n){if(typeof n=="string"&&n.indexOf(":")===0){if(n==":editable")return this.attr(e)!==undefined;if(n==":editing")return this.attr(o)!==undefined;if(n==":empty")return this.attr(f)!==undefined}return b.apply(this,arguments)}}(jQuery,window),function(n,t,i,r,u){var e=function(n){!this instanceof e&&alert("DataTables Editor must be initilaised as a 'new' instance'");this._constructor(n)},h,o,s,f;u.Editor=e;e.models={};e.models.displayController={init:function(){},open:function(){},close:function(){}};e.models.field={className:"",name:null,dataProp:"",label:"",id:"",type:"text",fieldInfo:"",labelInfo:"","default":"",dataSourceGet:null,dataSourceSet:null,el:null,_fieldMessage:null,_fieldInfo:null,_fieldError:null,_labelInfo:null};e.models.fieldType={create:function(){},get:function(){},set:function(){},enable:function(){},disable:function(){}};e.models.settings={ajaxUrl:"",ajax:null,domTable:null,dbTable:"",opts:null,displayController:null,fields:[],order:[],id:-1,displayed:!1,processing:!1,editRow:null,removeRows:null,action:null,idSrc:null,events:{onProcessing:[],onPreOpen:[],onOpen:[],onPreClose:[],onClose:[],onPreSubmit:[],onPostSubmit:[],onSubmitComplete:[],onSubmitSuccess:[],onSubmitError:[],onInitCreate:[],onPreCreate:[],onCreate:[],onPostCreate:[],onInitEdit:[],onPreEdit:[],onEdit:[],onPostEdit:[],onInitRemove:[],onPreRemove:[],onRemove:[],onPostRemove:[],onSetData:[],onInitComplete:[]}};e.models.button={label:null,fn:null,className:null};e.display={};h=jQuery;e.display.lightbox=h.extend(!0,{},e.models.displayController,{init:function(){return o._init(),o},open:function(n,t,i){o._shown?i&&i():(o._dte=n,h(o._dom.content).children().detach(),o._dom.content.appendChild(t),o._dom.content.appendChild(o._dom.close),o._shown=!0,o._show(i))},close:function(n,t){o._shown?(o._dte=n,o._hide(t),o._shown=!1):t&&t()},_init:function(){o._ready||(o._dom.content=h("div.DTED_Lightbox_Content",o._dom.wrapper)[0],t.body.appendChild(o._dom.background),t.body.appendChild(o._dom.wrapper),o._dom.background.style.visbility="hidden",o._dom.background.style.display="block",o._cssBackgroundOpacity=h(o._dom.background).css("opacity"),o._dom.background.style.display="none",o._dom.background.style.visbility="visible")},_show:function(t){t||(t=function(){});o._dom.content.style.height="auto";var i=o._dom.wrapper.style;i.opacity=0;i.display="block";o._heightCalc();i.display="none";i.opacity=1;h(o._dom.wrapper).fadeIn();o._dom.background.style.opacity=0;o._dom.background.style.display="block";h(o._dom.background).animate({opacity:o._cssBackgroundOpacity},"normal",t);h(o._dom.close).bind("click.DTED_Lightbox",function(){o._dte.close("icon")});h(o._dom.background).bind("click.DTED_Lightbox",function(){o._dte.close("background")});h("div.DTED_Lightbox_Content_Wrapper",o._dom.wrapper).bind("click.DTED_Lightbox",function(n){h(n.target).hasClass("DTED_Lightbox_Content_Wrapper")&&o._dte.close("background")});h(n).bind("resize.DTED_Lightbox",function(){o._heightCalc()})},_heightCalc:function(){o.conf.heightCalc?o.conf.heightCalc(o._dom.wrapper):h(o._dom.content).children().height();var t=h(n).height()-o.conf.windowPadding*2-h("div.DTE_Header",o._dom.wrapper).outerHeight()-h("div.DTE_Footer",o._dom.wrapper).outerHeight();h("div.DTE_Body_Content",o._dom.wrapper).css("maxHeight",t)},_hide:function(t){t||(t=function(){});h([o._dom.wrapper,o._dom.background]).fadeOut("normal",t);h(o._dom.close).unbind("click.DTED_Lightbox");h(o._dom.background).unbind("click.DTED_Lightbox");h("div.DTED_Lightbox_Content_Wrapper",o._dom.wrapper).unbind("click.DTED_Lightbox");h(n).unbind("resize.DTED_Lightbox")},_dte:null,_ready:!1,_shown:!1,_cssBackgroundOpacity:1,_dom:{wrapper:h('<div class="DTED_Lightbox_Wrapper"><div class="DTED_Lightbox_Container"><div class="DTED_Lightbox_Content_Wrapper"><div class="DTED_Lightbox_Content"><\/div><\/div><\/div><\/div>')[0],background:h('<div class="DTED_Lightbox_Background"><\/div>')[0],close:h('<div class="DTED_Lightbox_Close"><\/div>')[0],content:null}});o=e.display.lightbox;o.conf={windowPadding:100,heightCalc:null};s=jQuery;e.display.envelope=s.extend(!0,{},e.models.displayController,{init:function(n){return f._dte=n,f._init(),f},open:function(n,t,i){f._dte=n;s(f._dom.content).children().detach();f._dom.content.appendChild(t);f._dom.content.appendChild(f._dom.close);f._show(i)},close:function(n,t){f._dte=n;f._hide(t)},_init:function(){f._ready||(f._dom.content=s("div.DTED_Envelope_Container",f._dom.wrapper)[0],t.body.appendChild(f._dom.background),t.body.appendChild(f._dom.wrapper),f._dom.background.style.visbility="hidden",f._dom.background.style.display="block",f._cssBackgroundOpacity=s(f._dom.background).css("opacity"),f._dom.background.style.display="none",f._dom.background.style.visbility="visible")},_show:function(t){var i;t||(t=function(){});f._dom.content.style.height="auto";i=f._dom.wrapper.style;i.opacity=0;i.display="block";var r=f._findAttachRow(),e=f._heightCalc(),u=r.offsetWidth;i.display="none";i.opacity=1;f._dom.wrapper.style.width=u+"px";f._dom.wrapper.style.marginLeft=-(u/2)+"px";f._dom.wrapper.style.top=s(r).offset().top+r.offsetHeight+"px";f._dom.content.style.top=-1*e-20+"px";f._dom.background.style.opacity=0;f._dom.background.style.display="block";s(f._dom.background).animate({opacity:f._cssBackgroundOpacity},"normal");s(f._dom.wrapper).fadeIn();f.conf.windowScroll?s("html,body").animate({scrollTop:s(r).offset().top+r.offsetHeight-f.conf.windowPadding},function(){s(f._dom.content).animate({top:0},600,t)}):s(f._dom.content).animate({top:0},600,t);s(f._dom.close).bind("click.DTED_Envelope",function(){f._dte.close("icon")});s(f._dom.background).bind("click.DTED_Envelope",function(){f._dte.close("background")});s("div.DTED_Lightbox_Content_Wrapper",f._dom.wrapper).bind("click.DTED_Envelope",function(n){s(n.target).hasClass("DTED_Envelope_Content_Wrapper")&&f._dte.close("background")});s(n).bind("resize.DTED_Envelope",function(){f._heightCalc()})},_heightCalc:function(){f.conf.heightCalc?f.conf.heightCalc(f._dom.wrapper):s(f._dom.content).children().height();var t=s(n).height()-f.conf.windowPadding*2-s("div.DTE_Header",f._dom.wrapper).outerHeight()-s("div.DTE_Footer",f._dom.wrapper).outerHeight();return s("div.DTE_Body_Content",f._dom.wrapper).css("maxHeight",t),s(f._dte.dom.wrapper).outerHeight()},_hide:function(t){t||(t=function(){});s(f._dom.content).animate({top:-(f._dom.content.offsetHeight+50)},600,function(){s([f._dom.wrapper,f._dom.background]).fadeOut("normal",t)});s(f._dom.close).unbind("click.DTED_Lightbox");s(f._dom.background).unbind("click.DTED_Lightbox");s("div.DTED_Lightbox_Content_Wrapper",f._dom.wrapper).unbind("click.DTED_Lightbox");s(n).unbind("resize.DTED_Lightbox")},_findAttachRow:function(){return f.conf.attach==="head"||f._dte.s.action==="create"?s(f._dte.s.domTable).dataTable().fnSettings().nTHead:f._dte.s.action==="edit"?f._dte.s.editRow:f._dte.s.action==="remove"?f._dte.s.removeRows[0]:void 0},_dte:null,_ready:!1,_cssBackgroundOpacity:1,_dom:{wrapper:s('<div class="DTED_Envelope_Wrapper"><div class="DTED_Envelope_ShadowLeft"><\/div><div class="DTED_Envelope_ShadowRight"><\/div><div class="DTED_Envelope_Container"><\/div><\/div>')[0],background:s('<div class="DTED_Envelope_Background"><\/div>')[0],close:s('<div class="DTED_Envelope_Close">&times;<\/div>')[0],content:null}});f=e.display.envelope;f.conf={windowPadding:50,heightCalc:null,attach:"row",windowScroll:!0};e.prototype.add=function(n){var u=this,t=this.classes.field,i;if(r.isArray(n))for(t=0,i=n.length;t<i;t++)this.add(n[t]);else n=r.extend(!0,{},e.models.field,n),n.id="DTE_Field_"+n.name,""===n.dataProp&&(n.dataProp=n.name),n.dataSourceGet=function(){var t=r(u.s.domTable).dataTable().oApi._fnGetObjectDataFn(n.dataProp);return n.dataSourceGet=t,t.apply(u,arguments)},n.dataSourceSet=function(){var t=r(u.s.domTable).dataTable().oApi._fnSetObjectDataFn(n.dataProp);return n.dataSourceSet=t,t.apply(u,arguments)},t=r('<div class="'+t.wrapper+" "+t.typePrefix+n.type+" "+t.namePrefix+n.name+" "+n.className+'"><label data-dte-e="label" class="'+t.label+'" for="'+n.id+'">'+n.label+'<div data-dte-e="msg-label" class="'+t["msg-label"]+'">'+n.labelInfo+'<\/div><\/label><div data-dte-e="input" class="'+t.input+'"><div data-dte-e="msg-error" class="'+t["msg-error"]+'"><\/div><div data-dte-e="msg-message" class="'+t["msg-message"]+'"><\/div><div data-dte-e="msg-info" class="'+t["msg-info"]+'">'+n.fieldInfo+"<\/div><\/div><\/div>")[0],i=e.fieldTypes[n.type].create.call(this,n),null!==i?this._$("input",t).prepend(i):t.style.display="none",this.dom.formContent.appendChild(t),this.dom.formContent.appendChild(this.dom.formClear),n.el=t,n._fieldInfo=this._$("msg-info",t)[0],n._labelInfo=this._$("msg-label",t)[0],n._fieldError=this._$("msg-error",t)[0],n._fieldMessage=this._$("msg-message",t)[0],this.s.fields.push(n),this.s.order.push(n.name)};e.prototype.buttons=function(n){var o=this,i,f,u,e;if(r.isArray(n))for(r(this.dom.buttons).empty(),e=function(n){return function(t){t.preventDefault();n.fn&&n.fn.call(o)}},i=0,f=n.length;i<f;i++)u=t.createElement("button"),n[i].label&&(u.innerHTML=n[i].label),n[i].className&&(u.className=n[i].className),r(u).click(e(n[i])),this.dom.buttons.appendChild(u);else this.buttons([n])};e.prototype.clear=function(n){if(n)if(r.isArray(n))for(var t=0,u=n.length;t<u;t++)this.clear(n[t]);else t=this._findFieldIndex(n),t!==i&&(r(this.s.fields[t].el).remove(),this.s.fields.splice(t,1),n=r.inArray(n,this.s.order),this.s.order.splice(n,1));else r("div."+this.classes.field.wrapper,this.dom.wrapper).remove(),this.s.fields.splice(0,this.s.fields.length),this.s.order.splice(0,this.s.order.length)};e.prototype.close=function(n){var t=this;this._display("close",function(){t._clearDynamicInfo()},n)};e.prototype.create=function(n,t,u){var e=this,f=this.s.fields;for(this.s.id="",this.s.action="create",this.dom.form.style.display="block",this._actionClass(),n&&this.title(n),t&&this.buttons(t),n=0,t=f.length;n<t;n++)this.field(f[n].name).set(f[n]["default"]);this._callbackFire("onInitCreate");(u===i||u)&&this._display("open",function(){r("input,select,textarea",e.dom.wrapper).filter(":visible").filter(":enabled").filter(":eq(0)").focus()})};e.prototype.disable=function(n){if(r.isArray(n))for(var t=0,i=n.length;t<i;t++)this.disable(n[t]);else this.field(n).disable()};e.prototype.edit=function(n,t,u,f){var s=this,e,o;for(this.s.id=this._rowId(n),this.s.editRow=n,this.s.action="edit",this.dom.form.style.display="block",this._actionClass(),t&&this.title(t),u&&this.buttons(u),n=r(this.s.domTable).dataTable()._(n)[0],t=0,u=this.s.fields.length;t<u;t++)e=this.s.fields[t],o=e.dataSourceGet(n,"editor"),this.field(e.name).set(""!==e.dataProp&&o!==i?o:e["default"]);this._callbackFire("onInitEdit");(f===i||f)&&this._display("open",function(){r("input,select,textarea",s.dom.wrapper).filter(":visible").filter(":enabled").filter(":eq(0)").focus()})};e.prototype.enable=function(n){if(r.isArray(n))for(var t=0,i=n.length;t<i;t++)this.enable(n[t]);else this.field(n).enable()};e.prototype.error=function(n,t){if(t===i)this._message(this.dom.formError,"fade",n);else{var u=this._findField(n);u&&(this._message(u._fieldError,"slide",t),r(u.el).addClass(this.classes.field.error))}};e.prototype.field=function(n){var f=this,t={},i=this._findField(n),u=e.fieldTypes[i.type];return r.each(u,function(n,r){t[n]="function"==typeof r?function(){var t=[].slice.call(arguments);return t.unshift(i),u[n].apply(f,t)}:r}),t};e.prototype.fields=function(){for(var t=[],n=0,i=this.s.fields.length;n<i;n++)t.push(this.s.fields[n].name);return t};e.prototype.get=function(n){var u=this,t={};return n===i?(r.each(this.fields(),function(n,i){t[i]=u.get(i)}),t):this.field(n).get()};e.prototype.hide=function(n){var t,i;if(n)if(r.isArray(n))for(t=0,i=n.length;t<i;t++)this.hide(n[t]);else(n=this._findField(n))&&(this.s.displayed?r(n.el).slideUp():n.el.style.display="none");else for(t=0,i=this.s.fields.length;t<i;t++)this.hide(this.s.fields[t].name)};e.prototype.message=function(n,t){if(t===i)this._message(this.dom.formInfo,"fade",n);else{var r=this._findField(n);this._message(r._fieldMessage,"slide",t)}};e.prototype.node=function(n){return(n=this._findField(n))?n.el:i};e.prototype.off=function(n,t){"function"==typeof r().off?r(this).off(n,t):r(this).unbind(n,t)};e.prototype.on=function(n,t){if("function"==typeof r().on)r(this).on(n,t);else r(this).bind(n,t)};e.prototype.open=function(){this._display("open")};e.prototype.order=function(n){if(!n)return this.s.order;if(1<arguments.length&&!r.isArray(n)&&(n=Array.prototype.slice.call(arguments)),this.s.order.slice().sort().join("-")!==n.slice().sort().join("-"))throw"All fields, and no additional fields, must be provided for ordering.";r.extend(this.s.order,n)};e.prototype.remove=function(n,t,u,f){r.isArray(n)?(this.s.id="",this.s.action="remove",this.s.removeRows=n,this.dom.form.style.display="none",this._actionClass(),t&&this.title(t),u&&this.buttons(u),this._callbackFire("onInitRemove"),(f===i||f)&&this._display("open")):this.remove([n],t,u,f)};e.prototype.set=function(n,t){this.field(n).set(t)};e.prototype.show=function(n){var t,i;if(n)if(r.isArray(n))for(t=0,i=n.length;t<i;t++)this.show(n[t]);else(n=this._findField(n))&&(this.s.displayed?r(n.el).slideDown():n.el.style.display="block");else for(t=0,i=this.s.fields.length;t<i;t++)this.show(this.s.fields[t].name)};e.prototype.submit=function(n,t,i,u){var o=this,e=!0,f;!this.s.processing&&this.s.action&&(this._processing(!0),f=r('div[data-dte-e="msg-error"]:visible',this.dom.wrapper),0<f.length?f.slideUp(function(){e&&(o._submit(n,t,i,u),e=!1)}):this._submit(n,t,i,u),r("div."+this.classes.field.error,this.dom.wrapper).removeClass(this.classes.field.error),r(this.dom.formError).fadeOut())};e.prototype.title=function(n){this.dom.header.innerHTML=n};e.prototype._constructor=function(t){var s,o,f,i,u;if(t=r.extend(!0,{},e.defaults,t),this.s=r.extend(!0,{},e.models.settings),this.classes=r.extend(!0,{},e.classes),s=this,i=this.classes,this.dom={wrapper:r('<div class="'+i.wrapper+'"><div data-dte-e="processing" class="'+i.processing.indicator+'"><\/div><div data-dte-e="head" class="'+i.header.wrapper+'"><div data-dte-e="head_content" class="'+i.header.content+'"><\/div><\/div><div data-dte-e="body" class="'+i.body.wrapper+'"><div data-dte-e="body_content" class="'+i.body.content+'"><div data-dte-e="form_info" class="'+i.form.info+'"><\/div><form data-dte-e="form" class="'+i.form.tag+'"><div data-dte-e="form_content" class="'+i.form.content+'"><div data-dte-e="form_clear" class="'+i.form.clear+'"><\/div><\/div><\/form><\/div><\/div><div data-dte-e="foot" class="'+i.footer.wrapper+'"><div data-dte-e="foot_content" class="'+i.footer.content+'"><div data-dte-e="form_error" class="'+i.form.error+'"><\/div><div data-dte-e="form_buttons" class="'+i.form.buttons+'"><\/div><\/div><\/div><\/div>')[0],form:null,formClear:null,formError:null,formInfo:null,formContent:null,header:null,body:null,bodyContent:null,footer:null,processing:null,buttons:null},this.s.domTable=t.domTable,this.s.dbTable=t.dbTable,this.s.ajaxUrl=t.ajaxUrl,this.s.ajax=t.ajax,this.s.idSrc=t.idSrc,this.i18n=t.i18n,n.TableTools&&(o=n.TableTools.BUTTONS,f=this.i18n,r.each(["create","edit","remove"],function(n,t){o["editor_"+t].sButtonText=f[t].button;o["editor_"+t].formTitle=f[t].title;o["editor_"+t].formButtons[0].label=f[t].submit}),o.editor_remove.question=function(n){return("string"===f.remove.confirm?f.remove.confirm:f.remove.confirm[n]?f.remove.confirm[n]:f.remove.confirm._).replace(/%d/g,n)}),r.each(t.events,function(n,t){s._callbackReg(n,t,"User")}),i=this.dom,u=i.wrapper,i.form=this._$("form",u)[0],i.formClear=this._$("form_clear",u)[0],i.formError=this._$("form_error",u)[0],i.formInfo=this._$("form_info",u)[0],i.formContent=this._$("form_content",u)[0],i.header=this._$("head_content",u)[0],i.body=this._$("body",u)[0],i.bodyContent=this._$("body_content",u)[0],i.footer=this._$("foot",u)[0],i.processing=this._$("processing",u)[0],i.buttons=this._$("form_buttons",u)[0],""!==this.s.dbTable&&r(this.dom.wrapper).addClass("DTE_Table_Name_"+this.s.dbTable),t.fields)for(i=0,u=t.fields.length;i<u;i++)this.add(t.fields[i]);r(this.dom.form).submit(function(n){s.submit();n.preventDefault()});this.s.displayController=e.display[t.display].init(this);this._callbackFire("onInitComplete",[])};e.prototype._$=function(n,u){return u===i&&(u=t),r('*[data-dte-e="'+n+'"]',u)};e.prototype._actionClass=function(){var n=this.classes.actions;r(this.dom.wrapper).removeClass([n.create,n.edit,n.remove].join(" "));"create"===this.s.action?r(this.dom.wrapper).addClass(n.create):"edit"===this.s.action?r(this.dom.wrapper).addClass(n.edit):"remove"===this.s.action&&r(this.dom.wrapper).addClass(n.remove)};e.prototype._callbackFire=function(n,t){var u,o,e,f;if(t===i&&(t=[]),r.isArray(n))for(u=0;u<n.length;u++)this._callbackFire(n[u],t);else{for(e=this.s.events[n],f=[],u=0,o=e.length;u<o;u++)f.push(e[u].fn.apply(this,t));return null!==n&&(u=r.Event(n),r(this).trigger(u,t),f.push(u.result)),f}};e.prototype._callbackReg=function(n,t,i){t&&this.s.events[n].push({fn:t,name:i})};e.prototype._clearDynamicInfo=function(){r("div."+this.classes.field.error,this.dom.wrapper).removeClass(this.classes.field.error);this._$("msg-error",this.dom.wrapper).html("").css("display","none");this.error("");this.message("")};e.prototype._display=function(n,t,i){var u=this;"open"===n?(n=this._callbackFire("onPreOpen",[i]),-1===r.inArray(!1,n)&&(r.each(u.s.order,function(n,t){u.dom.formContent.appendChild(u.node(t))}),u.dom.formContent.appendChild(u.dom.formClear),u.s.displayed=!0,this.s.displayController.open(this,this.dom.wrapper,function(){t&&t()}),this._callbackFire("onOpen"))):"close"===n&&(n=this._callbackFire("onPreClose",[i]),-1===r.inArray(!1,n)&&(this.s.displayController.close(this,function(){u.s.displayed=!1;t&&t()}),this._callbackFire("onClose")))};e.prototype._findField=function(n){for(var t=0,r=this.s.fields.length;t<r;t++)if(this.s.fields[t].name===n)return this.s.fields[t];return i};e.prototype._findFieldIndex=function(n){for(var t=0,r=this.s.fields.length;t<r;t++)if(this.s.fields[t].name===n)return t;return i};e.prototype._message=function(n,t,i){""===i&&this.s.displayed?"slide"===t?r(n).slideUp():r(n).fadeOut():""===i?n.style.display="none":this.s.displayed?"slide"===t?r(n).html(i).slideDown():r(n).html(i).fadeIn():(r(n).html(i),n.style.display="block")};e.prototype._processing=function(n){(this.s.processing=n)?(this.dom.processing.style.display="block",r(this.dom.wrapper).addClass(this.classes.processing.active)):(this.dom.processing.style.display="none",r(this.dom.wrapper).removeClass(this.classes.processing.active));this._callbackFire("onProcessing",[n])};e.prototype._ajaxUri=function(n){return n="create"===this.s.action&&this.s.ajaxUrl.create?this.s.ajaxUrl.create:"edit"===this.s.action&&this.s.ajaxUrl.edit?this.s.ajaxUrl.edit.replace(/_id_/,this.s.id):"remove"===this.s.action&&this.s.ajaxUrl.remove?this.s.ajaxUrl.remove.replace(/_id_/,n.join(",")):this.s.ajaxUrl,-1!==n.indexOf(" ")?(n=n.split(" "),{method:n[0],url:n[1]}):{method:"POST",url:n}};e.prototype._submit=function(n,t,u,f){var e=this,o,c,l,h=r(this.s.domTable).dataTable(),s={action:this.s.action,table:this.s.dbTable,id:this.s.id,data:{}};"create"===this.s.action||"edit"===this.s.action?r.each(this.s.fields,function(n,t){l=h.oApi._fnSetObjectDataFn(t.name);l(s.data,e.get(t.name))}):s.data=this._rowId(this.s.removeRows);u&&u(s);u=this._callbackFire("onPreSubmit",[s]);-1!==r.inArray(!1,u)?this._processing(!1):(u=this._ajaxUri(s.data),this.s.ajax(u.method,u.url,s,function(u){var a,v;if(e._callbackFire("onPostSubmit",[u,s]),u.error||(u.error=""),u.fieldErrors||(u.fieldErrors=[]),""!==u.error||0!==u.fieldErrors.length){for(e.error(u.error),o=0,c=u.fieldErrors.length;o<c;o++)e._findField(u.fieldErrors[o].name),e.error(u.fieldErrors[o].name,u.fieldErrors[o].status||"Error");a=r("div."+e.classes.field.error+":eq(0)");0<u.fieldErrors.length&&0<a.length&&r(e.dom.bodyContent,e.s.wrapper).animate({scrollTop:a.position().top},600);t&&t.call(e,u)}else{if(a=u.row?u.row:{},!u.row)for(o=0,c=e.s.fields.length;o<c;o++)v=e.s.fields[o],null!==v.dataProp&&v.dataSourceSet(a,e.field(v.name).get());if(e._callbackFire("onSetData",[u,a,e.s.action]),h.fnSettings().oFeatures.bServerSide)h.fnDraw();else if("create"===e.s.action)null===e.s.idSrc?a.DT_RowId=u.id:(l=h.oApi._fnSetObjectDataFn(e.s.idSrc),l(a,u.id)),e._callbackFire("onPreCreate",[u,a]),h.fnAddData(a),e._callbackFire(["onCreate","onPostCreate"],[u,a]);else if("edit"===e.s.action)e._callbackFire("onPreEdit",[u,a]),h.fnUpdate(a,e.s.editRow),e._callbackFire(["onEdit","onPostEdit"],[u,a]);else if("remove"===e.s.action){for(e._callbackFire("onPreRemove",[u]),o=0,c=e.s.removeRows.length;o<c;o++)h.fnDeleteRow(e.s.removeRows[o],!1);h.fnDraw();e._callbackFire(["onRemove","onPostRemove"],[u])}e.s.action=null;(f===i||f)&&e._display("close",function(){e._clearDynamicInfo()},"submit");n&&n.call(e,u);e._callbackFire(["onSubmitSuccess","onSubmitComplete"],[u,a])}e._processing(!1)},function(n,i,r){e._callbackFire("onPostSubmit",[n,i,r,s]);e.error(e.i18n.error.system);e._processing(!1);t&&t.call(e,n,i,r);e._callbackFire(["onSubmitError","onSubmitComplete"],[n,i,r,s])}))};e.prototype._rowId=function(n,t,i){if(t=r(this.s.domTable).dataTable(),i=t._(n)[0],t=t.oApi._fnGetObjectDataFn(this.s.idSrc),r.isArray(n)){for(var f=[],u=0,e=n.length;u<e;u++)f.push(this._rowId(n[u],t,i));return f}return null===this.s.idSrc?n.id:t(i)};e.defaults={domTable:null,ajaxUrl:"",fields:[],dbTable:"",display:"lightbox",ajax:function(n,t,i,u,f){r.ajax({type:n,url:t,data:i,dataType:"json",success:function(n){u(n)},error:function(n,t,i){f(n,t,i)}})},idSrc:null,events:{onProcessing:null,onOpen:null,onPreOpen:null,onClose:null,onPreClose:null,onPreSubmit:null,onPostSubmit:null,onSubmitComplete:null,onSubmitSuccess:null,onSubmitError:null,onInitCreate:null,onPreCreate:null,onCreate:null,onPostCreate:null,onInitEdit:null,onPreEdit:null,onEdit:null,onPostEdit:null,onInitRemove:null,onPreRemove:null,onRemove:null,onPostRemove:null,onSetData:null,onInitComplete:null},i18n:{create:{button:"New",title:"Create new entry",submit:"Create"},edit:{button:"Edit",title:"Edit entry",submit:"Update"},remove:{button:"Delete",title:"Delete",submit:"Delete",confirm:{_:"Are you sure you wish to delete %d rows?",1:"Are you sure you wish to delete 1 row?"}},error:{system:"An error has occurred - Please contact the system administrator"}}};e.classes={wrapper:"DTE",processing:{indicator:"DTE_Processing_Indicator",active:"DTE_Processing"},header:{wrapper:"DTE_Header",content:"DTE_Header_Content"},body:{wrapper:"DTE_Body",content:"DTE_Body_Content"},footer:{wrapper:"DTE_Footer",content:"DTE_Footer_Content"},form:{wrapper:"DTE_Form",content:"DTE_Form_Content",tag:"",info:"DTE_Form_Info",clear:"DTE_Form_Clear",error:"DTE_Form_Error",buttons:"DTE_Form_Buttons"},field:{wrapper:"DTE_Field",typePrefix:"DTE_Field_Type_",namePrefix:"DTE_Field_Name_",label:"DTE_Label",input:"DTE_Field_Input",error:"DTE_Field_StateError","msg-label":"DTE_Label_Info","msg-error":"DTE_Field_Error","msg-message":"DTE_Field_Message","msg-info":"DTE_Field_Info"},actions:{create:"DTE_Action_Create",edit:"DTE_Action_Edit",remove:"DTE_Action_Remove"}};n.TableTools&&(u=n.TableTools.BUTTONS,u.editor_create=r.extend(!0,u.text,{sButtonText:null,editor:null,formTitle:null,formButtons:[{label:null,fn:function(){this.submit()}}],fnClick:function(n,t){t.editor.create(t.formTitle,t.formButtons)}}),u.editor_edit=r.extend(!0,u.select_single,{sButtonText:null,editor:null,formTitle:null,formButtons:[{label:null,fn:function(){this.submit()}}],fnClick:function(n,t){var i=this.fnGetSelected();i.length===1&&t.editor.edit(i[0],t.formTitle,t.formButtons)}}),u.editor_remove=r.extend(!0,u.select,{sButtonText:null,editor:null,formTitle:null,formButtons:[{label:null,fn:function(){var t=this;this.submit(function(){n.TableTools.fnGetInstance(r(t.s.domTable)[0]).fnSelectNone()})}}],question:null,fnClick:function(n,t){var i=this.fnGetSelected();i.length!==0&&(t.editor.message(typeof t.question=="function"?t.question(i.length):t.question),t.editor.remove(i,t.formTitle,t.formButtons))}}));e.fieldTypes={};var l=function(n){return r.isPlainObject(n)?{val:n.value!==i?n.value:n.label,label:n.label}:{val:n,label:n}},c=e.fieldTypes,u=r.extend(!0,{},e.models.fieldType,{get:function(n){return n._input.val()},set:function(n,t){n._input.val(t)},enable:function(n){n._input.prop("disabled",!1)},disable:function(n){n._input.prop("disabled",!0)}});c.hidden=r.extend(!0,{},u,{create:function(n){return n._val=n.value,null},get:function(n){return n._val},set:function(n,t){n._val=t}});c.readonly=r.extend(!0,{},u,{create:function(n){return n._input=r("<input/>").attr(r.extend({id:n.id,type:"text",readonly:"readonly"},n.attr||{})),n._input[0]}});c.text=r.extend(!0,{},u,{create:function(n){return n._input=r("<input/>").attr(r.extend({id:n.id,type:"text"},n.attr||{})),n._input[0]}});c.password=r.extend(!0,{},u,{create:function(n){return n._input=r("<input/>").attr(r.extend({id:n.id,type:"password"},n.attr||{})),n._input[0]}});c.textarea=r.extend(!0,{},u,{create:function(n){return n._input=r("<textarea/>").attr(r.extend({id:n.id},n.attr||{})),n._input[0]}});c.select=r.extend(!0,{},u,{_addOptions:function(n,t){var u=n._input[0].options,i,f,r;if(u.length=0,t)for(i=0,f=t.length;i<f;i++)r=l(t[i]),u[i]=new Option(r.label,r.val)},create:function(n){return n._input=r("<select/>").attr(r.extend({id:n.id},n.attr||{})),c.select._addOptions(n,n.ipOpts),n._input[0]},update:function(n,t){var i=r(n._input).val();c.select._addOptions(n,t);r(n._input).val(i)}});c.checkbox=r.extend(!0,{},u,{_addOptions:function(n,t){var f=n._input.empty(),i,u,r;if(t)for(i=0,u=t.length;i<u;i++)r=l(t[i]),f.append('<div><input id="'+n.id+"_"+i+'" type="checkbox" value="'+r.val+'" /><label for="'+n.id+"_"+i+'">'+r.label+"<\/label><\/div>")},create:function(n){return n._input=r("<div />"),c.checkbox._addOptions(n,n.ipOpts),n._input[0]},get:function(n){var t=[];return n._input.find("input:checked").each(function(){t.push(this.value)}),n.separator?t.join(n.separator):t},set:function(n,t){var e=n._input.find("input"),i,f,u;!r.isArray(t)&&typeof t=="string"?t=t.split(n.separator||"|"):r.isArray(t)||(t=[t]);f=t.length;e.each(function(){for(u=!1,i=0;i<f;i++)if(this.value==t[i]){u=!0;break}this.checked=u})},enable:function(n){n._input.find("input").prop("disabled",!1)},disable:function(n){n._input.find("input").prop("disabled",!0)},update:function(n,t){var i=c.checkbox.get(n);c.checkbox._addOptions(n,t);c.checkbox.get(n,i)}});c.radio=r.extend(!0,{},u,{_addOptions:function(n,t){var f=n._input.empty(),i,e,u;if(t)for(i=0,e=t.length;i<e;i++)u=l(t[i]),f.append('<div><input id="'+n.id+"_"+i+'" type="radio" name="'+n.name+'" /><label for="'+n.id+"_"+i+'">'+u.label+"<\/label><\/div>"),r("input:last",f).attr("value",u.val)},create:function(n){n._input=r("<div />");c.radio._addOptions(n,n.ipOpts);this.on("onOpen",function(){n._input.find("input").each(function(){this._preChecked&&(this.checked=!0)})});return n._input[0]},get:function(n){return n._input.find("input:checked").val()},set:function(n,t){n._input.find("input").each(function(){this._preChecked=!1;this.value==t&&(this._preChecked=this.checked=!0)})},enable:function(n){n._input.find("input").prop("disabled",!1)},disable:function(n){n._input.find("input").prop("disabled",!0)},update:function(n,t){var i=c.radio.get(n);c.radio._addOptions(n,t);c.radio.get(n,i)}});c.date=r.extend(!0,{},u,{create:function(n){return n._input=r("<input />").attr(r.extend({id:n.id},n.attr||{})),n.dateFormat||(n.dateFormat=r.datepicker.RFC_2822),n.dateImage||(n.dateImage="../media/images/calender.png"),r(this).bind("onInitComplete",function(){r(n._input).datepicker({showOn:"both",dateFormat:n.dateFormat,buttonImage:n.dateImage,buttonImageOnly:!0});r("#ui-datepicker-div").css("display","none")}),n._input[0]},set:function(n,t){n._input.datepicker("setDate",t)},enable:function(n){n._input.datepicker("enable")},disable:function(n){n._input.datepicker("disable")}});e.prototype.CLASS="Editor";e.VERSION="1.2.3";e.prototype.VERSION=e.VERSION}(window,document,void 0,jQuery,jQuery.fn.dataTable);$.fn.dataTable.Editor.defaults.display="bootstrap";i18nDefaults=$.fn.dataTable.Editor.defaults.i18n;i18nDefaults.create.title="<h3>"+i18nDefaults.create.title+"<\/h3>";i18nDefaults.edit.title="<h3>"+i18nDefaults.edit.title+"<\/h3>";i18nDefaults.remove.title="<h3>"+i18nDefaults.remove.title+"<\/h3>";window.TableTools&&(TableTools.BUTTONS.editor_create.formButtons[0].className="btn btn-primary",TableTools.BUTTONS.editor_edit.formButtons[0].className="btn btn-primary",TableTools.BUTTONS.editor_remove.formButtons[0].className="btn btn-danger");$.extend(!0,$.fn.dataTable.Editor.classes,{wrapper:"DTE modal-dialog",header:{wrapper:"modal-header"},body:{wrapper:"modal-body"},footer:{wrapper:"modal-footer"},form:{tag:"form-horizontal"},field:{wrapper:"form-group",label:"col-sm-4 control-label",input:"col-sm-8",error:"error","msg-labelInfo":"help-block","msg-info":"help-block","msg-message":"help-block","msg-error":"help-block"}}),function(n,t,i,r){var u;r.Editor.display.bootstrap=i.extend(!0,{},r.Editor.models.displayController,{init:function(n){u._dom.content=i('<div class="modal fade">')[0];u._dom.close=i('<button class="close">&times;<\/div>')[0];i('<div class="modal-content"><\/div>').append(i(n.dom.wrapper).children()).appendTo(n.dom.wrapper);i(u._dom.close).click(function(){u._dte.close("icon")});i(t).on("click","div.modal-backdrop",function(){u._dte.close("background")});return u},open:function(n,t,r){if(u._shown){r&&r();return}u._dte=n;u._shown=!0;i(u._dom.content).children().detach();u._dom.content.appendChild(t);i("div.modal-header",t).prepend(u._dom.close);i(u._dom.content).one("shown",function(){r&&r()}).one("hidden",function(){u._shown=!1}).modal({backdrop:"static"});i("input[type=text], select",u._dom.content).addClass("form-control")},close:function(n,t){if(!u._shown){t&&t();return}i(u._dom.content).modal("hide");u._dte=n;u._shown=!1;t&&t()},_shown:!1,_dte:null,_dom:{}});u=r.Editor.display.bootstrap}(window,document,jQuery,jQuery.fn.dataTable);!function(n){"use strict";var t=function(t,i){this.options=i;this.$element=n(t);this.$container=n("<div/>",{"class":"ms-container"});this.$selectableContainer=n("<div/>",{"class":"ms-selectable"});this.$selectionContainer=n("<div/>",{"class":"ms-selection"});this.$selectableUl=n("<ul/>",{"class":"ms-list",tabindex:"-1"});this.$selectionUl=n("<ul/>",{"class":"ms-list",tabindex:"-1"});this.scrollTo=0;this.sanitizeRegexp=new RegExp("\\W+","gi");this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+i.disabledClass+")"};t.prototype={constructor:t,init:function(){var t=this,i=this.$element,r,u;0===i.next(".ms-container").length&&(i.css({position:"absolute",left:"-9999px"}),i.attr("id",i.attr("id")?i.attr("id"):Math.ceil(1e3*Math.random())+"multiselect"),this.$container.attr("id","ms-"+i.attr("id")),i.find("option").each(function(){t.generateLisFromOption(this)}),this.$selectionUl.find(".ms-optgroup-label").hide(),t.options.selectableHeader&&t.$selectableContainer.append(t.options.selectableHeader),t.$selectableContainer.append(t.$selectableUl),t.options.selectableFooter&&t.$selectableContainer.append(t.options.selectableFooter),t.options.selectionHeader&&t.$selectionContainer.append(t.options.selectionHeader),t.$selectionContainer.append(t.$selectionUl),t.options.selectionFooter&&t.$selectionContainer.append(t.options.selectionFooter),t.$container.append(t.$selectableContainer),t.$container.append(t.$selectionContainer),i.after(t.$container),t.activeMouse(t.$selectableUl),t.activeKeyboard(t.$selectableUl),r=t.options.dblClick?"dblclick":"click",t.$selectableUl.on(r,".ms-elem-selectable",function(){t.select(n(this).data("ms-value"))}),t.$selectionUl.on(r,".ms-elem-selection",function(){t.deselect(n(this).data("ms-value"))}),t.activeMouse(t.$selectionUl),t.activeKeyboard(t.$selectionUl),i.on("focus",function(){t.$selectableUl.focus()}));u=i.find("option:selected").map(function(){return n(this).val()}).get();t.select(u,"init");"function"==typeof t.options.afterInit&&t.options.afterInit.call(this,this.$container)},generateLisFromOption:function(t){for(var s,e,v,y,i=this,k=i.$element,p="",o=n(t),l=0;l<t.attributes.length;l++)s=t.attributes[l],"value"!==s.name&&(p+=s.name+'="'+s.value+'" ');var f=n("<li "+p+"><span>"+o.text()+"<\/span><\/li>"),h=f.clone(),a=o.val(),w=i.sanitize(a,i.sanitizeRegexp);if(f.data("ms-value",a).addClass("ms-elem-selectable").attr("id",w+"-selectable"),h.data("ms-value",a).addClass("ms-elem-selection").attr("id",w+"-selection").hide(),(o.prop("disabled")||k.prop("disabled"))&&(h.addClass(i.options.disabledClass),f.addClass(i.options.disabledClass)),e=o.parent("optgroup"),e.length>0){var b=e.attr("label"),c=i.sanitize(b,i.sanitizeRegexp),r=i.$selectableUl.find("#optgroup-selectable-"+c),u=i.$selectionUl.find("#optgroup-selection-"+c);0===r.length&&(v='<li class="ms-optgroup-container"><\/li>',y='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+b+"<\/span><\/li><\/ul>",r=n(v),u=n(v),r.attr("id","optgroup-selectable-"+c),u.attr("id","optgroup-selection-"+c),r.append(n(y)),u.append(n(y)),i.options.selectableOptgroup&&(r.find(".ms-optgroup-label").on("click",function(){var t=e.children(":not(:selected)").map(function(){return n(this).val()}).get();i.select(t)}),u.find(".ms-optgroup-label").on("click",function(){var t=e.children(":selected").map(function(){return n(this).val()}).get();i.deselect(t)})),i.$selectableUl.append(r),i.$selectionUl.append(u));r.children().append(f);u.children().append(h)}else i.$selectableUl.append(f),i.$selectionUl.append(h)},activeKeyboard:function(t){var i=this;t.on("focus",function(){n(this).addClass("ms-focus")}).on("blur",function(){n(this).removeClass("ms-focus")}).on("keydown",function(r){switch(r.which){case 40:case 38:return r.preventDefault(),r.stopPropagation(),i.moveHighlight(n(this),38===r.which?-1:1),void 0;case 32:return r.preventDefault(),r.stopPropagation(),i.selectHighlighted(t),void 0;case 37:case 39:return r.preventDefault(),r.stopPropagation(),i.switchList(t),void 0}})},moveHighlight:function(n,t){var r=n.find(this.elemsSelector),e=r.filter(".ms-hover"),i=null,c=r.first().outerHeight(),l=n.height(),o,u,f,s,h;("#"+this.$container.prop("id"),r.off("mouseenter"),r.removeClass("ms-hover"),1===t)?(i=e.nextAll(this.elemsSelector).first(),0===i.length)&&(u=e.parent(),u.hasClass("ms-optgroup")?(f=u.parent(),o=f.next(":visible"),i=o.length>0?o.find(this.elemsSelector).first():r.first()):i=r.first()):-1===t&&(i=e.prevAll(this.elemsSelector).first(),0===i.length)&&(u=e.parent(),u.hasClass("ms-optgroup")?(f=u.parent(),s=f.prev(":visible"),i=s.length>0?s.find(this.elemsSelector).last():r.last()):i=r.last());i.length>0&&(i.addClass("ms-hover"),h=n.scrollTop()+i.position().top-l/2+c/2,n.scrollTop(h))},selectHighlighted:function(n){var i=n.find(this.elemsSelector),t=i.filter(".ms-hover").first();t.length>0&&(n.parent().hasClass("ms-selectable")?this.select(t.data("ms-value")):this.deselect(t.data("ms-value")),i.removeClass("ms-hover"))},switchList:function(n){n.blur();n.parent().hasClass("ms-selectable")?this.$selectionUl.focus():this.$selectableUl.focus()},activeMouse:function(t){var i=this;t.on("mousemove",function(){var r=t.find(i.elemsSelector);r.on("mouseenter",function(){r.removeClass("ms-hover");n(this).addClass("ms-hover")})})},refresh:function(){this.destroy();this.$element.multiSelect(this.options)},destroy:function(){n("#ms-"+this.$element.attr("id")).remove();this.$element.removeData("multiselect")},select:function(t,i){var e,c,u;"string"==typeof t&&(t=[t]);var r=this,o=this.$element,s=n.map(t,function(n){return r.sanitize(n,r.sanitizeRegexp)}),h=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable").filter(":not(."+r.options.disabledClass+")"),f=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection").filter(":not(."+r.options.disabledClass+")"),l=o.find("option:not(:disabled)").filter(function(){return n.inArray(this.value,t)>-1});h.length>0&&(h.addClass("ms-selected").hide(),f.addClass("ms-selected").show(),l.prop("selected",!0),e=r.$selectableUl.children(".ms-optgroup-container"),e.length>0?(e.each(function(){var t=n(this).find(".ms-elem-selectable");t.length===t.filter(".ms-selected").length&&n(this).find(".ms-optgroup-label").hide()}),c=r.$selectionUl.children(".ms-optgroup-container"),c.each(function(){var t=n(this).find(".ms-elem-selection");t.filter(".ms-selected").length>0&&n(this).find(".ms-optgroup-label").show()})):r.options.keepOrder&&(u=r.$selectionUl.find(".ms-selected"),u.length>1&&u.last().get(0)!=f.get(0)&&f.insertAfter(u.last())),"init"!==i&&(o.trigger("change"),"function"==typeof r.options.afterSelect&&r.options.afterSelect.call(this,t)))},deselect:function(t){var r,o;"string"==typeof t&&(t=[t]);var i=this,u=this.$element,f=n.map(t,function(n){return i.sanitize(n,i.sanitizeRegexp)}),s=this.$selectableUl.find("#"+f.join("-selectable, #")+"-selectable"),e=this.$selectionUl.find("#"+f.join("-selection, #")+"-selection").filter(".ms-selected"),h=u.find("option").filter(function(){return n.inArray(this.value,t)>-1});e.length>0&&(s.removeClass("ms-selected").show(),e.removeClass("ms-selected").hide(),h.prop("selected",!1),r=i.$selectableUl.children(".ms-optgroup-container"),r.length>0&&(r.each(function(){var t=n(this).find(".ms-elem-selectable");t.filter(":not(.ms-selected)").length>0&&n(this).find(".ms-optgroup-label").show()}),o=i.$selectionUl.children(".ms-optgroup-container"),o.each(function(){var t=n(this).find(".ms-elem-selection");0===t.filter(".ms-selected").length&&n(this).find(".ms-optgroup-label").hide()})),u.trigger("change"),"function"==typeof i.options.afterDeselect&&i.options.afterDeselect.call(this,t))},select_all:function(){var t=this.$element,r=t.val(),i;(t.find('option:not(":disabled")').prop("selected",!0),this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide(),this.$selectionUl.find(".ms-optgroup-label").show(),this.$selectableUl.find(".ms-optgroup-label").hide(),this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show(),this.$selectionUl.focus(),t.trigger("change"),"function"==typeof this.options.afterSelect)&&(i=n.grep(t.val(),function(t){return n.inArray(t,r)<0}),this.options.afterSelect.call(this,i))},deselect_all:function(){var n=this.$element,t=n.val();n.find("option").prop("selected",!1);this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show();this.$selectionUl.find(".ms-optgroup-label").hide();this.$selectableUl.find(".ms-optgroup-label").show();this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide();this.$selectableUl.focus();n.trigger("change");"function"==typeof this.options.afterDeselect&&this.options.afterDeselect.call(this,t)},sanitize:function(n,t){return n.replace(t,"_")}};n.fn.multiSelect=function(){var i=arguments[0],r=arguments;return this.each(function(){var f=n(this),u=f.data("multiselect"),e=n.extend({},n.fn.multiSelect.defaults,f.data(),"object"==typeof i&&i);u||f.data("multiselect",u=new t(this,e));"string"==typeof i?u[i](r[1]):u.init()})};n.fn.multiSelect.defaults={selectableOptgroup:!1,disabledClass:"disabled",dblClick:!1,keepOrder:!1};n.fn.multiSelect.Constructor=t}(window.jQuery);!function(n,t){n.fn.quicksearch=function(i,r){var h,c,o,f,e="",s=this,u=n.extend({delay:100,selector:null,stripeRows:null,loader:null,noResults:"",matchedResultsCount:0,bind:"keyup",onBefore:function(){},onAfter:function(){},show:function(){this.style.display=""},hide:function(){this.style.display="none"},prepareQuery:function(n){return n.toLowerCase().split(" ")},testQuery:function(n,t){for(var i=0;i<n.length;i+=1)if(-1===t.indexOf(n[i]))return!1;return!0}},r);return this.go=function(){for(var n=0,t=0,i=!0,r=u.prepareQuery(e),f=0===e.replace(" ","").length,n=0,s=o.length;s>n;n++)f||u.testQuery(r,c[n],o[n])?(u.show.apply(o[n]),i=!1,t++):u.hide.apply(o[n]);return i?this.results(!1):(this.results(!0),this.stripe()),this.matchedResultsCount=t,this.loader(!1),u.onAfter(),this},this.search=function(n){e=n;s.trigger()},this.currentMatchedResults=function(){return this.matchedResultsCount},this.stripe=function(){if("object"==typeof u.stripeRows&&null!==u.stripeRows){var t=u.stripeRows.join(" "),i=u.stripeRows.length;f.not(":hidden").each(function(r){n(this).removeClass(t).addClass(u.stripeRows[r%i])})}return this},this.strip_html=function(t){var i=t.replace(new RegExp("<[^<]+>","g"),"");return n.trim(i.toLowerCase())},this.results=function(t){return"string"==typeof u.noResults&&""!==u.noResults&&(t?n(u.noResults).hide():n(u.noResults).show()),this},this.loader=function(t){return"string"==typeof u.loader&&""!==u.loader&&(t?n(u.loader).show():n(u.loader).hide()),this},this.cache=function(){f=n(i);"string"==typeof u.noResults&&""!==u.noResults&&(f=f.not(u.noResults));var t="string"==typeof u.selector?f.find(u.selector):n(i).not(u.noResults);return c=t.map(function(){return s.strip_html(this.innerHTML)}),o=f.map(function(){return this}),e=e||this.val()||"",this.go()},this.trigger=function(){return this.loader(!0),u.onBefore(),t.clearTimeout(h),h=t.setTimeout(function(){s.go()},u.delay),this},this.cache(),this.results(!0),this.stripe(),this.loader(!1),this.each(function(){n(this).on(u.bind,function(){e=n(this).val();s.trigger()})})}}(jQuery,this,document);!function(n){var u="0.9.3",t={isMsie:function(){var n=/(msie) ([\w.]+)/i.exec(navigator.userAgent);return n?parseInt(n[2],10):!1},isBlankString:function(n){return!n||/^\s*$/.test(n)},escapeRegExChars:function(n){return n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(n){return"string"==typeof n},isNumber:function(n){return"number"==typeof n},isArray:n.isArray,isFunction:n.isFunction,isObject:n.isPlainObject,isUndefined:function(n){return"undefined"==typeof n},bind:n.proxy,bindAll:function(t){var r,i;for(i in t)n.isFunction(r=t[i])&&(t[i]=n.proxy(r,t))},indexOf:function(n,t){for(var i=0;i<n.length;i++)if(n[i]===t)return i;return-1},each:n.each,map:n.map,filter:n.grep,every:function(t,i){var r=!0;return t?(n.each(t,function(n,u){if(!(r=i.call(null,u,n,t)))return!1}),!!r):r},some:function(t,i){var r=!1;return t?(n.each(t,function(n,u){if((r=i.call(null,u,n,t)))return!1}),!!r):r},mixin:n.extend,getUniqueId:function(){var n=0;return function(){return n++}}(),defer:function(n){setTimeout(n,0)},debounce:function(n,t,i){var r,u;return function(){var f,e,o=this,s=arguments;return f=function(){r=null;i||(u=n.apply(o,s))},e=i&&!r,clearTimeout(r),r=setTimeout(f,t),e&&(u=n.apply(o,s)),u}},throttle:function(n,t){var u,f,i,e,r,o;return r=0,o=function(){r=new Date;i=null;e=n.apply(u,f)},function(){var s=new Date,h=t-(s-r);return u=this,f=arguments,0>=h?(clearTimeout(i),i=null,r=s,e=n.apply(u,f)):i||(i=setTimeout(o,h)),e}},tokenizeQuery:function(t){return n.trim(t).toLowerCase().split(/[\s]+/)},tokenizeText:function(t){return n.trim(t).toLowerCase().split(/[\s\-_]+/)},getProtocol:function(){return location.protocol},noop:function(){}},i=function(){var n=/\s+/;return{on:function(t,i){var r;if(!i)return this;for(this._callbacks=this._callbacks||{},t=t.split(n);r=t.shift();)this._callbacks[r]=this._callbacks[r]||[],this._callbacks[r].push(i);return this},trigger:function(t,i){var u,f,r;if(!this._callbacks)return this;for(t=t.split(n);u=t.shift();)if(f=this._callbacks[u])for(r=0;r<f.length;r+=1)f[r].call(this,{type:u,data:i});return this}}}(),r=function(){function i(t){t&&t.el||n.error("EventBus initialized without el");this.$el=n(t.el)}var r="typeahead:";return t.mixin(i.prototype,{trigger:function(n){var t=[].slice.call(arguments,1);this.$el.trigger(r+n,t)}}),i}(),f=function(){function i(n){this.prefix=["__",n,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+this.prefix)}function r(){return(new Date).getTime()}function u(n){return JSON.stringify(t.isUndefined(n)?null:n)}function f(n){return JSON.parse(n)}var n,e;try{n=window.localStorage;n.setItem("~~~","!");n.removeItem("~~~")}catch(o){n=null}return e=n&&window.JSON?{_prefix:function(n){return this.prefix+n},_ttlKey:function(n){return this._prefix(n)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),f(n.getItem(this._prefix(t)))},set:function(i,f,e){return t.isNumber(e)?n.setItem(this._ttlKey(i),u(r()+e)):n.removeItem(this._ttlKey(i)),n.setItem(this._prefix(i),u(f))},remove:function(t){return n.removeItem(this._ttlKey(t)),n.removeItem(this._prefix(t)),this},clear:function(){for(var r,i=[],u=n.length,t=0;u>t;t++)(r=n.key(t)).match(this.keyMatcher)&&i.push(r.replace(this.keyMatcher,""));for(t=i.length;t--;)this.remove(i[t]);return this},isExpired:function(i){var u=f(n.getItem(this._ttlKey(i)));return t.isNumber(u)&&r()>u?!0:!1}}:{get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(i.prototype,e),i}(),e=function(){function n(n){t.bindAll(this);n=n||{};this.sizeLimit=n.sizeLimit||10;this.cache={};this.cachedKeysByAge=[]}return t.mixin(n.prototype,{get:function(n){return this.cache[n]},set:function(n,t){var i;this.cachedKeysByAge.length===this.sizeLimit&&(i=this.cachedKeysByAge.shift(),delete this.cache[i]);this.cache[n]=t;this.cachedKeysByAge.push(n)}}),n}(),o=function(){function o(n){t.bindAll(this);n=t.isString(n)?{url:n}:n;i=i||new e;r=t.isNumber(n.maxParallelRequests)?n.maxParallelRequests:r||6;this.url=n.url;this.wildcard=n.wildcard||"%QUERY";this.filter=n.filter;this.replace=n.replace;this.ajaxSettings={type:"get",cache:n.cache,timeout:n.timeout,dataType:n.dataType||"json",beforeSend:n.beforeSend};this._get=(/^throttle$/i.test(n.rateLimitFn)?t.throttle:t.debounce)(this._get,n.rateLimitWait||300)}function s(){u++}function h(){u--}function c(){return r>u}var r,i,u=0,f={};return t.mixin(o.prototype,{_get:function(n,t){function u(u){var f=r.filter?r.filter(u):u;t&&t(f);i.set(n,u)}var r=this;c()?this._sendRequest(n).done(u):this.onDeckRequestArgs=[].slice.call(arguments,0)},_sendRequest:function(t){function u(){h();f[t]=null;i.onDeckRequestArgs&&(i._get.apply(i,i.onDeckRequestArgs),i.onDeckRequestArgs=null)}var i=this,r=f[t];return r||(s(),r=f[t]=n.ajax(t,this.ajaxSettings).always(u)),r},get:function(n,r){var f,u,e=this,o=encodeURIComponent(n||"");return r=r||t.noop,f=this.replace?this.replace(this.url,o):this.url.replace(this.wildcard,o),(u=i.get(f))?t.defer(function(){r(e.filter?e.filter(u):u)}):this._get(f,r),!!u}}),o}(),s=function(){function r(i){t.bindAll(this);t.isString(i.template)&&!i.engine&&n.error("no template engine specified");i.local||i.prefetch||i.remote||n.error("one of local, prefetch, or remote is required");this.name=i.name||t.getUniqueId();this.limit=i.limit||5;this.minLength=i.minLength||1;this.header=i.header;this.footer=i.footer;this.valueKey=i.valueKey||"value";this.template=e(i.template,i.engine,this.valueKey);this.local=i.local;this.prefetch=i.prefetch;this.remote=i.remote;this.itemHash={};this.adjacencyList={};this.storage=i.name?new f(i.name):null}function e(n,i,r){var u,f;return t.isFunction(n)?u=n:t.isString(n)?(f=i.compile(n),u=t.bind(f.render,f)):u=function(n){return"<p>"+n[r]+"<\/p>"},u}var i={thumbprint:"thumbprint",protocol:"protocol",itemHash:"itemHash",adjacencyList:"adjacencyList"};return t.mixin(r.prototype,{_processLocalData:function(n){this._mergeProcessedData(this._processData(n))},_loadPrefetchData:function(r){function v(n){var e=r.filter?r.filter(n):n,u=f._processData(e),o=u.itemHash,s=u.adjacencyList;f.storage&&(f.storage.set(i.itemHash,o,r.ttl),f.storage.set(i.adjacencyList,s,r.ttl),f.storage.set(i.thumbprint,a,r.ttl),f.storage.set(i.protocol,t.getProtocol(),r.ttl));f._mergeProcessedData(u)}var h,c,e,o,l,s,f=this,a=u+(r.thumbprint||"");return this.storage&&(h=this.storage.get(i.thumbprint),c=this.storage.get(i.protocol),e=this.storage.get(i.itemHash),o=this.storage.get(i.adjacencyList)),l=h!==a||c!==t.getProtocol(),r=t.isString(r)?{url:r}:r,r.ttl=t.isNumber(r.ttl)?r.ttl:864e5,e&&o&&!l?(this._mergeProcessedData({itemHash:e,adjacencyList:o}),s=n.Deferred().resolve()):s=n.getJSON(r.url).done(v),s},_transformDatum:function(n){var r=t.isString(n)?n:n[this.valueKey],u=n.tokens||t.tokenizeText(r),i={value:r,tokens:u};return t.isString(n)?(i.datum={},i.datum[this.valueKey]=n):i.datum=n,i.tokens=t.filter(i.tokens,function(n){return!t.isBlankString(n)}),i.tokens=t.map(i.tokens,function(n){return n.toLowerCase()}),i},_processData:function(n){var u=this,r={},i={};return t.each(n,function(n,f){var o=u._transformDatum(f),e=t.getUniqueId(o.value);r[e]=o;t.each(o.tokens,function(n,r){var u=r.charAt(0),f=i[u]||(i[u]=[e]);~t.indexOf(f,e)||f.push(e)})}),{itemHash:r,adjacencyList:i}},_mergeProcessedData:function(n){var i=this;t.mixin(this.itemHash,n.itemHash);t.each(n.adjacencyList,function(n,t){var r=i.adjacencyList[n];i.adjacencyList[n]=r?r.concat(t):t})},_getLocalSuggestions:function(n){var i,f=this,r=[],u=[],e=[];return t.each(n,function(n,i){var u=i.charAt(0);~t.indexOf(r,u)||r.push(u)}),t.each(r,function(n,t){var r=f.adjacencyList[t];return r?(u.push(r),(!i||r.length<i.length)&&(i=r),void 0):!1}),u.length<r.length?[]:(t.each(i,function(i,r){var o,s,h=f.itemHash[r];o=t.every(u,function(n){return~t.indexOf(n,r)});s=o&&t.every(n,function(n){return t.some(h.tokens,function(t){return 0===t.indexOf(n)})});s&&e.push(h)}),e)},initialize:function(){var t;return this.local&&this._processLocalData(this.local),this.transport=this.remote?new o(this.remote):null,t=this.prefetch?this._loadPrefetchData(this.prefetch):n.Deferred().resolve(),this.local=this.prefetch=this.remote=null,this.initialize=function(){return t},t},getSuggestions:function(n,i){function o(n){r=r.slice(0);t.each(n,function(n,i){var u,e=f._transformDatum(i);return u=t.some(r,function(n){return e.value===n.value}),!u&&r.push(e),r.length<f.limit});i&&i(r)}var u,r,f=this,e=!1;n.length<this.minLength||(u=t.tokenizeQuery(n),r=this._getLocalSuggestions(u).slice(0,this.limit),r.length<this.limit&&this.transport&&(e=this.transport.get(n,o)),!e&&i&&i(r))}}),r}(),h=function(){function r(i){var r=this;t.bindAll(this);this.specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};this.$hint=n(i.hint);this.$input=n(i.input).on("blur.tt",this._handleBlur).on("focus.tt",this._handleFocus).on("keydown.tt",this._handleSpecialKeyEvent);t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(n){r.specialKeyCodeMap[n.which||n.keyCode]||t.defer(r._compareQueryToInputValue)}):this.$input.on("input.tt",this._compareQueryToInputValue);this.query=this.$input.val();this.$overflowHelper=u(this.$input)}function u(t){return n("<span><\/span>").css({position:"absolute",left:"-9999px",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function f(n,t){return n=(n||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),t=(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," "),n===t}return t.mixin(r.prototype,i,{_handleFocus:function(){this.trigger("focused")},_handleBlur:function(){this.trigger("blured")},_handleSpecialKeyEvent:function(n){var t=this.specialKeyCodeMap[n.which||n.keyCode];t&&this.trigger(t+"Keyed",n)},_compareQueryToInputValue:function(){var n=this.getInputValue(),t=f(this.query,n),i=t?this.query.length!==n.length:!1;i?this.trigger("whitespaceChanged",{value:this.query}):t||this.trigger("queryChanged",{value:this.query=n})},destroy:function(){this.$hint.off(".tt");this.$input.off(".tt");this.$hint=this.$input=this.$overflowHelper=null},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(n){this.query=n},getInputValue:function(){return this.$input.val()},setInputValue:function(n,t){this.$input.val(n);t||this._compareQueryToInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(n){this.$hint.val(n)},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},isOverflow:function(){return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>this.$input.width()},isCursorAtEnd:function(){var n,i=this.$input.val().length,r=this.$input[0].selectionStart;return t.isNumber(r)?r===i:document.selection?(n=document.selection.createRange(),n.moveStart("character",-i),i===n.text.length):!0}}),r}(),c=function(){function f(i){t.bindAll(this);this.isOpen=!1;this.isEmpty=!0;this.isMouseOverDropdown=!1;this.$menu=n(i.menu).on("mouseenter.tt",this._handleMouseenter).on("mouseleave.tt",this._handleMouseleave).on("click.tt",".tt-suggestion",this._handleSelection).on("mouseover.tt",".tt-suggestion",this._handleMouseover)}function r(n){return n.data("suggestion")}var e={suggestionsList:'<span class="tt-suggestions"><\/span>'},u={suggestionsList:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"}};return t.mixin(f.prototype,i,{_handleMouseenter:function(){this.isMouseOverDropdown=!0},_handleMouseleave:function(){this.isMouseOverDropdown=!1},_handleMouseover:function(t){var i=n(t.currentTarget);this._getSuggestions().removeClass("tt-is-under-cursor");i.addClass("tt-is-under-cursor")},_handleSelection:function(t){var i=n(t.currentTarget);this.trigger("suggestionSelected",r(i))},_show:function(){this.$menu.css("display","block")},_hide:function(){this.$menu.hide()},_moveCursor:function(n){var i,u,t,f;if(this.isVisible()){if(i=this._getSuggestions(),u=i.filter(".tt-is-under-cursor"),u.removeClass("tt-is-under-cursor"),t=i.index(u)+n,t=(t+1)%(i.length+1)-1,-1===t)return this.trigger("cursorRemoved"),void 0;-1>t&&(t=i.length-1);f=i.eq(t).addClass("tt-is-under-cursor");this._ensureVisibility(f);this.trigger("cursorMoved",r(f))}},_getSuggestions:function(){return this.$menu.find(".tt-suggestions > .tt-suggestion")},_ensureVisibility:function(n){var i=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),r=this.$menu.scrollTop(),t=n.position().top,u=t+n.outerHeight(!0);0>t?this.$menu.scrollTop(r+t):u>i&&this.$menu.scrollTop(r+(u-i))},destroy:function(){this.$menu.off(".tt");this.$menu=null},isVisible:function(){return this.isOpen&&!this.isEmpty},closeUnlessMouseIsOverDropdown:function(){this.isMouseOverDropdown||this.close()},close:function(){this.isOpen&&(this.isOpen=!1,this.isMouseOverDropdown=!1,this._hide(),this.$menu.find(".tt-suggestions > .tt-suggestion").removeClass("tt-is-under-cursor"),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(n){"ltr"===n?this.$menu.css({left:"0",right:"auto"}):this.$menu.css({left:"auto",right:" 0"})},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getSuggestionUnderCursor:function(){var n=this._getSuggestions().filter(".tt-is-under-cursor").first();return n.length>0?r(n):null},getFirstSuggestion:function(){var n=this._getSuggestions().first();return n.length>0?r(n):null},renderSuggestions:function(i,r){var c,l,f,o,s,a="tt-dataset-"+i.name,v='<div class="tt-suggestion">%body<\/div>',h=this.$menu.find("."+a);0===h.length&&(l=n(e.suggestionsList).css(u.suggestionsList),h=n("<div><\/div>").addClass(a).append(i.header).append(l).append(i.footer).appendTo(this.$menu));r.length>0?(this.isEmpty=!1,this.isOpen&&this._show(),f=document.createElement("div"),o=document.createDocumentFragment(),t.each(r,function(t,r){r.dataset=i.name;c=i.template(r.datum);f.innerHTML=v.replace("%body",c);s=n(f.firstChild).css(u.suggestion).data("suggestion",r);s.children().each(function(){n(this).css(u.suggestionChild)});o.appendChild(s[0])}),h.show().find(".tt-suggestions").html(o)):this.clearSuggestions(i.name);this.trigger("suggestionsRendered")},clearSuggestions:function(n){var t=n?this.$menu.find(".tt-dataset-"+n):this.$menu.find('[class^="tt-dataset-"]'),i=t.find(".tt-suggestions");t.hide();i.empty();0===this._getSuggestions().length&&(this.isEmpty=!0,this._hide())}}),f}(),l=function(){function f(n){var i,r,u;t.bindAll(this);this.$node=e(n.input);this.datasets=n.datasets;this.dir=null;this.eventBus=n.eventBus;i=this.$node.find(".tt-dropdown-menu");r=this.$node.find(".tt-query");u=this.$node.find(".tt-hint");this.dropdownView=new c({menu:i}).on("suggestionSelected",this._handleSelection).on("cursorMoved",this._clearHint).on("cursorMoved",this._setInputValueToSuggestionUnderCursor).on("cursorRemoved",this._setInputValueToQuery).on("cursorRemoved",this._updateHint).on("suggestionsRendered",this._updateHint).on("opened",this._updateHint).on("closed",this._clearHint).on("opened closed",this._propagateEvent);this.inputView=new h({input:r,hint:u}).on("focused",this._openDropdown).on("blured",this._closeDropdown).on("blured",this._setInputValueToQuery).on("enterKeyed tabKeyed",this._handleSelection).on("queryChanged",this._clearHint).on("queryChanged",this._clearSuggestions).on("queryChanged",this._getSuggestions).on("whitespaceChanged",this._updateHint).on("queryChanged whitespaceChanged",this._openDropdown).on("queryChanged whitespaceChanged",this._setLanguageDirection).on("escKeyed",this._closeDropdown).on("escKeyed",this._setInputValueToQuery).on("tabKeyed upKeyed downKeyed",this._managePreventDefault).on("upKeyed downKeyed",this._moveDropdownCursor).on("upKeyed downKeyed",this._openDropdown).on("tabKeyed leftKeyed rightKeyed",this._autocomplete)}function e(t){var f=n(u.wrapper),e=n(u.dropdown),i=n(t),o=n(u.hint);f=f.css(r.wrapper);e=e.css(r.dropdown);o.css(r.hint).css({backgroundAttachment:i.css("background-attachment"),backgroundClip:i.css("background-clip"),backgroundColor:i.css("background-color"),backgroundImage:i.css("background-image"),backgroundOrigin:i.css("background-origin"),backgroundPosition:i.css("background-position"),backgroundRepeat:i.css("background-repeat"),backgroundSize:i.css("background-size")});i.data("ttAttrs",{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")});i.addClass("tt-query").attr({autocomplete:"off",spellcheck:!1}).css(r.query);try{i.attr("dir")||i.attr("dir","auto")}catch(s){}return i.wrap(f).parent().prepend(o).append(e)}function o(n){var i=n.find(".tt-query");t.each(i.data("ttAttrs"),function(n,r){t.isUndefined(r)?i.removeAttr(n):i.attr(n,r)});i.detach().removeData("ttAttrs").removeClass("tt-query").insertAfter(n);n.remove()}var u={wrapper:'<span class="twitter-typeahead"><\/span>',hint:'<input class="tt-hint" type="text" autocomplete="off" spellcheck="off" disabled>',dropdown:'<span class="tt-dropdown-menu"><\/span>'},r={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},query:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"}};return t.isMsie()&&t.mixin(r.query,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&(t.mixin(r.wrapper,{display:"inline",zoom:"1"}),t.mixin(r.query,{marginTop:"-1px"})),t.mixin(f.prototype,i,{_managePreventDefault:function(n){var i,u,t=n.data,r=!1;switch(n.type){case"tabKeyed":i=this.inputView.getHintValue();u=this.inputView.getInputValue();r=i&&i!==u;break;case"upKeyed":case"downKeyed":r=!t.shiftKey&&!t.ctrlKey&&!t.metaKey}r&&t.preventDefault()},_setLanguageDirection:function(){var n=this.inputView.getLanguageDirection();n!==this.dir&&(this.dir=n,this.$node.css("direction",n),this.dropdownView.setLanguageDirection(n))},_updateHint:function(){var n,r,u,f,i,e=this.dropdownView.getFirstSuggestion(),o=e?e.value:null,s=this.dropdownView.isVisible(),h=this.inputView.isOverflow();o&&s&&!h&&(n=this.inputView.getInputValue(),r=n.replace(/\s{2,}/g," ").replace(/^\s+/g,""),u=t.escapeRegExChars(r),f=new RegExp("^(?:"+u+")(.*$)","i"),i=f.exec(o),this.inputView.setHintValue(n+(i?i[1]:"")))},_clearHint:function(){this.inputView.setHintValue("")},_clearSuggestions:function(){this.dropdownView.clearSuggestions()},_setInputValueToQuery:function(){this.inputView.setInputValue(this.inputView.getQuery())},_setInputValueToSuggestionUnderCursor:function(n){var t=n.data;this.inputView.setInputValue(t.value,!0)},_openDropdown:function(){this.dropdownView.open()},_closeDropdown:function(n){this.dropdownView["blured"===n.type?"closeUnlessMouseIsOverDropdown":"close"]()},_moveDropdownCursor:function(n){var t=n.data;t.shiftKey||t.ctrlKey||t.metaKey||this.dropdownView["upKeyed"===n.type?"moveCursorUp":"moveCursorDown"]()},_handleSelection:function(n){var r="suggestionSelected"===n.type,i=r?n.data:this.dropdownView.getSuggestionUnderCursor();i&&(this.inputView.setInputValue(i.value),r?this.inputView.focus():n.data.preventDefault(),r&&t.isMsie()?t.defer(this.dropdownView.close):this.dropdownView.close(),this.eventBus.trigger("selected",i.datum,i.dataset))},_getSuggestions:function(){var i=this,n=this.inputView.getQuery();t.isBlankString(n)||t.each(this.datasets,function(t,r){r.getSuggestions(n,function(t){n===i.inputView.getQuery()&&i.dropdownView.renderSuggestions(r,t)})})},_autocomplete:function(n){var r,u,f,i,t;("rightKeyed"!==n.type&&"leftKeyed"!==n.type||(r=this.inputView.isCursorAtEnd(),u="ltr"===this.inputView.getLanguageDirection()?"leftKeyed"===n.type:"rightKeyed"===n.type,r&&!u))&&(f=this.inputView.getQuery(),i=this.inputView.getHintValue(),""!==i&&f!==i&&(t=this.dropdownView.getFirstSuggestion(),this.inputView.setInputValue(t.value),this.eventBus.trigger("autocompleted",t.datum,t.dataset)))},_propagateEvent:function(n){this.eventBus.trigger(n.type)},destroy:function(){this.inputView.destroy();this.dropdownView.destroy();o(this.$node);this.$node=null},setQuery:function(n){this.inputView.setQuery(n);this.inputView.setInputValue(n);this._clearHint();this._clearSuggestions();this._getSuggestions()}}),f}();!function(){var i,f={},u="ttView";i={initialize:function(i){function o(){var f,i=n(this),o=new r({el:i});f=t.map(e,function(n){return n.initialize()});i.data(u,new l({input:i,eventBus:o=new r({el:i}),datasets:e}));n.when.apply(n,f).always(function(){t.defer(function(){o.trigger("initialized")})})}var e;return i=t.isArray(i)?i:[i],0===i.length&&n.error("no datasets provided"),e=t.map(i,function(n){var t=f[n.name]?f[n.name]:new s(n);return n.name&&(f[n.name]=t),t}),this.each(o)},destroy:function(){function t(){var t=n(this),i=t.data(u);i&&(i.destroy(),t.removeData(u))}return this.each(t)},setQuery:function(t){function i(){var i=n(this).data(u);i&&i.setQuery(t)}return this.each(i)}};jQuery.fn.typeahead=function(n){return i[n]?i[n].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)}}()}(window.jQuery),function(n){typeof n.fn.each2=="undefined"&&n.extend(n.fn,{each2:function(t){for(var i=n([0]),r=-1,u=this.length;++r<u&&(i.context=i[0]=this[r])&&t.call(i[0],r,i)!==!1;);return this}})}(jQuery),function(n,t){"use strict";function h(n){var i,t,u,r;if(!n||n.length<1)return n;for(i="",t=0,u=n.length;t<u;t++)r=n.charAt(t),i+=kt[r]||r;return i}function f(n,t){for(var i=0,r=t.length;i<r;i=i+1)if(u(n,t[i]))return i;return-1}function st(){var t=n(bt),i;return t.appendTo("body"),i={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight},t.remove(),i}function u(n,i){return n===i?!0:n===t||i===t?!1:n===null||i===null?!1:n.constructor===String?n+""==i+"":i.constructor===String?i+""==n+"":!1}function v(t,i){var u,r,f;if(t===null||t.length<1)return[];for(u=t.split(i),r=0,f=u.length;r<f;r=r+1)u[r]=n.trim(u[r]);return u}function d(n){return n.outerWidth(!1)-n.width()}function g(i){var r="keyup-change-value";i.on("keydown",function(){n.data(i,r)===t&&n.data(i,r,i.val())});i.on("keyup",function(){var u=n.data(i,r);u!==t&&i.val()!==u&&(n.removeData(i,r),i.trigger("keyup-change"))})}function ht(i){i.on("mousemove",function(i){var r=b;(r===t||r.x!==i.pageX||r.y!==i.pageY)&&n(i.target).trigger("mousemove-filtered",i)})}function nt(n,i,r){r=r||t;var u;return function(){var t=arguments;window.clearTimeout(u);u=window.setTimeout(function(){i.apply(r,t)},n)}}function ct(n){var t=!1,i;return function(){return t===!1&&(i=n(),t=!0),i}}function lt(n,t){var i=nt(n,function(n){t.trigger("scroll-debounced",n)});t.on("scroll",function(n){f(n.target,t.get())>=0&&i(n)})}function at(n){n[0]!==document.activeElement&&window.setTimeout(function(){var t=n[0],r=n.val().length,i;n.focus();n.is(":visible")&&t===document.activeElement&&(t.setSelectionRange?t.setSelectionRange(r,r):t.createTextRange&&(i=t.createTextRange(),i.collapse(!1),i.select()))},0)}function vt(t){var i,r,u;return t=n(t)[0],i=0,r=0,"selectionStart"in t?(i=t.selectionStart,r=t.selectionEnd-i):"selection"in document&&(t.focus(),u=document.selection.createRange(),r=document.selection.createRange().text.length,u.moveStart("character",-t.value.length),i=u.text.length-r),{offset:i,length:r}}function r(n){n.preventDefault();n.stopPropagation()}function yt(n){n.preventDefault();n.stopImmediatePropagation()}function pt(t){if(!s){var i=t[0].currentStyle||window.getComputedStyle(t[0],null);s=n(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"});s.attr("class","select2-sizer");n("body").append(s)}return s.text(t.val()),s.width()}function c(t,i,r){var u,f=[],e;u=t.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){this.indexOf("select2-")===0&&f.push(this)}));u=i.attr("class");u&&(u=""+u,n(u.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(e=r(this),e&&f.push(this))}));t.attr("class",f.join(" "))}function tt(n,t,i,r){var u=h(n.toUpperCase()).indexOf(h(t.toUpperCase())),f=t.length;if(u<0){i.push(r(n));return}i.push(r(n.substring(0,u)));i.push("<span class='select2-match'>");i.push(r(n.substring(u,u+f)));i.push("<\/span>");i.push(r(n.substring(u+f,n.length)))}function it(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})}function rt(i){var f,u=null,e=i.quietMillis||100,o=i.url,r=this;return function(s){window.clearTimeout(f);f=window.setTimeout(function(){var e=i.data,f=o,c=i.transport||n.fn.select2.ajaxDefaults.transport,l={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||t,dataType:i.dataType||"json"},h=n.extend({},n.fn.select2.ajaxDefaults.params,l);e=e?e.call(r,s.term,s.page,s.context):null;f=typeof f=="function"?f.call(r,s.term,s.page,s.context):f;u&&u.abort();i.params&&(n.isFunction(i.params)?n.extend(h,i.params.call(r)):n.extend(h,i.params));n.extend(h,{url:f,dataType:i.dataType,data:e,success:function(n){var t=i.results(n,s.page);s.callback(t)}});u=c.call(r,h)},e)}}function ut(t){var i=t,e,u,r=function(n){return""+n.text},f;return n.isArray(i)&&(u=i,i={results:u}),n.isFunction(i)===!1&&(u=i,i=function(){return u}),f=i(),f.text&&(r=f.text,n.isFunction(r)||(e=f.text,r=function(n){return n[e]})),function(t){var u=t.term,e={results:[]},f;if(u===""){t.callback(i());return}f=function(i,e){var o,s;if(i=i[0],i.children){o={};for(s in i)i.hasOwnProperty(s)&&(o[s]=i[s]);o.children=[];n(i.children).each2(function(n,t){f(t,o.children)});(o.children.length||t.matcher(u,r(o),i))&&e.push(o)}else t.matcher(u,r(i),i)&&e.push(i)};n(i().results).each2(function(n,t){f(t,e.results)});t.callback(e)}}function ft(i){var r=n.isFunction(i);return function(u){var f=u.term,e={results:[]};n(r?i():i).each(function(){var n=this.text!==t,i=n?this.text:this;(f===""||u.matcher(f,i))&&e.results.push(n?this:{id:this,text:this})});u.callback(e)}}function o(t,i){if(n.isFunction(t))return!0;if(!t)return!1;throw new Error(i+" must be a function or a falsy value");}function e(t){return n.isFunction(t)?t():t}function et(t){var i=0;return n.each(t,function(n,t){t.children?i+=et(t.children):i++}),i}function wt(n,i,r,f){var a=n,c=!1,e,s,o,h,l;if(!f.createSearchChoice||!f.tokenSeparators||f.tokenSeparators.length<1)return t;for(;;){for(s=-1,o=0,h=f.tokenSeparators.length;o<h;o++)if(l=f.tokenSeparators[o],s=n.indexOf(l),s>=0)break;if(s<0)break;if(e=n.substring(0,s),n=n.substring(s+l.length),e.length>0&&(e=f.createSearchChoice.call(this,e,i),e!==t&&e!==null&&f.id(e)!==t&&f.id(e)!==null)){for(c=!1,o=0,h=i.length;o<h;o++)if(u(f.id(e),f.id(i[o]))){c=!0;break}c||r(e)}}if(a!==n)return n}function y(t,i){var r=function(){};return r.prototype=new t,r.prototype.constructor=r,r.prototype.parent=t.prototype,r.prototype=n.extend(r.prototype,i),r}if(window.Select2===t){var l,p,w,a,s,b={x:0,y:0},ot,k,i={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(n){n=n.which?n.which:n;switch(n){case i.LEFT:case i.RIGHT:case i.UP:case i.DOWN:return!0}return!1},isControl:function(n){var t=n.which;switch(t){case i.SHIFT:case i.CTRL:case i.ALT:return!0}return n.metaKey?!0:!1},isFunctionKey:function(n){return n=n.which?n.which:n,n>=112&&n<=123}},bt="<div class='select2-measure-scrollbar'><\/div>",kt={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z"};ot=n(document);a=function(){var n=1;return function(){return n++}}();ot.on("mousemove",function(n){b.x=n.pageX;b.y=n.pageY});l=y(Object,{bind:function(n){var t=this;return function(){n.apply(t,arguments)}},init:function(i){var u,f,o=".select2-results",s,h;this.opts=i=this.prepareOpts(i);this.id=i.id;i.element.data("select2")!==t&&i.element.data("select2")!==null&&i.element.data("select2").destroy();this.container=this.createContainer();this.containerId="s2id_"+(i.element.attr("id")||"autogen"+a());this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1");this.container.attr("id",this.containerId);this.body=ct(function(){return i.element.closest("body")});c(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.attr("style",i.element.attr("style"));this.container.css(e(i.containerCss));this.container.addClass(e(i.containerCssClass));this.elementTabIndex=this.opts.element.attr("tabindex");this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container);this.container.data("select2",this);this.dropdown=this.container.find(".select2-drop");this.dropdown.addClass(e(i.dropdownCssClass));this.dropdown.data("select2",this);c(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.results=u=this.container.find(o);this.search=f=this.container.find("input.select2-input");this.queryCount=0;this.resultsPage=0;this.context=null;this.initContainer();ht(this.results);this.dropdown.on("mousemove-filtered touchstart touchmove touchend",o,this.bind(this.highlightUnderEvent));lt(80,this.results);this.dropdown.on("scroll-debounced",o,this.bind(this.loadMoreIfNeeded));n(this.container).on("change",".select2-input",function(n){n.stopPropagation()});n(this.dropdown).on("change",".select2-input",function(n){n.stopPropagation()});n.fn.mousewheel&&u.mousewheel(function(n,t,i,f){var e=u.scrollTop();f>0&&e-f<=0?(u.scrollTop(0),r(n)):f<0&&u.get(0).scrollHeight-u.scrollTop()+f<=u.height()&&(u.scrollTop(u.get(0).scrollHeight-u.height()),r(n))});g(f);f.on("keyup-change input paste",this.bind(this.updateResults));f.on("focus",function(){f.addClass("select2-focused")});f.on("blur",function(){f.removeClass("select2-focused")});this.dropdown.on("mouseup",o,this.bind(function(t){n(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))}));this.dropdown.on("click mouseup mousedown",function(n){n.stopPropagation()});n.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource());i.maximumInputLength!==null&&this.search.attr("maxlength",i.maximumInputLength);s=i.element.prop("disabled");s===t&&(s=!1);this.enable(!s);h=i.element.prop("readonly");h===t&&(h=!1);this.readonly(h);k=k||st();this.autofocus=i.element.prop("autofocus");i.element.prop("autofocus",!1);this.autofocus&&this.focus();this.nextSearchTerm=t},destroy:function(){var n=this.opts.element,i=n.data("select2");this.close();this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null);i!==t&&(i.container.remove(),i.dropdown.remove(),n.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?n.attr({tabindex:this.elementTabIndex}):n.removeAttr("tabindex"),n.show())},optionToData:function(n){return n.is("option")?{id:n.prop("value"),text:n.text(),element:n.get(),css:n.attr("class"),disabled:n.prop("disabled"),locked:u(n.attr("locked"),"locked")||u(n.data("locked"),!0)}:n.is("optgroup")?{text:n.attr("label"),children:[],element:n.get(),css:n.attr("class")}:void 0},prepareOpts:function(i){var e,o,s,r,f=this;if(e=i.element,e.get(0).tagName.toLowerCase()==="select"&&(this.select=o=i.element),o&&n.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.");}),i=n.extend({},{populateResults:function(r,u,e){var o,s=this.opts.id;o=function(r,u,h){var a,k,l,d,p,w,c,v,y,b;for(r=i.sortResults(r,u,e),a=0,k=r.length;a<k;a=a+1)l=r[a],p=l.disabled===!0,d=!p&&s(l)!==t,w=l.children&&l.children.length>0,c=n("<li><\/li>"),c.addClass("select2-results-dept-"+h),c.addClass("select2-result"),c.addClass(d?"select2-result-selectable":"select2-result-unselectable"),p&&c.addClass("select2-disabled"),w&&c.addClass("select2-result-with-children"),c.addClass(f.opts.formatResultCssClass(l)),v=n(document.createElement("div")),v.addClass("select2-result-label"),b=i.formatResult(l,v,e,f.opts.escapeMarkup),b!==t&&v.html(b),c.append(v),w&&(y=n("<ul><\/ul>"),y.addClass("select2-result-sub"),o(l.children,y,h+1),c.append(y)),c.data("select2-data",l),u.append(c)};o(u,r,0)}},n.fn.select2.defaults,i),typeof i.id!="function"&&(s=i.id,i.id=function(n){return n[s]}),n.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(o?(i.query=this.bind(function(n){var o={results:[],more:!1},s=n.term,i,r,u;u=function(t,i){var r;t.is("option")?n.matcher(s,t.text(),t)&&i.push(f.optionToData(t)):t.is("optgroup")&&(r=f.optionToData(t),t.children().each2(function(n,t){u(t,r.children)}),r.children.length>0&&i.push(r))};i=e.children();this.getPlaceholder()!==t&&i.length>0&&(r=this.getPlaceholderOption(),r&&(i=i.not(r)));i.each2(function(n,t){u(t,o.results)});n.callback(o)}),i.id=function(n){return n.id},i.formatResultCssClass=function(n){return n.css}):"query"in i||("ajax"in i?(r=i.element.data("ajax-url"),r&&r.length>0&&(i.ajax.url=r),i.query=rt.call(i.element,i.ajax)):"data"in i?i.query=ut(i.data):"tags"in i&&(i.query=ft(i.tags),i.createSearchChoice===t&&(i.createSearchChoice=function(t){return{id:n.trim(t),text:n.trim(t)}}),i.initSelection===t&&(i.initSelection=function(t,r){var f=[];n(v(t.val(),i.separator)).each(function(){var r=this,e=this,t=i.tags;n.isFunction(t)&&(t=t());n(t).each(function(){if(u(this.id,r))return e=this.text,!1});f.push({id:r,text:e})});r(f)}))),typeof i.query!="function")throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var n=this.opts.element,i;n.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()}));i=this.bind(function(){var u=this,r=n.prop("disabled"),i;r===t&&(r=!1);this.enable(!r);i=n.prop("readonly");i===t&&(i=!1);this.readonly(i);c(this.container,this.opts.element,this.opts.adaptContainerCssClass);this.container.addClass(e(this.opts.containerCssClass));c(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass);this.dropdown.addClass(e(this.opts.dropdownCssClass))});n.on("propertychange.select2 DOMAttrModified.select2",i);this.mutationCallback===t&&(this.mutationCallback=function(n){n.forEach(i)});typeof WebKitMutationObserver!="undefined"&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(this.mutationCallback),this.propertyObserver.observe(n.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var i=n.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(t){t=t||{};t=n.extend({},t,{type:"change",val:this.val()});this.opts.element.data("select2-change-triggered",!0);this.opts.element.trigger(t);this.opts.element.data("select2-change-triggered",!1);this.opts.element.click();this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var n=this._enabled&&!this._readonly,t=!n;return n===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=n,!0)},enable:function(n){(n===t&&(n=!0),this._enabled!==n)&&(this._enabled=n,this.opts.element.prop("disabled",!n),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(n){return(n===t&&(n=!1),this._readonly===n)?!1:(this._readonly=n,this.opts.element.prop("readonly",n),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t=this.dropdown,r=this.container.offset(),b=this.container.outerHeight(!1),u=this.container.outerWidth(!1),h=t.outerHeight(!1),a=n(window).scrollLeft()+n(window).width(),d=n(window).scrollTop()+n(window).height(),s=r.top+b,f=r.left,v=s+h<=d,y=r.top-h>=this.body().scrollTop(),i=t.outerWidth(!1),p=f+i<=a,g=t.hasClass("select2-drop-above"),c,o,w,l;this.opts.dropdownAutoWidth?(l=n(".select2-results",t)[0],t.addClass("select2-drop-auto-width"),t.css("width",""),i=t.outerWidth(!1)+(l.scrollHeight===l.clientHeight?0:k.width),i>u?u=i:i=u,p=f+i<=a):this.container.removeClass("select2-drop-auto-width");this.body().css("position")!=="static"&&(c=this.body().offset(),s-=c.top,f-=c.left);g?(o=!0,!y&&v&&(o=!1)):(o=!1,!v&&y&&(o=!0));p||(f=r.left+u-i);o?(s=r.top-h,this.container.addClass("select2-drop-above"),t.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),t.removeClass("select2-drop-above"));w=n.extend({top:s,left:f,width:u},e(this.opts.dropdownCss));t.css(w)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=n.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above");this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var i=this.containerId,u="scroll."+i,f="resize."+i,e="orientationchange."+i,t,r;if(this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=n("#select2-drop-mask"),t.length==0){t=n(document.createElement("div"));t.attr("id","select2-drop-mask").attr("class","select2-drop-mask");t.hide();t.appendTo(this.body());t.on("mousedown touchstart click",function(t){var r=n("#select2-drop"),i;r.length>0&&(i=r.data("select2"),i.opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!1}),t.preventDefault(),t.stopPropagation())})}this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t);n("#select2-drop").removeAttr("id");this.dropdown.attr("id","select2-drop");t.show();this.positionDropdown();this.dropdown.show();this.positionDropdown();this.dropdown.addClass("select2-drop-active");r=this;this.container.parents().add(window).each(function(){n(this).on(f+" "+u+" "+e,function(){r.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,i="scroll."+t,r="resize."+t,u="orientationchange."+t;this.container.parents().add(window).each(function(){n(this).off(i).off(r).off(u)});this.clearDropdownAlignmentPreference();n("#select2-drop-mask").hide();this.dropdown.removeAttr("id");this.dropdown.hide();this.container.removeClass("select2-dropdown-open");this.results.empty();this.clearSearch();this.search.removeClass("select2-active");this.opts.element.trigger(n.Event("select2-close"))}},externalSearch:function(n){this.open();this.search.val(n);this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return e(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t=this.results,e,i,r,u,o,s,f;if(i=this.highlight(),!(i<0)){if(i==0){t.scrollTop(0);return}e=this.findHighlightableChoices().find(".select2-result-label");r=n(e[i]);u=r.offset().top+r.outerHeight(!0);i===e.length-1&&(f=t.find("li.select2-more-results"),f.length>0&&(u=f.offset().top+f.outerHeight(!0)));o=t.offset().top+t.outerHeight(!0);u>o&&t.scrollTop(t.scrollTop()+(u-o));s=r.offset().top-t.offset().top;s<0&&r.css("display")!="none"&&t.scrollTop(t.scrollTop()+s)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(t){for(var u=this.findHighlightableChoices(),i=this.highlight(),r;i>-1&&i<u.length;)if(i+=t,r=n(u[i]),r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}},highlight:function(t){var i=this.findHighlightableChoices(),u,r;if(arguments.length===0)return f(i.filter(".select2-highlighted")[0],i.get());t>=i.length&&(t=i.length-1);t<0&&(t=0);this.removeHighlight();u=n(i[t]);u.addClass("select2-highlighted");this.ensureHighlightVisible();r=u.data("select2-data");r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var i=n(t.target).closest(".select2-result-selectable"),r;i.length>0&&!i.is(".select2-highlighted")?(r=this.findHighlightableChoices(),this.highlight(r.index(i))):i.length==0&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,i=t.find("li.select2-more-results"),u,r=this.resultsPage+1,n=this,f=this.search.val(),e=this.context;i.length!==0&&(u=i.offset().top-t.offset().top-t.height(),u<=this.opts.loadMorePadding&&(i.addClass("select2-active"),this.opts.query({element:this.opts.element,term:f,page:r,context:e,matcher:this.opts.matcher,callback:this.bind(function(u){n.opened()&&(n.opts.populateResults.call(this,t,u.results,{term:f,page:r,context:e}),n.postprocessResults(u,!1,!1),u.more===!0?(i.detach().appendTo(t).text(n.opts.formatLoadMore(r+1)),window.setTimeout(function(){n.loadMoreIfNeeded()},10)):i.remove(),n.positionDropdown(),n.resultsPage=r,n.context=u.context,this.opts.element.trigger({type:"select2-loaded",items:u}))})})))},tokenize:function(){},updateResults:function(i){function v(){f.removeClass("select2-active");e.positionDropdown()}function s(n){h.html(n);v()}var f=this.search,h=this.results,r=this.opts,a,e=this,c,y=f.val(),p=n.data(this.container,"select2-last-term"),w,l;if((i===!0||!p||!u(y,p))&&(n.data(this.container,"select2-last-term",y),i===!0||this.showSearchInput!==!1&&this.opened())){if(w=++this.queryCount,l=this.getMaximumSelectionSize(),l>=1&&(a=this.data(),n.isArray(a)&&a.length>=l&&o(r.formatSelectionTooBig,"formatSelectionTooBig"))){s("<li class='select2-selection-limit'>"+r.formatSelectionTooBig(l)+"<\/li>");return}if(f.val().length<r.minimumInputLength){o(r.formatInputTooShort,"formatInputTooShort")?s("<li class='select2-no-results'>"+r.formatInputTooShort(f.val(),r.minimumInputLength)+"<\/li>"):s("");i&&this.showSearch&&this.showSearch(!0);return}if(r.maximumInputLength&&f.val().length>r.maximumInputLength){o(r.formatInputTooLong,"formatInputTooLong")?s("<li class='select2-no-results'>"+r.formatInputTooLong(f.val(),r.maximumInputLength)+"<\/li>"):s("");return}r.formatSearching&&this.findHighlightableChoices().length===0&&s("<li class='select2-searching'>"+r.formatSearching()+"<\/li>");f.addClass("select2-active");this.removeHighlight();c=this.tokenize();c!=t&&c!=null&&f.val(c);this.resultsPage=1;r.query({element:r.element,term:f.val(),page:this.resultsPage,context:null,matcher:r.matcher,callback:this.bind(function(c){var l;if(w==this.queryCount){if(!this.opened()){this.search.removeClass("select2-active");return}if(this.context=c.context===t?null:c.context,this.opts.createSearchChoice&&f.val()!==""&&(l=this.opts.createSearchChoice.call(e,f.val(),c.results),l!==t&&l!==null&&e.id(l)!==t&&e.id(l)!==null&&n(c.results).filter(function(){return u(e.id(this),e.id(l))}).length===0&&c.results.unshift(l)),c.results.length===0&&o(r.formatNoMatches,"formatNoMatches")){s("<li class='select2-no-results'>"+r.formatNoMatches(f.val())+"<\/li>");return}h.empty();e.opts.populateResults.call(this,h,c.results,{term:f.val(),page:this.resultsPage,context:null});c.more===!0&&o(r.formatLoadMore,"formatLoadMore")&&(h.append("<li class='select2-more-results'>"+e.opts.escapeMarkup(r.formatLoadMore(this.resultsPage))+"<\/li>"),window.setTimeout(function(){e.loadMoreIfNeeded()},10));this.postprocessResults(c,i);v();this.opts.element.trigger({type:"select2-loaded",items:c})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();this.container.removeClass("select2-container-active");this.search[0]===document.activeElement&&this.search.blur();this.clearSearch();this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){at(this.search)},selectHighlighted:function(n){var i=this.highlight(),r=this.results.find(".select2-highlighted"),t=r.closest(".select2-result").data("select2-data");if(t){this.highlight(i);this.onSelect(t,n)}else n&&n.noFocus&&this.close()},getPlaceholder:function(){var n;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((n=this.getPlaceholderOption())!==t?n.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children().first();if(this.opts.placeholderOption!==t)return this.opts.placeholderOption==="first"&&n||typeof this.opts.placeholderOption=="function"&&this.opts.placeholderOption(this.select);if(n.text()===""&&n.val()==="")return n}},initContainerWidth:function(){function r(){var i,f,u,r,e;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(i=this.opts.element.attr("style"),i!==t)for(f=i.split(";"),r=0,e=f.length;r<e;r=r+1)if(u=f[r].replace(/\s/g,"").match(/[^-]width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),u!==null&&u.length>=1)return u[1];return this.opts.width==="resolve"?(i=this.opts.element.css("width"),i.indexOf("%")>0)?i:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px":null}return n.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=r.call(this);i!==null&&this.container.css("width",i)}});p=y(l,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container"}).html("<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>   <span class='select2-chosen'>&nbsp;<\/span><abbr class='select2-search-choice-close'><\/abbr>   <span class='select2-arrow'><b><\/b><\/span><\/a><input class='select2-focusser select2-offscreen' type='text'/><div class='select2-drop select2-display-none'>   <div class='select2-search'>       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>   <\/div>   <ul class='select2-results'>   <\/ul><\/div>")},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,r,u;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0);this.parent.opening.apply(this,arguments);this.showSearchInput!==!1&&this.search.val(this.focusser.val());this.search.focus();i=this.search.get(0);i.createTextRange?(r=i.createTextRange(),r.collapse(!1),r.select()):i.setSelectionRange&&(u=this.search.val().length,i.setSelectionRange(u,u));this.search.val()===""&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select());this.focusser.prop("disabled",!0).val("");this.updateResults(!0);this.opts.element.trigger(n.Event("select2-open"))},close:function(n){this.opened()&&(this.parent.close.apply(this,arguments),n=n||{focus:!0},this.focusser.removeAttr("disabled"),n.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments);this.focusser.removeAttr("disabled");this.focusser.focus()},destroy:function(){n("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,u=this.container,f=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0);this.selection=t=u.find(".select2-choice");this.focusser=u.find(".select2-focusser");this.focusser.attr("id","s2id_autogen"+a());n("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id"));this.focusser.attr("tabindex",this.elementTabIndex);this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){if(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN){r(n);return}switch(n.which){case i.UP:case i.DOWN:this.moveHighlight(n.which===i.UP?-1:1);r(n);return;case i.ENTER:this.selectHighlighted();r(n);return;case i.TAB:this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});return;case i.ESC:this.cancel(n);r(n);return}}}));this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)}));this.focusser.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()&&n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.ESC){if(this.opts.openOnEnter===!1&&n.which===i.ENTER){r(n);return}if(n.which==i.DOWN||n.which==i.UP||n.which==i.ENTER&&this.opts.openOnEnter){if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return;this.open();r(n);return}if(n.which==i.DELETE||n.which==i.BACKSPACE){this.opts.allowClear&&this.clear();r(n);return}}}));g(this.focusser);this.focusser.on("keyup-change input",this.bind(function(n){if(this.opts.minimumResultsForSearch>=0){if(n.stopPropagation(),this.opened())return;this.open()}}));t.on("mousedown","abbr",this.bind(function(n){this.isInterfaceEnabled()&&(this.clear(),yt(n),this.close(),this.selection.focus())}));t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.opened()?this.close():this.isInterfaceEnabled()&&this.open();r(t)}));f.on("mousedown",this.bind(function(){this.search.focus()}));t.on("focus",this.bind(function(n){r(n)}));this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(n.Event("select2-blur")))}));this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus"));this.container.addClass("select2-container-active")}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.setPlaceholder()},clear:function(n){var t=this.selection.data("select2-data"),i;t&&(i=this.getPlaceholderOption(),this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),n!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(t),choice:t}),this.triggerChange({removed:t})))},initSelection:function(){var n;this.isPlaceholderOptionSelected()?(this.updateSelection(null),this.close(),this.setPlaceholder()):(n=this,this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&i!==null&&(n.updateSelection(i),n.close(),n.setPlaceholder())}))},isPlaceholderOptionSelected:function(){var n;return this.opts.placeholder?(n=this.getPlaceholderOption())!==t&&n.is(":selected")||this.opts.element.val()===""||this.opts.element.val()===t||this.opts.element.val()===null:!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(n,t){var r=n.find(":selected");t(i.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=i.val(),f=null;t.query({matcher:function(n,i,r){var o=u(e,t.id(r));return o&&(f=r),o},callback:n.isFunction(r)?function(){r(f)}:n.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var n=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&n!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(n));this.selection.addClass("select2-default");this.container.removeClass("select2-allowclear")}},postprocessResults:function(n,t,i){var r=0,e=this,f;this.findHighlightableChoices().each2(function(n,t){if(u(e.id(t.data("select2-data")),e.opts.element.val()))return r=n,!1});i!==!1&&(t===!0&&r>=0?this.highlight(r):this.highlight(0));t===!0&&(f=this.opts.minimumResultsForSearch,f>=0&&this.showSearch(et(n.results)>=f))},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),n(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(n,t){if(this.triggerSelect(n)){var i=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(n));this.updateSelection(n);this.opts.element.trigger({type:"select2-selected",val:this.id(n),choice:n});this.nextSearchTerm=this.opts.nextSearchTerm(n,this.search.val());this.close();t&&t.noFocus||this.selection.focus();u(i,this.id(n))||this.triggerChange({added:n,removed:r})}},updateSelection:function(n){var i=this.selection.find(".select2-chosen"),r,u;this.selection.data("select2-data",n);i.empty();n!==null&&(r=this.opts.formatSelection(n,i,this.opts.escapeMarkup));r!==t&&i.append(r);u=this.opts.formatSelectionCssClass(n,i);u!==t&&i.addClass(u);this.selection.removeClass("select2-default");this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var i,r=!1,u=null,n=this,f=this.data();if(arguments.length===0)return this.opts.element.val();if(i=arguments[0],arguments.length>1&&(r=arguments[1]),this.select)this.select.val(i).find(":selected").each2(function(t,i){return u=n.optionToData(i),!1}),this.updateSelection(u),this.setPlaceholder(),r&&this.triggerChange({added:u,removed:f});else{if(!i&&i!==0){this.clear(r);return}if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(i);this.opts.initSelection(this.opts.element,function(t){n.opts.element.val(t?n.id(t):"");n.updateSelection(t);n.setPlaceholder();r&&n.triggerChange({added:t,removed:f})})}},clearSearch:function(){this.search.val("");this.focusser.val("")},data:function(n){var i,r=!1;if(arguments.length===0)return i=this.selection.data("select2-data"),i==t&&(i=null),i;arguments.length>1&&(r=arguments[1]);n?(i=this.data(),this.opts.element.val(n?this.id(n):""),this.updateSelection(n),r&&this.triggerChange({added:n,removed:i})):this.clear(r)}});w=y(l,{createContainer:function(){return n(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html("<ul class='select2-choices'>  <li class='select2-search-field'>    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>  <\/li><\/ul><div class='select2-drop select2-drop-multi select2-display-none'>   <ul class='select2-results'>   <\/ul><\/div>")},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),i=this;return t.element.get(0).tagName.toLowerCase()==="select"?t.initSelection=function(n,t){var r=[];n.find(":selected").each2(function(n,t){r.push(i.optionToData(t))});t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(i,r){var e=v(i.val(),t.separator),f=[];t.query({matcher:function(i,r,o){var s=n.grep(e,function(n){return u(n,t.id(o))}).length;return s&&f.push(o),s},callback:n.isFunction(r)?function(){for(var s,n,i,h=[],o=0;o<e.length;o++)for(s=e[o],n=0;n<f.length;n++)if(i=f[n],u(s,t.id(i))){h.push(i);f.splice(n,1);break}r(h)}:n.noop})}),t},selectChoice:function(n){var t=this.container.find(".select2-search-choice-focus");t.length&&n&&n[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),n&&n.length&&(this.close(),n.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",n)))},destroy:function(){n("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id"));this.parent.destroy.apply(this,arguments)},initContainer:function(){var t=".select2-choices",u,f;this.searchContainer=this.container.find(".select2-search-field");this.selection=u=this.container.find(t);f=this;this.selection.on("click",".select2-search-choice",function(){f.search[0].focus();f.selectChoice(n(this))});this.search.attr("id","s2id_autogen"+a());n("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id"));this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}));this.search.attr("tabindex",this.elementTabIndex);this.keydowns=0;this.search.on("keydown",this.bind(function(n){var t;if(this.isInterfaceEnabled()){++this.keydowns;var f=u.find(".select2-search-choice-focus"),o=f.prev(".select2-search-choice:not(.select2-locked)"),e=f.next(".select2-search-choice:not(.select2-locked)"),s=vt(this.search);if(f.length&&(n.which==i.LEFT||n.which==i.RIGHT||n.which==i.BACKSPACE||n.which==i.DELETE||n.which==i.ENTER)){t=f;n.which==i.LEFT&&o.length?t=o:n.which==i.RIGHT?t=e.length?e:null:n.which===i.BACKSPACE?(this.unselect(f.first()),this.search.width(10),t=o.length?o:e):n.which==i.DELETE?(this.unselect(f.first()),this.search.width(10),t=e.length?e:null):n.which==i.ENTER&&(t=null);this.selectChoice(t);r(n);t&&t.length||this.open();return}if((n.which!==i.BACKSPACE||this.keydowns!=1)&&n.which!=i.LEFT||s.offset!=0||s.length)this.selectChoice(null);else{this.selectChoice(u.find(".select2-search-choice:not(.select2-locked)").last());r(n);return}if(this.opened())switch(n.which){case i.UP:case i.DOWN:this.moveHighlight(n.which===i.UP?-1:1);r(n);return;case i.ENTER:this.selectHighlighted();r(n);return;case i.TAB:this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0});this.close();return;case i.ESC:this.cancel(n);r(n);return}if(n.which!==i.TAB&&!i.isControl(n)&&!i.isFunctionKey(n)&&n.which!==i.BACKSPACE&&n.which!==i.ESC){if(n.which===i.ENTER){if(this.opts.openOnEnter===!1)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open();(n.which===i.PAGE_UP||n.which===i.PAGE_DOWN)&&r(n);n.which===i.ENTER&&r(n)}}}));this.search.on("keyup",this.bind(function(){this.keydowns=0;this.resizeSearch()}));this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active");this.search.removeClass("select2-focused");this.selectChoice(null);this.opened()||this.clearSearch();t.stopImmediatePropagation();this.opts.element.trigger(n.Event("select2-blur"))}));this.container.on("click",t,this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))}));this.container.on("focus",t,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(n.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}));this.initContainerWidth();this.opts.element.addClass("select2-offscreen");this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){var n;this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch());(this.select||this.opts.element.val()!=="")&&(n=this,this.opts.initSelection.call(null,this.opts.element,function(i){i!==t&&i!==null&&(n.updateSelection(i),n.close(),n.clearSearch())}))},clearSearch:function(){var n=this.getPlaceholder(),i=this.getMaxSearchWidth();n!==t&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(n).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder();this.resizeSearch();this.parent.opening.apply(this,arguments);this.focusSearch();this.updateResults(!0);this.search.focus();this.opts.element.trigger(n.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close();this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var r=[],u=[],i=this;n(t).each(function(){f(i.id(this),r)<0&&(r.push(i.id(this)),u.push(this))});t=u;this.selection.find(".select2-search-choice").remove();n(t).each(function(){i.addSelectedChoice(this)});i.postprocessResults()},tokenize:function(){var n=this.search.val();n=this.opts.tokenizer.call(this,n,this.data(),this.bind(this.onSelect),this.opts);n!=null&&n!=t&&(this.search.val(n),n.length>0&&this.open())},onSelect:function(n,t){this.triggerSelect(n)&&(this.addSelectedChoice(n),this.opts.element.trigger({type:"selected",val:this.id(n),choice:n}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(n,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:n}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close();this.focusSearch()},addSelectedChoice:function(i){var o=!i.locked,h=n("<li class='select2-search-choice'>    <div><\/div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'><\/a><\/li>"),c=n("<li class='select2-search-choice select2-locked'><div><\/div><\/li>"),u=o?h:c,l=this.id(i),s=this.getVal(),f,e;if(f=this.opts.formatSelection(i,u.find("div"),this.opts.escapeMarkup),f!=t&&u.find("div").replaceWith("<div>"+f+"<\/div>"),e=this.opts.formatSelectionCssClass(i,u.find("div")),e!=t&&u.addClass(e),o)u.find(".select2-search-choice-close").on("mousedown",r).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(n(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(n(t.target));this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");this.close();this.focusSearch()})).dequeue(),r(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}));u.data("select2-data",i);u.insertBefore(this.searchContainer);s.push(l);this.setVal(s)},unselect:function(n){var i=this.getVal(),t,r;if(n=n.closest(".select2-search-choice"),n.length===0)throw"Invalid argument: "+n+". Must be .select2-search-choice";(t=n.data("select2-data"),t)&&(r=f(this.id(t),i),r>=0&&(i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults()),n.remove(),this.opts.element.trigger({type:"removed",val:this.id(t),choice:t}),this.triggerChange({removed:t}))},postprocessResults:function(n,t,i){var e=this.getVal(),u=this.results.find(".select2-result"),s=this.results.find(".select2-result-with-children"),r=this;u.each2(function(n,t){var i=r.id(t.data("select2-data"));f(i,e)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))});s.each2(function(n,t){t.is(".select2-result-selectable")||t.find(".select2-result-selectable:not(.select2-selected)").length!==0||t.addClass("select2-selected")});this.highlight()==-1&&i!==!1&&r.highlight(0);!this.opts.createSearchChoice&&!u.filter(".select2-result:not(.select2-selected)").length>0&&(n&&(!n||n.more||this.results.find(".select2-no-results").length!==0)||o(r.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+r.opts.formatNoMatches(r.search.val())+"<\/li>"))},getMaxSearchWidth:function(){return this.selection.width()-d(this.search)},resizeSearch:function(){var i,u,t,f,n,r=d(this.search);i=pt(this.search)+10;u=this.search.offset().left;t=this.selection.width();f=this.selection.offset().left;n=t-(u-f)-r;n<i&&(n=t-r);n<40&&(n=t-r);n<=0&&(n=i);this.search.width(n)},getVal:function(){var n;return this.select?(n=this.select.val(),n===null?[]:n):(n=this.opts.element.val(),v(n,this.opts.separator))},setVal:function(t){var i;this.select?this.select.val(t):(i=[],n(t).each(function(){f(this,i)<0&&i.push(this)}),this.opts.element.val(i.length===0?"":i.join(this.opts.separator)))},buildChangeDetails:function(n,t){for(var i,t=t.slice(0),n=n.slice(0),r=0;r<t.length;r++)for(i=0;i<n.length;i++)u(this.opts.id(t[r]),this.opts.id(n[i]))&&(t.splice(r,1),r--,n.splice(i,1),i--);return{added:t,removed:n}},val:function(i,r){var u,f=this;if(arguments.length===0)return this.getVal();if(u=this.data(),u.length||(u=[]),!i&&i!==0){this.opts.element.val("");this.updateSelection([]);this.clearSearch();r&&this.triggerChange({added:this.data(),removed:u});return}if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(u,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var i=n.map(t,f.id);f.setVal(i);f.updateSelection(t);f.clearSearch();r&&f.triggerChange(f.buildChangeDetails(u,this.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0);this.searchContainer.hide()},onSortEnd:function(){var t=[],i=this;this.searchContainer.show();this.searchContainer.appendTo(this.searchContainer.parent());this.resizeSearch();this.selection.find(".select2-search-choice").each(function(){t.push(i.opts.id(n(this).data("select2-data")))});this.setVal(t);this.triggerChange()},data:function(t,i){var f=this,r,u;if(arguments.length===0)return this.selection.find(".select2-search-choice").map(function(){return n(this).data("select2-data")}).get();u=this.data();t||(t=[]);r=n.map(t,function(n){return f.opts.id(n)});this.setVal(r);this.updateSelection(t);this.clearSearch();i&&this.triggerChange(this.buildChangeDetails(u,this.data()))}});n.fn.select2=function(){var i=Array.prototype.slice.call(arguments,0),r,u,e,o,s,c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],l=["opened","isFocused","container","dropdown"],a=["val","data"],h={search:"externalSearch"};return this.each(function(){if(i.length===0||typeof i[0]=="object")r=i.length===0?{}:n.extend({},i[0]),r.element=n(this),r.element.get(0).tagName.toLowerCase()==="select"?s=r.element.prop("multiple"):(s=r.multiple||!1,"tags"in r&&(r.multiple=s=!0)),u=s?new w:new p,u.init(r);else if(typeof i[0]=="string"){if(f(i[0],c)<0)throw"Unknown method: "+i[0];if(o=t,u=n(this).data("select2"),u===t)return;if(e=i[0],e==="container"?o=u.container:e==="dropdown"?o=u.dropdown:(h[e]&&(e=h[e]),o=u[e].apply(u,i.slice(1))),f(i[0],l)>=0||f(i[0],a)&&i.length==1)return!1}else throw"Invalid arguments to select2 plugin: "+i;}),o===t?this:o};n.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(n,t,i,r){var u=[];return tt(n.text,i.term,u,r),u.join("")},formatSelection:function(n,i,r){return n?r(n.text):t},sortResults:function(n){return n},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"Kayıt bulunamadı!"},formatInputTooShort:function(n,t){var i=t-n.length;return"Lütfen en az "+i+" karakter giriniz"},formatInputTooLong:function(n,t){var i=n.length-t;return"Please delete "+i+" character"+(i==1?"":"s")},formatSelectionTooBig:function(n){return"Sadece  "+n+" öğe seçebilirsiniz. "},formatLoadMore:function(){return"Daha fazla sonu� y�kleniyor..."},formatSearching:function(){return"Araniyor..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(n){return n.id},matcher:function(n,t){return h(""+t).toUpperCase().indexOf(h(""+n).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:wt,escapeMarkup:it,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(n){return n},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}};n.fn.select2.ajaxDefaults={transport:n.ajax,params:{type:"GET",cache:!1,dataType:"json"}};window.Select2={query:{ajax:rt,local:ut,tags:ft},util:{debounce:nt,markMatch:tt,escapeMarkup:it,stripDiacritics:h},"class":{abstract:l,single:p,multi:w}}}}(jQuery),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):n(window.jQuery||window.$)}(function(n){var i,u={className:"autosizejs",append:"",callback:!1,resizeDelay:10},r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],t=n('<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>').data("autosize",!0)[0];t.style.lineHeight="99px";"99px"===n(t).css("lineHeight")&&r.push("lineHeight");t.style.lineHeight="";n.fn.autosize=function(f){return f=n.extend({},u,f||{}),t.parentNode!==document.body&&n(document.body).append(t),this.each(function(){function v(){var c,o={},h;(i=u,t.className=f.className,s=parseInt(e.css("maxHeight"),10),n.each(r,function(n,t){o[t]=e.css(t)}),n(t).css(o),"oninput"in u)&&(h=u.style.width,u.style.width="0px",c=u.offsetWidth,u.style.width=h)}function o(){var r,c,o,a;i!==u&&v();t.value=u.value+f.append;t.style.overflowY=u.style.overflowY;c=parseInt(u.style.height,10);"getComputedStyle"in window?(a=window.getComputedStyle(u),o=u.getBoundingClientRect().width,n.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(n,t){o-=parseInt(a[t],10)}),t.style.width=o+"px"):t.style.width=Math.max(e.width(),0)+"px";t.scrollTop=0;t.scrollTop=9e4;r=t.scrollTop;s&&r>s?(u.style.overflowY="scroll",r=s):(u.style.overflowY="hidden",h>r&&(r=h));r+=l;c!==r&&(u.style.height=r+"px",y&&f.callback.call(u,u))}function a(){clearTimeout(c);c=setTimeout(function(){e.width()!==w&&o()},parseInt(f.resizeDelay,10))}var s,h,c,u=this,e=n(u),l=0,y=n.isFunction(f.callback),p={height:u.style.height,overflow:u.style.overflow,overflowY:u.style.overflowY,wordWrap:u.style.wordWrap,resize:u.style.resize},w=e.width();e.data("autosize")||(e.data("autosize",!0),("border-box"===e.css("box-sizing")||"border-box"===e.css("-moz-box-sizing")||"border-box"===e.css("-webkit-box-sizing"))&&(l=e.outerHeight()-e.height()),h=Math.max(parseInt(e.css("minHeight"),10)-l||0,e.height()),e.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===e.css("resize")||"vertical"===e.css("resize")?"none":"horizontal"}),"onpropertychange"in u?"oninput"in u?e.on("input.autosize keyup.autosize",o):e.on("propertychange.autosize",function(){"value"===event.propertyName&&o()}):e.on("input.autosize",o),f.resizeDelay!==!1&&n(window).on("resize.autosize",a),e.on("autosize.resize",o),e.on("autosize.resizeIncludeStyle",function(){i=null;o()}),e.on("autosize.destroy",function(){i=null;clearTimeout(c);n(window).off("resize",a);e.off("autosize").off(".autosize").css(p).removeData("autosize")}),o())})}});!function(n){var u=function(n){this.value={h:1,s:1,b:1,a:1};this.setColor(n)},r,i,t;u.prototype={constructor:u,setColor:function(i){i=i.toLowerCase();var r=this;n.each(t.stringParsers,function(n,u){var e=u.re.exec(i),f=e&&u.parse(e),o=u.space||"rgba";return f?(r.value="hsla"===o?t.RGBtoHSB.apply(null,t.HSLtoRGB.apply(null,f)):t.RGBtoHSB.apply(null,f),!1):!0})},setHue:function(n){this.value.h=1-n},setSaturation:function(n){this.value.s=n},setLightness:function(n){this.value.b=1-n},setAlpha:function(n){this.value.a=parseInt(100*(1-n),10)/100},toRGB:function(n,t,i,r){n||(n=this.value.h,t=this.value.s,i=this.value.b);n*=360;var e,o,s,f,u;return n=n%360/60,u=i*t,f=u*(1-Math.abs(n%2-1)),e=o=s=i-u,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],{r:Math.round(255*e),g:Math.round(255*o),b:Math.round(255*s),a:r||this.value.a}},toHex:function(n,t,i,r){var u=this.toRGB(n,t,i,r);return"#"+(16777216|parseInt(u.r)<<16|parseInt(u.g)<<8|parseInt(u.b)).toString(16).substr(1)},toHSL:function(n,t,i,r){n||(n=this.value.h,t=this.value.s,i=this.value.b);var e=n,u=(2-t)*i,f=t*i;return f/=u>0&&1>=u?u:2-u,u/=2,f>1&&(f=1),{h:e,s:f,l:u,a:r||this.value.a}}};r=0;i=function(i,u){r++;this.element=n(i).attr("data-colorpicker-guid",r);var f=u.format||this.element.data("color-format")||"hex";this.format=t.translateFormats[f];this.isInput=this.element.is("input");this.component=this.element.is(".color")?this.element.find(".input-group-addon"):!1;this.picker=n(t.template).attr("data-colorpicker-guid",r).appendTo("body").on("mousedown.colorpicker",n.proxy(this.mousedown,this));this.isInput?this.element.on({"focus.colorpicker":n.proxy(this.show,this),"keyup.colorpicker":n.proxy(this.update,this)}):this.component?this.component.on({"click.colorpicker":n.proxy(this.show,this)}):this.element.on({"click.colorpicker":n.proxy(this.show,this)});("rgba"===f||"hsla"===f)&&(this.picker.addClass("alpha"),this.alpha=this.picker.find(".colorpicker-alpha")[0].style);this.component?(this.picker.find(".colorpicker-color").hide(),this.preview=this.element.find("i")[0].style):this.preview=this.picker.find("div:last")[0].style;this.base=this.picker.find("div:first")[0].style;this.update();n(n.proxy(function(){this.element.trigger("create",[this])},this))};i.prototype={constructor:i,show:function(t){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();n(window).on("resize.colorpicker",n.proxy(this.place,this));this.isInput||t&&(t.stopPropagation(),t.preventDefault());n(document).on({"mousedown.colorpicker":n.proxy(this.hide,this)});this.element.trigger({type:"showPicker",color:this.color})},update:function(){var n=this.isInput?this.element.prop("value"):this.element.data("color");("undefined"==typeof n||null===n)&&(n="#ffffff");this.color=new u(n);this.picker.find("i").eq(0).css({left:100*this.color.value.s,top:100-100*this.color.value.b}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a));this.previewColor()},hide:function(){this.picker.hide();n(window).off("resize",this.place);n(document).off({mousedown:this.hide});this.isInput?""!==this.element.val()&&this.element.prop("value",this.format.call(this)).trigger("change"):(this.component&&""!==this.element.find("input").val()&&this.element.find("input").prop("value",this.format.call(this)).trigger("change"),this.element.data("color",this.format.call(this)));this.element.trigger({type:"hidePicker",color:this.color})},place:function(){var n=this.component?this.component.offset():this.element.offset();this.picker.css({top:n.top+this.height,left:n.left})},destroy:function(){n(".colorpicker[data-colorpicker-guid="+this.element.attr("data-colorpicker-guid")+"]").remove();this.element.removeData("colorpicker").removeAttr("data-colorpicker-guid").off(".colorpicker");this.component!==!1&&this.component.off(".colorpicker");this.element.trigger("destroy",[this])},setValue:function(n){this.isInput?this.element.prop("value",n):(this.element.find("input").val(n),this.element.data("color",n));this.update();this.element.trigger({type:"changeColor",color:this.color})},previewColor:function(){try{this.preview.backgroundColor=this.format.call(this)}catch(n){this.preview.backgroundColor=this.color.toHex()}this.base.backgroundColor=this.color.toHex(this.color.value.h,1,1,1);this.alpha&&(this.alpha.backgroundColor=this.color.toHex())},pointer:null,slider:null,mousedown:function(i){var f,r,u;if(i.stopPropagation(),i.preventDefault(),f=n(i.target),r=f.closest("div"),!r.is(".colorpicker")){if(r.is(".colorpicker-saturation"))this.slider=n.extend({},t.sliders.saturation);else if(r.is(".colorpicker-hue"))this.slider=n.extend({},t.sliders.hue);else{if(!r.is(".colorpicker-alpha"))return!1;this.slider=n.extend({},t.sliders.alpha)}u=r.offset();this.slider.knob=r.find("i")[0].style;this.slider.left=i.pageX-u.left;this.slider.top=i.pageY-u.top;this.pointer={left:i.pageX,top:i.pageY};n(document).on({"mousemove.colorpicker":n.proxy(this.mousemove,this),"mouseup.colorpicker":n.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(n){n.stopPropagation();n.preventDefault();var t=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((n.pageX||this.pointer.left)-this.pointer.left))),i=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((n.pageY||this.pointer.top)-this.pointer.top)));if(this.slider.knob.left=t+"px",this.slider.knob.top=i+"px",this.slider.callLeft&&this.color[this.slider.callLeft].call(this.color,t/100),this.slider.callTop&&this.color[this.slider.callTop].call(this.color,i/100),this.previewColor(),this.isInput)try{this.element.val(this.format.call(this)).trigger("change")}catch(n){this.element.val(this.color.toHex()).trigger("change")}else try{this.element.find("input").val(this.format.call(this)).trigger("change")}catch(n){this.element.find("input").val(this.color.toHex()).trigger("change")}return this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(t){return t.stopPropagation(),t.preventDefault(),n(document).off({mousemove:this.mousemove,mouseup:this.mouseup}),!1}};n.fn.colorpicker=function(t,r){return this.each(function(){var f=n(this),u=f.data("colorpicker"),e="object"==typeof t&&t;u?"string"==typeof t&&u[t](r):"destroy"!==t&&f.data("colorpicker",u=new i(this,n.extend({},n.fn.colorpicker.defaults,e)))})};n.fn.colorpicker.defaults={};n.fn.colorpicker.Constructor=i;t={translateFormats:{rgb:function(){var n=this.color.toRGB();return"rgb("+n.r+","+n.g+","+n.b+")"},rgba:function(){var n=this.color.toRGB();return"rgba("+n.r+","+n.g+","+n.b+","+n.a+")"},hsl:function(){var n=this.color.toHSL();return"hsl("+Math.round(360*n.h)+","+Math.round(100*n.s)+"%,"+Math.round(100*n.l)+"%)"},hsla:function(){var n=this.color.toHSL();return"hsla("+Math.round(360*n.h)+","+Math.round(100*n.s)+"%,"+Math.round(100*n.l)+"%,"+n.a+")"},hex:function(){return this.color.toHex()}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},RGBtoHSB:function(n,t,i,r){n/=255;t/=255;i/=255;var e,o,f,u;return f=Math.max(n,t,i),u=f-Math.min(n,t,i),e=0===u?null:f===n?(t-i)/u:f===t?(i-n)/u+2:(n-t)/u+4,e=(e+360)%6/6,o=0===u?0:u/f,{h:e||1,s:o,b:f,a:r||1}},HueToRGB:function(n,t,i){return 0>i?i+=1:i>1&&(i-=1),1>6*i?n+6*(t-n)*i:1>2*i?t:2>3*i?n+6*(t-n)*(2/3-i):n},HSLtoRGB:function(n,i,r,u){var f;0>i&&(i=0);f=.5>=r?r*(1+i):r+i-r*i;var e=2*r-f,o=n+1/3,s=n,h=n-1/3,c=Math.round(255*t.HueToRGB(e,f,o)),l=Math.round(255*t.HueToRGB(e,f,s)),a=Math.round(255*t.HueToRGB(e,f,h));return[c,l,a,u||1]},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(n){return[n[1],n[2],n[3],n[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(n){return[2.55*n[1],2.55*n[2],2.55*n[3],n[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(n){return[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(n){return[parseInt(n[1]+n[1],16),parseInt(n[2]+n[2],16),parseInt(n[3]+n[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(n){return[n[1]/360,n[2]/100,n[3]/100,n[4]]}}],template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b><\/b><\/i><\/div><div class="colorpicker-hue"><i><\/i><\/div><div class="colorpicker-alpha"><i><\/i><\/div><div class="colorpicker-color"><div /><\/div><\/div>'}}(window.jQuery);!function(n){var t=function(t,i,r){var c,s="object"==typeof i,a,o,e,l,v,y,p,u,f,w,h;if(this.startDate=moment().startOf("day"),this.endDate=moment().startOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.ranges={},this.opens="right",this.buttonClasses=["btn","btn-small"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:moment()._lang._weekdaysMin.slice(),monthNames:moment()._lang._monthsShort.slice(),firstDay:0},this.cb=function(){},this.parentEl="body",this.element=n(t),this.element.hasClass("pull-right")&&(this.opens="left"),this.element.is("input")?this.element.on({click:n.proxy(this.show,this),focus:n.proxy(this.show,this)}):this.element.on("click",n.proxy(this.show,this)),c=this.locale,s&&("object"==typeof i.locale&&n.each(c,function(n,t){c[n]=i.locale[n]||t}),i.applyClass&&(this.applyClass=i.applyClass),i.cancelClass&&(this.cancelClass=i.cancelClass)),a='<div class="daterangepicker dropdown-menu"><div class="calendar left"><\/div><div class="calendar right"><\/div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input" style="float: left"><label for="daterangepicker_start">'+this.locale.fromLabel+'<\/label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /><\/div><div class="daterangepicker_end_input" style="float: left;"><label for="daterangepicker_end">'+this.locale.toLabel+'<\/label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /><\/div><div class="btn-toolbar"><button class="'+this.applyClass+' applyBtn" disabled="disabled">'+this.locale.applyLabel+'<\/button>&nbsp;<button class="'+this.cancelClass+' cancelBtn">'+this.locale.cancelLabel+"<\/button><\/div><\/div><\/div><\/div>",this.parentEl=s&&i.parentEl&&n(i.parentEl)||n(this.parentEl),this.container=n(a).appendTo(this.parentEl),s){if("string"==typeof i.format&&(this.format=i.format),"string"==typeof i.separator&&(this.separator=i.separator),"string"==typeof i.startDate&&(this.startDate=moment(i.startDate,this.format)),"string"==typeof i.endDate&&(this.endDate=moment(i.endDate,this.format)),"string"==typeof i.minDate&&(this.minDate=moment(i.minDate,this.format)),"string"==typeof i.maxDate&&(this.maxDate=moment(i.maxDate,this.format)),"object"==typeof i.startDate&&(this.startDate=moment(i.startDate)),"object"==typeof i.endDate&&(this.endDate=moment(i.endDate)),"object"==typeof i.minDate&&(this.minDate=moment(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=moment(i.maxDate)),"object"==typeof i.ranges){for(e in i.ranges)u=moment(i.ranges[e][0]),f=moment(i.ranges[e][1]),this.minDate&&u.isBefore(this.minDate)&&(u=moment(this.minDate)),this.maxDate&&f.isAfter(this.maxDate)&&(f=moment(this.maxDate)),this.minDate&&f.isBefore(this.minDate)||this.maxDate&&u.isAfter(this.maxDate)||(this.ranges[e]=[u,f]);o="<ul>";for(e in this.ranges)o+="<li>"+e+"<\/li>";o+="<li>"+this.locale.customRangeLabel+"<\/li>";o+="<\/ul>";this.container.find(".ranges").prepend(o)}if("object"==typeof i.dateLimit&&(this.dateLimit=i.dateLimit),"object"==typeof i.locale&&"number"==typeof i.locale.firstDay)for(this.locale.firstDay=i.locale.firstDay,l=i.locale.firstDay;l>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),l--;"string"==typeof i.opens&&(this.opens=i.opens);"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers);"string"==typeof i.buttonClasses&&(this.buttonClasses=[i.buttonClasses]);"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses);"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns);"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker);"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement);"boolean"==typeof i.timePicker12Hour&&(this.timePicker12Hour=i.timePicker12Hour)}this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.startOf("day"));v=this.container;(n.each(this.buttonClasses,function(n,t){v.find("button").addClass(t)}),"right"==this.opens)&&(y=this.container.find(".calendar.left"),p=this.container.find(".calendar.right"),y.removeClass("left").addClass("right"),p.removeClass("right").addClass("left"));(("undefined"==typeof i||"undefined"==typeof i.ranges)&&(this.container.find(".calendar").show(),this.move()),"function"==typeof r&&(this.cb=r),this.container.addClass("opens"+this.opens),(!s||"undefined"==typeof i.startDate&&"undefined"==typeof i.endDate)&&n(this.element).is("input[type=text]"))&&(w=n(this.element).val(),h=w.split(this.separator),2==h.length&&(u=moment(h[0],this.format),f=moment(h[1],this.format)),null!=u&&null!=f&&(this.startDate=u,this.endDate=f));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.leftCalendar={month:moment([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]};this.rightCalendar={month:moment([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]};this.container.on("mousedown",n.proxy(this.mousedown,this));this.container.find(".calendar").on("click",".prev",n.proxy(this.clickPrev,this));this.container.find(".calendar").on("click",".next",n.proxy(this.clickNext,this));this.container.find(".ranges").on("click","button.applyBtn",n.proxy(this.clickApply,this));this.container.find(".ranges").on("click","button.cancelBtn",n.proxy(this.clickCancel,this));this.container.find(".ranges").on("click",".daterangepicker_start_input",n.proxy(this.showCalendars,this));this.container.find(".ranges").on("click",".daterangepicker_end_input",n.proxy(this.showCalendars,this));this.container.find(".calendar").on("click","td.available",n.proxy(this.clickDate,this));this.container.find(".calendar").on("mouseenter","td.available",n.proxy(this.enterDate,this));this.container.find(".calendar").on("mouseleave","td.available",n.proxy(this.updateView,this));this.container.find(".ranges").on("click","li",n.proxy(this.clickRange,this));this.container.find(".ranges").on("mouseenter","li",n.proxy(this.enterRange,this));this.container.find(".ranges").on("mouseleave","li",n.proxy(this.updateView,this));this.container.find(".calendar").on("change","select.yearselect",n.proxy(this.updateMonthYear,this));this.container.find(".calendar").on("change","select.monthselect",n.proxy(this.updateMonthYear,this));this.container.find(".calendar").on("change","select.hourselect",n.proxy(this.updateTime,this));this.container.find(".calendar").on("change","select.minuteselect",n.proxy(this.updateTime,this));this.container.find(".calendar").on("change","select.ampmselect",n.proxy(this.updateTime,this));this.element.on("keyup",n.proxy(this.updateFromControl,this));this.updateView();this.updateCalendars()};t.prototype={constructor:t,mousedown:function(n){n.stopPropagation()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year());this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format));this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var i=this.element.val().split(this.separator),n=moment(i[0],this.format),t=moment(i[1],this.format);null!=n&&null!=t&&(t.isBefore(n)||(this.startDate=n,this.endDate=t,this.notify(),this.updateCalendars()))}},notify:function(){this.updateView();this.cb(this.startDate,this.endDate)},move:function(){var t={top:this.parentEl.offset().top-(this.parentEl.is("body")?0:this.parentEl.scrollTop()),left:this.parentEl.offset().left-(this.parentEl.is("body")?0:this.parentEl.scrollLeft())};"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,right:n(window).width()-this.element.offset().left-this.element.outerWidth()-t.left,left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>n(window).width()&&this.container.css({left:"auto",right:0}))},show:function(t){this.container.show();this.move();t&&(t.stopPropagation(),t.preventDefault());n(document).on("mousedown",n.proxy(this.hide,this));this.element.trigger("shown",{target:t.target,picker:this})},hide:function(){this.container.hide();this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify();this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();n(document).off("mousedown",this.hide);this.element.trigger("hidden",{picker:this})},enterRange:function(n){var i=n.target.innerHTML,t;i==this.locale.customRangeLabel?this.updateView():(t=this.ranges[i],this.container.find("input[name=daterangepicker_start]").val(t[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(t[1].format(this.format)))},showCalendars:function(){this.container.find(".calendar").show();this.move()},updateInputText:function(){this.element.is("input")&&this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format))},clickRange:function(n){var i=n.target.innerHTML,t;i==this.locale.customRangeLabel?this.showCalendars():(t=this.ranges[i],this.startDate=t[0],this.endDate=t[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.startOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.container.find(".calendar").hide(),this.hide())},clickPrev:function(t){var i=n(t.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1);this.updateCalendars()},clickNext:function(t){var i=n(t.target).parents(".calendar");i.hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1);this.updateCalendars()},enterDate:function(t){var i=n(t.target).attr("data-title"),r=i.substr(1,1),u=i.substr(3,1),f=n(t.target).parents(".calendar");f.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[r][u].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[r][u].format(this.format))},clickDate:function(t){var e=n(t.target).attr("data-title"),o=e.substr(1,1),s=e.substr(3,1),h=n(t.target).parents(".calendar"),u,i,r,f;h.hasClass("left")?(i=this.leftCalendar.calendar[o][s],r=this.endDate,"object"==typeof this.dateLimit&&(u=moment(i).add(this.dateLimit).startOf("day"),r.isAfter(u)&&(r=u))):(i=this.startDate,r=this.rightCalendar.calendar[o][s],"object"==typeof this.dateLimit&&(f=moment(r).subtract(this.dateLimit).startOf("day"),i.isBefore(f)&&(i=f)));h.find("td").removeClass("active");i.isSame(r)||i.isBefore(r)?(n(t.target).addClass("active"),this.startDate=i,this.endDate=r):i.isAfter(r)&&(n(t.target).addClass("active"),this.startDate=i,this.endDate=moment(i).add("day",1).startOf("day"));this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year());this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year());this.updateCalendars()},clickApply:function(){this.updateInputText();this.hide()},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.updateView();this.updateCalendars();this.hide()},updateMonthYear:function(t){var f=n(t.target).closest(".calendar").hasClass("left"),i=this.container.find(".calendar.left"),r,u;f||(i=this.container.find(".calendar.right"));r=parseInt(i.find(".monthselect").val());u=i.find(".yearselect").val();f?this.leftCalendar.month.month(r).year(u):this.rightCalendar.month.month(r).year(u);this.updateCalendars()},updateTime:function(t){var s=n(t.target).closest(".calendar").hasClass("left"),u=this.container.find(".calendar.left"),i,r,o,f,e;s||(u=this.container.find(".calendar.right"));i=parseInt(u.find(".hourselect").val());r=parseInt(u.find(".minuteselect").val());this.timePicker12Hour&&(o=u.find(".ampmselect").val(),"PM"==o&&12>i&&(i+=12),"AM"==o&&12==i&&(i=0));s?(f=this.startDate,f.hour(i),f.minute(r),this.startDate=f,this.leftCalendar.month.hour(i).minute(r)):(e=this.endDate,e.hour(i),e.minute(r),this.endDate=e,this.rightCalendar.month.hour(i).minute(r));this.updateCalendars()},updateCalendars:function(){var t,i,n;this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left");this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right");this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate));this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate));this.container.find(".ranges li").removeClass("active");t=!0;i=0;for(n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.container.find(".ranges li:eq("+i+")").addClass("active")):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.container.find(".ranges li:eq("+i+")").addClass("active")),i++;t&&this.container.find(".ranges li:last").addClass("active")},buildCalendar:function(n,t,i,r){for(var f,o=moment([t,n,1]),l=moment(o).subtract("month",1).month(),a=moment(o).subtract("month",1).year(),s=moment([a,l]).daysInMonth(),v=o.day(),h=[],u=0;6>u;u++)h[u]=[];f=s-v+this.locale.firstDay+1;f>s&&(f-=7);v==this.locale.firstDay&&(f=s-6);for(var c=moment([a,l,f,i,r]),u=0,e=0,y=0;42>u;u++,e++,c=moment(c).add("day",1))u>0&&0==e%7&&(e=0,y++),h[y][e]=c;return h},renderDropdowns:function(n,t,i){for(var s=n.month(),f='<select class="monthselect">',r=0;12>r;r++)(!0||r>=t.month())&&(!0||r<=i.month())&&(f+="<option value='"+r+"'"+(r===s?" selected='selected'":"")+">"+this.locale.monthNames[r]+"<\/option>");f+="<\/select>";for(var e=n.year(),h=i&&i.year()||e+5,c=t&&t.year()||e-50,o='<select class="yearselect">',u=c;h>=u;u++)o+='<option value="'+u+'"'+(u===e?' selected="selected"':"")+">"+u+"<\/option>";return o+="<\/select>",f+o},renderCalendar:function(t,i,r,u){var f='<div class="calendar-date">',a,e,s,h,v,o,c;for(f+='<table class="table-condensed">',f+="<thead>",f+="<tr>",this.showWeekNumbers&&(f+="<th><\/th>"),f+=!r||r.isBefore(t[1][1])?'<th class="prev available"><i class="fa fa-arrow-left glyphicon glyphfa fa-arrow-left"><\/i><\/th>':"<th><\/th>",a=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY"),this.showDropdowns&&(a=this.renderDropdowns(t[1][1],r,u)),f+='<th colspan="5" style="width: auto">'+a+"<\/th>",f+=!u||u.isAfter(t[1][1])?'<th class="next available"><i class="fa fa-arrow-right glyphicon glyphfa fa-arrow-right"><\/i><\/th>':"<th><\/th>",f+="<\/tr>",f+="<tr>",this.showWeekNumbers&&(f+='<th class="week">'+this.locale.weekLabel+"<\/th>"),n.each(this.locale.daysOfWeek,function(n,t){f+="<th>"+t+"<\/th>"}),f+="<\/tr>",f+="<\/thead>",f+="<tbody>",e=0;6>e;e++){for(f+="<tr>",this.showWeekNumbers&&(f+='<td class="week">'+t[e][0].week()+"<\/td>"),s=0;7>s;s++)h="available ",h+=t[e][s].month()==t[1][1].month()?"":"off",r&&t[e][s].isBefore(r)||u&&t[e][s].isAfter(u)?h=" off disabled ":t[e][s].format("YYYY-MM-DD")==i.format("YYYY-MM-DD")?(h+=" active ",t[e][s].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(h+=" start-date "),t[e][s].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(h+=" end-date ")):t[e][s]>=this.startDate&&t[e][s]<=this.endDate&&(h+=" in-range ",t[e][s].isSame(this.startDate)&&(h+=" start-date "),t[e][s].isSame(this.endDate)&&(h+=" end-date ")),v="r"+e+"c"+s,f+='<td class="'+h.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+v+'">'+t[e][s].date()+"<\/td>";f+="<\/tr>"}if(f+="<\/tbody>",f+="<\/table>",f+="<\/div>",this.timePicker){f+='<div class="calendar-time">';f+='<select class="hourselect">';var y=0,p=23,l=i.hour();for(this.timePicker12Hour&&(y=1,p=12,l>=12&&(l-=12),0==l&&(l=12)),o=y;p>=o;o++)f+=o==l?'<option value="'+o+'" selected="selected">'+o+"<\/option>":'<option value="'+o+'">'+o+"<\/option>";for(f+="<\/select> : ",f+='<select class="minuteselect">',o=0;60>o;o+=this.timePickerIncrement)c=o,10>c&&(c="0"+c),f+=o==i.minute()?'<option value="'+o+'" selected="selected">'+c+"<\/option>":'<option value="'+o+'">'+c+"<\/option>";f+="<\/select> ";this.timePicker12Hour&&(f+='<select class="ampmselect">',f+=i.hour()>=12?'<option value="AM">AM<\/option><option value="PM" selected="selected">PM<\/option>':'<option value="AM" selected="selected">AM<\/option><option value="PM">PM<\/option>',f+="<\/select>");f+="<\/div>"}return f}};n.fn.daterangepicker=function(i,r){return this.each(function(){var u=n(this);u.data("daterangepicker")||u.data("daterangepicker",new t(u,i,r))}),this}}(window.jQuery),function(n){function w(n,t){return function(i){return r(n.call(this,i),t)}}function at(n){return function(t){return this.lang().ordinal(n.call(this,t))}}function b(){}function h(n){c(this,n)}function l(n){var t=this._data={},s=n.years||n.year||n.y||0,r=n.months||n.month||n.M||0,c=n.weeks||n.week||n.w||0,i=n.days||n.day||n.d||0,u=n.hours||n.hour||n.h||0,e=n.minutes||n.minute||n.m||0,o=n.seconds||n.second||n.s||0,h=n.milliseconds||n.millisecond||n.ms||0;this._milliseconds=h+o*1e3+e*6e4+u*36e5;this._days=i+c*7;this._months=r+s*12;t.milliseconds=h%1e3;o+=f(h/1e3);t.seconds=o%60;e+=f(o/60);t.minutes=e%60;u+=f(e/60);t.hours=u%24;i+=f(u/24);i+=c*7;t.days=i%30;r+=f(i/30);t.months=r%12;s+=f(r/12);t.years=s}function c(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function f(n){return n<0?Math.ceil(n):Math.floor(n)}function r(n,t){for(var i=n+"";i.length<t;)i="0"+i;return i}function k(n,t,i){var r=t._milliseconds,u=t._days,f=t._months,e;r&&n._d.setTime(+n+r*i);u&&n.date(n.date()+u*i);f&&(e=n.date(),n.date(1).month(n.month()+f*i).date(Math.min(e,n.daysInMonth())))}function d(n){return Object.prototype.toString.call(n)==="[object Array]"}function g(n,t){for(var u=Math.min(n.length,t.length),f=Math.abs(n.length-t.length),r=0,i=0;i<u;i++)~~n[i]!=~~t[i]&&r++;return r+f}function vt(n,t){return t.abbr=n,o[n]||(o[n]=new b),o[n].set(t),o[n]}function s(n){return n?(!o[n]&&ft&&require("./lang/"+n),o[n]):t.fn._lang}function yt(n){return n.match(/\[.*\]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"")}function pt(n){for(var i=n.match(et),t=0,r=i.length;t<r;t++)i[t]=u[i[t]]?u[i[t]]:yt(i[t]);return function(u){var f="";for(t=0;t<r;t++)f+=typeof i[t].call=="function"?i[t].call(u,n):i[t];return f}}function wt(n,t){function i(t){return n.lang().longDateFormat(t)||t}for(var r=5;r--&&ot.test(t);)t=t.replace(ot,i);return p[t]||(p[t]=pt(t)),p[t](n)}function bt(n){switch(n){case"DDDD":return oi;case"YYYY":return si;case"YYYYY":return hi;case"S":case"SS":case"SSS":case"DDD":return ei;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return ci;case"X":return ai;case"Z":case"ZZ":return st;case"T":return li;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return fi;default:return new RegExp(n.replace("\\",""))}}function kt(n,t,i){var r,u=i._a;switch(n){case"M":case"MM":u[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":r=s(i._l).monthsParse(t);r!=null?u[1]=r:i._isValid=!1;break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(u[2]=~~t);break;case"YY":u[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":u[0]=~~t;break;case"a":case"A":i._isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":u[3]=~~t;break;case"m":case"mm":u[4]=~~t;break;case"s":case"ss":u[5]=~~t;break;case"S":case"SS":case"SSS":u[6]=~~(("0."+t)*1e3);break;case"X":i._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":i._useUTC=!0;r=(t+"").match(yi);r&&r[1]&&(i._tzh=~~r[1]);r&&r[2]&&(i._tzm=~~r[2]);r&&r[0]==="+"&&(i._tzh=-i._tzh,i._tzm=-i._tzm)}t==null&&(i._isValid=!1)}function nt(n){var i,r,t=[];if(!n._d){for(i=0;i<7;i++)n._a[i]=t[i]=n._a[i]==null?i===2?1:0:n._a[i];t[3]+=n._tzh||0;t[4]+=n._tzm||0;r=new Date(0);n._useUTC?(r.setUTCFullYear(t[0],t[1],t[2]),r.setUTCHours(t[3],t[4],t[5],t[6])):(r.setFullYear(t[0],t[1],t[2]),r.setHours(t[3],t[4],t[5],t[6]));n._d=r}}function a(n){var r=n._f.match(et),f=n._i,t,i;for(n._a=[],t=0;t<r.length;t++)i=(bt(r[t]).exec(f)||[])[0],i&&(f=f.slice(f.indexOf(i)+i.length)),u[r[t]]&&kt(r[t],i,n);n._isPm&&n._a[3]<12&&(n._a[3]+=12);n._isPm===!1&&n._a[3]===12&&(n._a[3]=0);nt(n)}function dt(n){for(var t,i,r,f=99,u;n._f.length;){if(t=c({},n),t._f=n._f.pop(),a(t),i=new h(t),i.isValid()){r=i;break}u=g(t._a,i.toArray());u<f&&(f=u,r=i)}c(n,r)}function gt(n){var t,i=n._i;if(vi.exec(i)){for(n._f="YYYY-MM-DDT",t=0;t<4;t++)if(ht[t][1].exec(i)){n._f+=ht[t][0];break}st.exec(i)&&(n._f+=" Z");a(n)}else n._d=new Date(i)}function ni(t){var i=t._i,r=ui.exec(i);i===n?t._d=new Date:r?t._d=new Date(+r[1]):typeof i=="string"?gt(t):d(i)?(t._a=i.slice(0),nt(t)):t._d=i instanceof Date?new Date(+i):new Date(i)}function ti(n,t,i,r,u){return u.relativeTime(t||1,!!i,n,r)}function ii(n,t,i){var s=e(Math.abs(n)/1e3),u=e(s/60),f=e(u/60),r=e(f/24),h=e(r/365),o=s<45&&["s",s]||u===1&&["m"]||u<45&&["mm",u]||f===1&&["h"]||f<22&&["hh",f]||r===1&&["d"]||r<=25&&["dd",r]||r<=45&&["M"]||r<345&&["MM",e(r/30)]||h===1&&["y"]||["yy",h];return o[2]=t,o[3]=n>0,o[4]=i,ti.apply({},o)}function tt(n,i,r){var f=r-i,u=r-n.day();return u>f&&(u-=7),u<f-7&&(u+=7),Math.ceil(t(n).add("d",u).dayOfYear()/7)}function it(n){var i=n._i,r=n._f;return i===null||i===""?null:(typeof i=="string"&&(n._i=i=s().preparse(i)),t.isMoment(i)?(n=c({},i),n._d=new Date(+i._d)):r?d(r)?dt(n):a(n):ni(n),new h(n))}function rt(n,i){t.fn[n]=t.fn[n+"s"]=function(n){var t=this._isUTC?"UTC":"";return n!=null?(this._d["set"+t+i](n),this):this._d["get"+t+i]()}}function ri(n){t.duration.fn[n]=function(){return this._data[n]}}function ut(n,i){t.duration.fn["as"+n]=function(){return+this/i}}for(var t,e=Math.round,i,o={},ft=typeof module!="undefined"&&module.exports,ui=/^\/?Date\((\-?\d+)/i,et=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,ot=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,fi=/\d\d?/,ei=/\d{1,3}/,oi=/\d{3}/,si=/\d{1,4}/,hi=/[+\-]?\d{1,6}/,ci=/[0-9]*[a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF]+\s*?[\u0600-\u06FF]+/i,st=/Z|[\+\-]\d\d:?\d\d/i,li=/T/i,ai=/[\+\-]?\d+(\.\d{1,3})?/,vi=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ht=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],yi=/([\+\-]|\d\d)/gi,v="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),y={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},p={},ct="DDD w W M D d".split(" "),lt="M D H h m s w W".split(" "),u={M:function(){return this.month()+1},MMM:function(n){return this.lang().monthsShort(this,n)},MMMM:function(n){return this.lang().months(this,n)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(n){return this.lang().weekdaysMin(this,n)},ddd:function(n){return this.lang().weekdaysShort(this,n)},dddd:function(n){return this.lang().weekdays(this,n)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return r(~~(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},Z:function(){var n=-this.zone(),t="+";return n<0&&(n=-n,t="-"),t+r(~~(n/60),2)+":"+r(~~n%60,2)},ZZ:function(){var n=-this.zone(),t="+";return n<0&&(n=-n,t="-"),t+r(~~(10*n/6),4)},X:function(){return this.unix()}};ct.length;)i=ct.pop(),u[i+"o"]=at(u[i]);while(lt.length)i=lt.pop(),u[i+i]=w(u[i],2);for(u.DDDD=w(u.DDD,3),b.prototype={set:function(n){var t,i;for(i in n)t=n[i],typeof t=="function"?this[i]=t:this["_"+i]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(n){return this._months[n.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(n){return this._monthsShort[n.month()]},monthsParse:function(n){var i,r,u;for(this._monthsParse||(this._monthsParse=[]),i=0;i<12;i++)if(this._monthsParse[i]||(r=t([2e3,i]),u="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(u.replace(".",""),"i")),this._monthsParse[i].test(n))return i},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(n){return this._weekdays[n.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(n){return this._weekdaysShort[n.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(n){return this._weekdaysMin[n.day()]},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(n){var t=this._longDateFormat[n];return!t&&this._longDateFormat[n.toUpperCase()]&&(t=this._longDateFormat[n.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(n){return n.slice(1)}),this._longDateFormat[n]=t),t},meridiem:function(n,t,i){return n>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},calendar:function(n,t){var i=this._calendar[n];return typeof i=="function"?i.apply(t):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(n,t,i,r){var u=this._relativeTime[i];return typeof u=="function"?u(n,t,i,r):u.replace(/%d/i,n)},pastFuture:function(n,t){var i=this._relativeTime[n>0?"future":"past"];return typeof i=="function"?i(t):i.replace(/%s/i,t)},ordinal:function(n){return this._ordinal.replace("%d",n)},_ordinal:"%d",preparse:function(n){return n},postformat:function(n){return n},week:function(n){return tt(n,this._week.dow,this._week.doy)},_week:{dow:0,doy:6}},t=function(n,t,i){return it({_i:n,_f:t,_l:i,_isUTC:!1})},t.utc=function(n,t,i){return it({_useUTC:!0,_isUTC:!0,_l:i,_i:n,_f:t})},t.unix=function(n){return t(n*1e3)},t.duration=function(n,i){var f=t.isDuration(n),e=typeof n=="number",r=f?n._data:e?{}:n,u;return e&&(i?r[i]=n:r.milliseconds=n),u=new l(r),f&&n.hasOwnProperty("_lang")&&(u._lang=n._lang),u},t.version="2.0.0",t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.lang=function(n,i){if(!n)return t.fn._lang._abbr;i?vt(n,i):o[n]||s(n);t.duration.fn._lang=t.fn._lang=s(n)},t.langData=function(n){return n&&n._lang&&n._lang._abbr&&(n=n._lang._abbr),s(n)},t.isMoment=function(n){return n instanceof h},t.isDuration=function(n){return n instanceof l},t.fn=h.prototype={clone:function(){return t(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._d},toJSON:function(){return t.utc(this).format("YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var n=this;return[n.year(),n.month(),n.date(),n.hours(),n.minutes(),n.seconds(),n.milliseconds()]},isValid:function(){return this._isValid==null&&(this._isValid=this._a?!g(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(n){var i=wt(this,n||t.defaultFormat);return this.lang().postformat(i)},add:function(n,i){var r;return r=typeof n=="string"?t.duration(+i,n):t.duration(n,i),k(this,r,1),this},subtract:function(n,i){var r;return r=typeof n=="string"?t.duration(+i,n):t.duration(n,i),k(this,r,-1),this},diff:function(n,i,r){var e=this._isUTC?t(n).utc():t(n).local(),s=(this.zone()-e.zone())*6e4,u,o;return i&&(i=i.replace(/s$/,"")),i==="year"||i==="month"?(u=(this.daysInMonth()+e.daysInMonth())*432e5,o=(this.year()-e.year())*12+(this.month()-e.month()),o+=(this-t(this).startOf("month")-(e-t(e).startOf("month")))/u,i==="year"&&(o/=12)):(u=this-e-s,o=i==="second"?u/1e3:i==="minute"?u/6e4:i==="hour"?u/36e5:i==="day"?u/864e5:i==="week"?u/6048e5:u),r?o:f(o)},from:function(n,i){return t.duration(this.diff(n)).lang(this.lang()._abbr).humanize(!i)},fromNow:function(n){return this.from(t(),n)},calendar:function(){var n=this.diff(t().startOf("day"),"days",!0),i=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){var n=this.year();return n%4==0&&n%100!=0||n%400==0},isDST:function(){return this.zone()<t([this.year()]).zone()||this.zone()<t([this.year(),5]).zone()},day:function(n){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return n==null?t:this.add({d:n-t})},startOf:function(n){n=n.replace(/s$/,"");switch(n){case"year":this.month(0);case"month":this.date(1);case"week":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return n==="week"&&this.day(0),this},endOf:function(n){return this.startOf(n).add(n.replace(/s?$/,"s"),1).subtract("ms",1)},isAfter:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)>+t(n).startOf(i)},isBefore:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)<+t(n).startOf(i)},isSame:function(n,i){return i=typeof i!="undefined"?i:"millisecond",+this.clone().startOf(i)==+t(n).startOf(i)},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return t.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(n){var i=e((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return n==null?i:this.add("d",n-i)},isoWeek:function(n){var t=tt(this,1,4);return n==null?t:this.add("d",(n-t)*7)},week:function(n){var t=this.lang().week(this);return n==null?t:this.add("d",(n-t)*7)},lang:function(t){return t===n?this._lang:(this._lang=s(t),this)}},i=0;i<v.length;i++)rt(v[i].toLowerCase().replace(/s$/,""),v[i]);rt("year","FullYear");t.fn.days=t.fn.day;t.fn.weeks=t.fn.week;t.fn.isoWeeks=t.fn.isoWeek;t.duration.fn=l.prototype={weeks:function(){return f(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(n){var i=+this,t=ii(i,!n,this.lang());return n&&(t=this.lang().pastFuture(i,t)),this.lang().postformat(t)},lang:t.fn.lang};for(i in y)y.hasOwnProperty(i)&&(ut(i,y[i]),ri(i.toLowerCase()));ut("Weeks",6048e5);t.lang("en",{ordinal:function(n){var t=n%10,i=~~(n%100/10)==1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return n+i}});ft&&(module.exports=t);typeof ender=="undefined"&&(this.moment=t);typeof define=="function"&&define.amd&&define("moment",[],function(){return t})}.call(this),function(n){function h(t){var i=0|(n(window).height()-t.height())/2,r=0|(n(window).width()-t.width())/2;t.css({top:i,left:r})}var f=!1,c=!1,e,i,u,l,o=300,t={overlay:!0,expandOnFocus:!1,transition:"fade",placeholder:"",maxWidth:"",maxHeight:"",onExpand:function(){},onMinimize:function(){}},r={init:function(o){var s,h,c,a;if(t=t||{},n.extend(!0,t,t),n.extend(!0,t,o),e=n(this),!e.is("textarea")){n.error("Error initializing FSEditor Plugin. It can only work on <textarea> element.");return}s=n.trim(e.val())!==""?e.val():"";e.hide();h='<div class="fs-editor-wrapper">                     <div class="fs-editor"><a href="#" class="fs-icon"><\/a>                     <div class="fs-editable" contenteditable="true"><\/div>                     <\/div><\/div>';c=n(h).insertAfter(this);i=c.find(".fs-editor");u=i.find(".fs-editable");l=i.find(".fs-icon");u.css("min-height",e.css("height")).parent(".fs-editor-wrapper").css("min-height",e.css("height"));n(window).on("keyup.fseditor",function(n){n.keyCode==27&&(f?r.minimize():"")});if(t.expandOnFocus)u.on("focus.fseditor",function(){r.expand()});l.on("click.fseditor.icon",function(n){n.preventDefault();r[f?"minimize":"expand"]()});t.placeholder&&e.val()==""?r.placeholder():e.val()!=""&&u.html(s);a=i.closest("form");a.on("submit",function(){var n=u.html().replace(/<div>/gi,"<br>").replace(/<\/div>/gi,"");e.html(n==t.placeholder?"":n)});return this},showOverlay:function(){return n('<div class="fs-editor-overlay" />').appendTo("body").fadeTo(t.transition==""?0:o,1).click(function(){r.minimize()}),this},removeOverlay:function(){var i=n(".fs-editor-overlay");return i.length&&i.fadeTo(t.transition==""?0:o,0,function(){n(this).remove()}),this},expand:function(){t.transition=="fade"&&i.fadeTo(0,0);t.maxWidth?i.css("max-width",t.maxWidth):"";t.maxHeight?i.css("max-height",t.maxHeight):"";t.overlay&&r.showOverlay();n(window).on("resize.fseditor",function(){h(i)});return i.addClass("expanded transition-"+t.transition),s.fx(t.transition),this},minimize:function(){return n(window).off("resize.fseditor",h(i)),i.removeClass("expanded transition-"+t.transition).css({"max-width":"none","max-height":"none"}),t.transition=="fade"&&i.fadeTo(0,0),t.overlay&&r.removeOverlay(),s.fx(t.transition),this},placeholder:function(){if(typeof t.placeholder=="string"){u.addClass("placeholder").html(t.placeholder).on({focus:function(){c||u.html()!=t.placeholder||u.html("").removeClass("placeholder")},blur:function(){c||u.html()!=""||u.html(t.placeholder).addClass("placeholder")}});return this}},destroy:function(){return r.removeOverlay(),e.show().nextAll(".fs-editor-wrapper").remove(),n(window).off("keyup.fseditor").off("resize.fseditor"),this}},s={fx:function(n){h(i);switch(n){case"fade":f?r.fadeComplete("minimize"):i.fadeTo(o,1,r.fadeComplete("expand"));break;case"slide-in":f?r.slideInComplete("minimize"):r.slideInComplete("expand");break;default:f?r.noTransition("minimize"):r.noTransition("expand")}},noTransition:function(n){n=="expand"?(t.placeholder||u.focus(),i.css("opacity",1),f=!0,t.onExpand.call(this)):n=="minimize"&&(t.placeholder||u.focus(),f=!1,t.onMinimize.call(this));return},fadeComplete:function(n){n=="expand"?(t.placeholder||u.focus(),f=!0,t.onExpand.call(this)):n=="minimize"&&(i.fadeTo(0,1),t.placeholder||u.focus(),f=!1,t.onMinimize.call(this));return},slideInComplete:function(r){r=="expand"?(i.css({top:-999,opacity:1}).animate({top:0|(n(window).height()-i.height())/2},o),f=!0,t.onExpand.call(this)):r=="minimize"&&(i.animate({top:-999},o),f=!1,t.onMinimize.call(this));return}};n.fn.fseditor=function(t){if(n.extend(r,s),r[t])return r[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.fseditor");else return r.init.apply(this,arguments)}}(jQuery);!function(n){var r=function(n){this.messages={defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",urlstrict:"This value should be a valid url.",number:"This value should be a valid number.",digits:"This value should be digits.",dateIso:"This value should be a valid date (YYYY-MM-DD).",alphanum:"This value should be alphanumeric.",phone:"This value should be a valid phone number."},notnull:"This value should not be null.",notblank:"This value should not be blank.",required:"This value is required.",regexp:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or less.",rangelength:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or less.",rangecheck:"You must select between %s and %s choices.",equalto:"This value should be the same."};this.init(n)},t,u,i;r.prototype={constructor:r,validators:{notnull:function(n){return 0<n.length},notblank:function(n){return"string"==typeof n&&""!==n.replace(/^\s+/g,"").replace(/\s+$/g,"")},required:function(n){if("object"==typeof n){for(var t in n)if(this.required(n[t]))return!0;return!1}return this.notnull(n)&&this.notblank(n)},type:function(n,t){var i;switch(t){case"number":i=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/;break;case"digits":i=/^\d+$/;break;case"alphanum":i=/^\w+$/;break;case"email":i=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))){2,6}$/i;break;case"url":n=/(https?|s?ftp|git)/i.test(n)?n:"http://"+n;case"urlstrict":i=/^(https?|s?ftp|git):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i;break;case"dateIso":i=/^(\d{4})\D?(0[1-9]|1[0-2])\D?([12]\d|0[1-9]|3[01])$/;break;case"date2string":i=/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{4})$|01.01.0001$/;break;case"phone":i=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;break;default:return!1}return""!==n?i.test(n):!1},regexp:function(n,t,i){return RegExp(t,i.options.regexpFlag||"").test(n)},minlength:function(n,t){return n.length>=t},maxlength:function(n,t){return n.length<=t},rangelength:function(n,t){return this.minlength(n,t[0])&&this.maxlength(n,t[1])},min:function(n,t){return Number(n)>=t},max:function(n,t){return Number(n)<=t},range:function(n,t){return n>=t[0]&&n<=t[1]},equalto:function(t,i,r){return r.options.validateIfUnchanged=!0,t===n(i).val()},remote:function(t,i,r){var u={},f={};u[r.$element.attr("name")]=t;"undefined"!=typeof r.options.remoteDatatype&&(f={dataType:r.options.remoteDatatype});var e=function(t,i){"undefined"!=typeof i&&"undefined"!=typeof r.Validator.messages.remote&&i!==r.Validator.messages.remote&&n(r.ulError+" .remote").remove();r.updtConstraint({name:"remote",valid:t},i);r.manageValidationResult()},o=function(t){if("object"==typeof t)return t;try{t=n.parseJSON(t)}catch(i){}return t},s=function(n){return"object"==typeof n&&null!==n?"undefined"!=typeof n.error?n.error:"undefined"!=typeof n.message?n.message:null:null};return n.ajax(n.extend({},{url:i,data:u,type:r.options.remoteMethod||"GET",success:function(n){n=o(n);e(1===n||!0===n||"object"==typeof n&&null!==n&&"undefined"!=typeof n.success,s(n))},error:function(n){n=o(n);e(!1,s(n))}},f)),null},mincheck:function(n,t){return this.minlength(n,t)},maxcheck:function(n,t){return this.maxlength(n,t)},rangecheck:function(n,t){return this.rangelength(n,t)}},init:function(n){var i=n.validators,t;n=n.messages;for(t in i)this.addValidator(t,i[t]);for(t in n)this.addMessage(t,n[t])},formatMesssage:function(n,t){if("object"==typeof t){for(var i in t)n=this.formatMesssage(n,t[i]);return n}return"string"==typeof n?n.replace(/%s/i,t):""},addValidator:function(n,t){this.validators[n]=t},addMessage:function(n,t,i){if("undefined"!=typeof i&&!0===i)this.messages.type[n]=t;else if("type"===n)for(var r in t)this.messages.type[r]=t[r];else this.messages[n]=t}};t=function(n,t,i){return this.options=t,this.Validator=new r(t),"ParsleyFieldMultiple"===i?this:void this.init(n,i||"ParsleyField")};t.prototype={constructor:t,init:function(t,i){this.type=i;this.valid=!0;this.element=t;this.validatedOnce=!1;this.$element=n(t);this.val=this.$element.val();this.isRequired=!1;this.constraints={};"undefined"==typeof this.isRadioOrCheckbox&&(this.isRadioOrCheckbox=!1,this.hash=this.generateHash(),this.errorClassHandler=this.options.errors.classHandler(t,this.isRadioOrCheckbox)||this.$element);this.ulErrorManagement();this.bindHtml5Constraints();this.addConstraints();this.hasConstraints()&&this.bindValidationEvents()},setParent:function(t){this.$parent=n(t)},getParent:function(){return this.$parent},bindHtml5Constraints:function(){(this.$element.hasClass("required")||this.$element.prop("required"))&&(this.options.required=!0);"undefined"!=typeof this.$element.attr("type")&&RegExp(this.$element.attr("type"),"i").test("email url number range")&&(this.options.type=this.$element.attr("type"),RegExp(this.options.type,"i").test("number range")&&(this.options.type="number","undefined"!=typeof this.$element.attr("min")&&this.$element.attr("min").length&&(this.options.min=this.$element.attr("min")),"undefined"!=typeof this.$element.attr("max")&&this.$element.attr("max").length&&(this.options.max=this.$element.attr("max"))));"string"==typeof this.$element.attr("pattern")&&this.$element.attr("pattern").length&&(this.options.regexp=this.$element.attr("pattern"))},addConstraints:function(){var n,t;for(n in this.options)t={},t[n]=this.options[n],this.addConstraint(t,!0)},addConstraint:function(n,t){for(var i in n)i=i.toLowerCase(),"function"==typeof this.Validator.validators[i]&&(this.constraints[i]={name:i,requirements:n[i],valid:null},"required"===i&&(this.isRequired=!0),this.addCustomConstraintMessage(i));"undefined"==typeof t&&this.bindValidationEvents()},updateConstraint:function(n,t){for(var i in n)this.updtConstraint({name:i,requirements:n[i],valid:null},t)},updtConstraint:function(t,i){this.constraints[t.name]=n.extend(!0,this.constraints[t.name],t);"string"==typeof i&&(this.Validator.messages[t.name]=i);this.bindValidationEvents()},removeConstraint:function(n){n=n.toLowerCase();delete this.constraints[n];"required"===n&&(this.isRequired=!1);this.hasConstraints()?this.bindValidationEvents():"ParsleyForm"==typeof this.getParent()?this.getParent().removeItem(this.$element):this.destroy()},addCustomConstraintMessage:function(n){var t=n+("type"===n&&"undefined"!=typeof this.options[n]?this.options[n].charAt(0).toUpperCase()+this.options[n].substr(1):"")+"Message";"undefined"!=typeof this.options[t]&&this.Validator.addMessage("type"===n?this.options[n]:n,this.options[t],"type"===n)},bindValidationEvents:function(){this.valid=null;this.$element.addClass("parsley-validated");this.$element.off("."+this.type);this.options.remote&&!/change/i.test(this.options.trigger)&&(this.options.trigger=this.options.trigger?" change":"change");var t=(this.options.trigger?this.options.trigger:"")+(/key/i.test(this.options.trigger)?"":" keyup");this.$element.is("select")&&(t+=/change/i.test(t)?"":" change");t=t.replace(/^\s+/g,"").replace(/\s+$/g,"");this.$element.on((t+" ").split(" ").join("."+this.type+" "),!1,n.proxy(this.eventValidation,this))},generateHash:function(){return"parsley-"+(Math.random()+"").substring(2)},getHash:function(){return this.hash},getVal:function(){return this.$element.data("value")||this.$element.val()},eventValidation:function(n){var t=this.getVal();return"keyup"===n.type&&!/keyup/i.test(this.options.trigger)&&!this.validatedOnce||"change"===n.type&&!/change/i.test(this.options.trigger)&&!this.validatedOnce||!this.isRadioOrCheckbox&&this.getLength(t)<this.options.validationMinlength&&!this.validatedOnce?!0:void this.validate()},getLength:function(n){return n&&n.hasOwnProperty("length")?n.length:0},isValid:function(){return this.validate(!1)},hasConstraints:function(){for(var n in this.constraints)return!0;return!1},validate:function(n){var t=this.getVal(),i=null;return this.hasConstraints()?this.options.listeners.onFieldValidate(this.element,this)||""===t&&!this.isRequired?(this.reset(),null):this.needsValidation(t)?(i=this.applyValidators(),("undefined"!=typeof n?n:this.options.showErrors)&&this.manageValidationResult(),i):this.valid:null},needsValidation:function(n){return!this.options.validateIfUnchanged&&null!==this.valid&&this.val===n&&this.validatedOnce?!1:(this.val=n,this.validatedOnce=!0)},applyValidators:function(){var n,t=null,i;for(n in this.constraints)i=this.Validator.validators[this.constraints[n].name](this.val,this.constraints[n].requirements,this),!1===i?(t=!1,this.constraints[n].valid=t,this.options.listeners.onFieldError(this.element,this.constraints,this)):!0===i&&(this.constraints[n].valid=!0,t=!1!==t,this.options.listeners.onFieldSuccess(this.element,this.constraints,this));return t},manageValidationResult:function(){var t,i=null;for(t in this.constraints)!1===this.constraints[t].valid?(this.manageError(this.constraints[t]),i=!1):!0===this.constraints[t].valid&&(this.removeError(this.constraints[t].name),i=!1!==i);return this.valid=i,!0===this.valid?(this.removeErrors(),this.errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass),!0):!1===this.valid?(this.errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass),!1):(this.ulError&&0===n(this.ulError).children().length&&this.removeErrors(),i)},ulErrorManagement:function(){this.ulError="#"+this.hash;this.ulTemplate=n(this.options.errors.errorsWrapper).attr("id",this.hash).addClass("parsley-error-list")},removeError:function(t){t=this.ulError+" ."+t;var i=this;this.options.animate?n(t).fadeOut(this.options.animateDuration,function(){n(this).remove();i.ulError&&0===n(i.ulError).children().length&&i.removeErrors()}):n(t).remove()},addError:function(t){var i,r;for(i in t)r=n(this.options.errors.errorElem).addClass(i),n(this.ulError).append(this.options.animate?n(r).html(t[i]).hide().fadeIn(this.options.animateDuration):n(r).html(t[i]))},removeErrors:function(){this.options.animate?n(this.ulError).fadeOut(this.options.animateDuration,function(){n(this).remove()}):n(this.ulError).remove()},reset:function(){this.valid=null;this.removeErrors();this.validatedOnce=!1;this.errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass);for(var n in this.constraints)this.constraints[n].valid=null;return this},manageError:function(t){if(n(this.ulError).length||this.manageErrorContainer(),!("required"===t.name&&null!==this.getVal()&&0<this.getVal().length||this.isRequired&&"required"!==t.name&&(null===this.getVal()||0===this.getVal().length))){var i=t.name,r=!1!==this.options.errorMessage?"custom-error-message":i,u={};t=!1!==this.options.errorMessage?this.options.errorMessage:"type"===t.name?this.Validator.messages[i][t.requirements]:"undefined"==typeof this.Validator.messages[i]?this.Validator.messages.defaultMessage:this.Validator.formatMesssage(this.Validator.messages[i],t.requirements);n(this.ulError+" ."+r).length||(u[r]=t,this.addError(u))}},manageErrorContainer:function(){var i=this.options.errorContainer||this.options.errors.container(this.element,this.isRadioOrCheckbox),t=this.options.animate?this.ulTemplate.show():this.ulTemplate;"undefined"!=typeof i?n(i).append(t):this.isRadioOrCheckbox?this.$element.parent().after(t):this.$element.after(t)},addListener:function(n){for(var t in n)this.options.listeners[t]=n[t]},destroy:function(){this.$element.removeClass("parsley-validated");this.reset().$element.off("."+this.type).removeData(this.type)}};u=function(n,t,i){this.initMultiple(n,t);this.inherit(n,t);this.Validator=new r(t);this.init(n,i||"ParsleyFieldMultiple")};u.prototype={constructor:u,initMultiple:function(t,i){this.element=t;this.$element=n(t);this.group=i.group||!1;this.hash=this.getName();this.siblings=this.group?'[data-group="'+this.group+'"]':'input[name="'+this.$element.attr("name")+'"]';this.isRadioOrCheckbox=!0;this.isRadio=this.$element.is("input[type=radio]");this.isCheckbox=this.$element.is("input[type=checkbox]");this.errorClassHandler=i.errors.classHandler(t,this.isRadioOrCheckbox)||this.$element.parent()},inherit:function(n,i){var r,u=new t(n,i,"ParsleyFieldMultiple");for(r in u)"undefined"==typeof this[r]&&(this[r]=u[r])},getName:function(){if(this.group)return"parsley-"+this.group;if("undefined"==typeof this.$element.attr("name"))throw"A radio / checkbox input must have a data-group attribute or a name to be Parsley validated !";return"parsley-"+this.$element.attr("name").replace(/(:|\.|\[|\])/g,"")},getVal:function(){if(this.isRadio)return n(this.siblings+":checked").val()||"";if(this.isCheckbox){var t=[];return n(this.siblings+":checked").each(function(){t.push(n(this).val())}),t}},bindValidationEvents:function(){this.valid=null;this.$element.addClass("parsley-validated");this.$element.off("."+this.type);var t=this,i=(this.options.trigger?this.options.trigger:"")+(/change/i.test(this.options.trigger)?"":" change"),i=i.replace(/^\s+/g,"").replace(/\s+$/g,"");n(this.siblings).each(function(){n(this).on(i.split(" ").join("."+t.type+" "),!1,n.proxy(t.eventValidation,t))})}};i=function(n,t,i){this.init(n,t,i||"parsleyForm")};i.prototype={constructor:i,init:function(t,i,r){this.type=r;this.items=[];this.$element=n(t);this.options=i;var u=this;this.$element.find(i.inputs).each(function(){u.addItem(this)});this.$element.on("submit."+this.type,!1,n.proxy(this.validate,this))},addListener:function(n){var t,i;for(t in n)if(/Field/.test(t))for(i=0;i<this.items.length;i++)this.items[i].addListener(n);else this.options.listeners[t]=n[t]},addItem:function(t){return n(t).is(this.options.excluded)?!1:(t=n(t).parsley(this.options),t.setParent(this),void this.items.push(t))},removeItem:function(t){t=n(t).parsley();for(var i=0;i<this.items.length;i++)if(this.items[i].hash===t.hash)return this.items[i].destroy(),this.items.splice(i,1),!0;return!1},validate:function(n){var i=!0,t;for(this.focusedField=!1,t=0;t<this.items.length;t++)"undefined"==typeof this.items[t]||!1!==this.items[t].validate()||(i=!1,(this.focusedField||"first"!==this.options.focus)&&"last"!==this.options.focus)||(this.focusedField=this.items[t].$element);return this.focusedField&&!i&&this.focusedField.focus(),this.options.listeners.onFormSubmit(i,n,this),i},isValid:function(){for(var n=0;n<this.items.length;n++)if(!1===this.items[n].isValid())return!1;return!0},removeErrors:function(){for(var n=0;n<this.items.length;n++)this.items[n].parsley("reset")},destroy:function(){for(var n=0;n<this.items.length;n++)this.items[n].destroy();this.$element.off("."+this.type).removeData(this.type)},reset:function(){for(var n=0;n<this.items.length;n++)this.items[n].reset()}};n.fn.parsley=function(r,f){function s(o,s){var h=n(o).data(s);if(!h){switch(s){case"parsleyForm":h=new i(o,e,"parsleyForm");break;case"parsleyField":h=new t(o,e,"parsleyField");break;case"parsleyFieldMultiple":h=new u(o,e,"parsleyFieldMultiple");break;default:return}n(o).data(s,h)}return"string"==typeof r&&"function"==typeof h[r]?(h=h[r](f),"undefined"!=typeof h?h:n(o)):h}var e=n.extend(!0,{},n.fn.parsley.defaults,"undefined"!=typeof window.ParsleyConfig?window.ParsleyConfig:{},r,this.data()),o=null;return n(this).is("form")||!0===n(this).data("bind")?o=s(n(this),"parsleyForm"):n(this).is(e.inputs)&&!n(this).is(e.excluded)&&(o=s(n(this),n(this).is("input[type=radio], input[type=checkbox]")?"parsleyFieldMultiple":"parsleyField")),"function"==typeof f?f():o};n.fn.parsley.Constructor=i;n.fn.parsley.defaults={inputs:"input, textarea, select",excluded:"input[type=hidden], input[type=file], :disabled",trigger:!1,animate:!0,animateDuration:300,focus:"first",validationMinlength:3,successClass:"parsley-success",errorClass:"parsley-error",errorMessage:!1,validators:{},showErrors:!0,messages:{},validateIfUnchanged:!1,errors:{classHandler:function(){},container:function(){},errorsWrapper:"<ul><\/ul>",errorElem:"<li><\/li>"},listeners:{onFieldValidate:function(){return!1},onFormSubmit:function(){},onFieldError:function(){},onFieldSuccess:function(){}}};n(window).on("load",function(){n('[data-validate="parsley"]').each(function(){n(this).parsley()})})}(window.jQuery||window.Zepto),function(n){void 0==n.fn.inputmask&&(n.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},escapeChar:"\\",mask:null,oncomplete:n.noop,onincomplete:n.noop,oncleared:n.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:n.noop,onKeyDown:n.noop,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:n.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-zА-яЁё]",cardinality:1},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(n,t,i,r){var u=n.length;return t||("*"==i?u=r.length+1:1<i&&(u+=n.length*(i-1))),u}},val:n.fn.val,escapeRegex:function(n){return n.replace(RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)","gim"),"\\$1")}},n.fn.inputmask=function(t,r){function c(t,i){var r=u.aliases[t];return r?(r.alias&&c(r.alias),n.extend(!0,u,r),n.extend(!0,u,i),!0):!1}function l(t){var i=!1,f=0,r=u.greedy,e=u.repeat;"*"==e&&(r=!1);1==t.length&&!1==r&&(u.placeholder="");for(var t=n.map(t.split(""),function(n){var t=[],r;if(n==u.escapeChar)i=!0;else if(n!=u.optionalmarker.start&&n!=u.optionalmarker.end||i){if(r=u.definitions[n],r&&!i)for(n=0;n<r.cardinality;n++)t.push(s(f+n));else t.push(n),i=!1;return f=f+t.length,t}}),o=t.slice(),h=1;h<e&&r;h++)o=o.concat(t.slice());return{mask:o,repeat:e,greedy:r}}function a(t){var i=!1,f=!1,r=!1;return n.map(t.split(""),function(n){var o=[],t;if(n==u.escapeChar)f=!0;else if(n!=u.optionalmarker.start||f){if(n!=u.optionalmarker.end||f){if(t=u.definitions[n],t&&!f){for(var c=t.prevalidator,l=c?c.length:0,s=1;s<t.cardinality;s++){var e=l>=s?c[s-1]:[],h=e.validator,e=e.cardinality;o.push({fn:h?"string"==typeof h?RegExp(h):new function(){this.test=h}:/./,cardinality:e?e:1,optionality:i,newBlockMarker:!0==i?r:!1,offset:0,casing:t.casing,def:t.definitionSymbol|n});!0==i&&(r=!1)}o.push({fn:t.validator?"string"==typeof t.validator?RegExp(t.validator):new function(){this.test=t.validator}:/./,cardinality:t.cardinality,optionality:i,newBlockMarker:r,offset:0,casing:t.casing,def:t.definitionSymbol|n})}else o.push({fn:null,cardinality:0,optionality:i,newBlockMarker:r,offset:0,casing:null,def:n}),f=!1;return r=!1,o}i=!1;r=!0}else r=i=!0})}function v(){function e(n){var t=n.length,r;for(i=0;i<t&&n.charAt(i)!=u.optionalmarker.start;i++);return r=[n.substring(0,i)],i<t&&r.push(n.substring(i+1,t)),r}function r(o,s){var v=0,c=0,h=s.length,y;for(i=0;i<h&&!(s.charAt(i)==u.optionalmarker.start&&v++,s.charAt(i)==u.optionalmarker.end&&c++,0<v&&v==c);i++);v=[s.substring(0,i)];i<h&&v.push(s.substring(i+1,h));y=e(v[0]);1<y.length?(h=o+y[0]+(u.optionalmarker.start+y[1]+u.optionalmarker.end)+(1<v.length?v[1]:""),-1==n.inArray(h,t)&&(t.push(h),c=l(h),f.push({mask:h,_buffer:c.mask,buffer:c.mask.slice(),tests:a(h),lastValidPosition:void 0,greedy:c.greedy,repeat:c.repeat})),h=o+y[0]+(1<v.length?v[1]:""),-1==n.inArray(h,t)&&(t.push(h),c=l(h),f.push({mask:h,_buffer:c.mask,buffer:c.mask.slice(),tests:a(h),lastValidPosition:void 0,greedy:c.greedy,repeat:c.repeat})),1<e(y[1]).length&&r(o+y[0],y[1]+v[1]),1<v.length&&1<e(v[1]).length)&&(r(o+y[0]+(u.optionalmarker.start+y[1]+u.optionalmarker.end),v[1]),r(o+y[0],v[1])):(h=o+v,-1==n.inArray(h,t)&&(t.push(h),c=l(h),f.push({mask:h,_buffer:c.mask,buffer:c.mask.slice(),tests:a(h),lastValidPosition:void 0,greedy:c.greedy,repeat:c.repeat})))}var f=[],t=[];return n.isArray(u.mask)?n.each(u.mask,function(n,t){r("",t.toString())}):r("",u.mask.toString()),u.greedy?f:f.sort(function(n,t){return n.mask.length-t.mask.length})}function s(n){return u.placeholder.charAt(n%u.placeholder.length)}function h(t,i){function r(){return t[i]}function d(){return r().tests}function e(){return r()._buffer}function f(){return r().buffer}function tt(f,s,h){function w(n,t){for(var i=v(n),o=s?1:0,r="",e=t.buffer,f=t.tests[i].cardinality;f>o;f--)r+=g(e,i-(f-1));return s&&(r+=s),null!=t.tests[i].fn?t.tests[i].fn.test(r,e,n,h,u):!1}var a;if(h=!0===h)return a=w(f,r()),!0===a&&(a={pos:f}),a;var y=[],a=!1,p=i;return n.each(t,function(n,h){if("object"==typeof h){i=n;var v=f;if(p!=i&&!c(f)){if(s==e()[v]||s==u.skipOptionalPartCharacter)return y.push({activeMasksetIndex:n,result:{refresh:!0,c:e()[v]}}),r().lastValidPosition=v,!1;t[p].lastValidPosition>=v?r().lastValidPosition=-1:v=l(f)}(void 0==r().lastValidPosition&&v==l(-1)||r().lastValidPosition>=k(v))&&0<=v&&v<o()&&(a=w(v,r()),!1!==a&&(!0===a&&(a={pos:v}),v=a.pos||v,void 0==r().lastValidPosition||r().lastValidPosition<v)&&(r().lastValidPosition=v),y.push({activeMasksetIndex:n,result:a}))}}),i=p,y}function ht(){var e=i,u={activeMasksetIndex:0,lastValidPosition:-1};n.each(t,function(n,t){"object"==typeof t&&void 0!=this.lastValidPosition&&this.lastValidPosition>u.lastValidPosition&&(u.activeMasksetIndex=n,u.lastValidPosition=this.lastValidPosition)});i=u.activeMasksetIndex;e!=i&&(et(f(),l(u.lastValidPosition),o()),r().writeOutBuffer=!0)}function c(n){return n=v(n),n=d()[n],void 0!=n?n.fn:!1}function v(n){return n%d().length}function o(){return u.getMaskLength(e(),r().greedy,r().repeat,f(),u)}function l(n){var t=o();if(n>=t)return t;for(;++n<t&&!c(n););return n}function k(n){if(0>=n)return 0;for(;0<--n&&!c(n););return n}function it(n,t,i,r){r&&(t=ct(n,t));var r=d()[v(t)],u=i;if(void 0!=u)switch(r.casing){case"upper":u=i.toUpperCase();break;case"lower":u=i.toLowerCase()}n[t]=u}function g(n,t,i){return i&&(t=ct(n,t)),n[t]}function ct(n,t){for(var i;void 0==n[t]&&n.length<o();)for(i=0;void 0!==e()[i];)n.push(e()[i++]);return t}function nt(n,t,i){n._valueSet(t.join(""));void 0!=i&&h(n,i)}function et(n,t,i){for(var r=o();t<i&&t<r;t++)it(n,t,g(e().slice(),t,!0))}function ut(n,t){var i=v(t);it(n,t,g(e(),i))}function rt(u,f,s,h){h=void 0!=h?h.slice():ot(u._valueGet()).split("");n.each(t,function(n,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=0)});!0!==s&&(i=0);f&&u._valueSet("");o();n.each(h,function(t,i){var o=r().lastValidPosition,h=r().p,h=void 0==o?t:h,o=void 0==o?-1:o;(s&&c(t)||(i!=g(e().slice(),t,!0)||c(t))&&-1==n.inArray(i,e().slice(o+1,h)))&&n(u).trigger("keypress",[!0,i.charCodeAt(0),f,s,t])});!0===s&&(r().lastValidPosition=k(r().p))}function at(t){return n.inputmask.escapeRegex.call(this,t)}function ot(n){return n.replace(RegExp("("+at(e().join(""))+")*$"),"")}function st(n){for(var r=f(),i=r.slice(),u,t=i.length-1;0<=t;t--)if(u=v(t),d()[u].optionality)if(c(t)&&tt(t,r[t],!0))break;else i.pop();else break;nt(n,i)}function vt(t,i){return d()&&(!0===i||!t.hasClass("hasDatepicker"))?n.map(f(),function(n,t){return c(t)&&tt(t,n,!0)?n:null}).join(""):t[0]._valueGet()}function h(t,i,r,e){function s(n){return!0!==e&&a&&"number"==typeof n&&(n=f().length-n),n}var o=t.jquery&&0<t.length?t[0]:t;if("number"==typeof i)i=s(i),r=s(r),n(t).is(":visible")&&(r="number"==typeof r?r:i,!1==u.insertMode&&i==r&&r++,o.setSelectionRange?(o.selectionStart=i,o.selectionEnd=y?i:r):o.createTextRange&&(t=o.createTextRange(),t.collapse(!0),t.moveEnd("character",r),t.moveStart("character",i),t.select()));else return n(t).is(":visible")?(o.setSelectionRange?(i=o.selectionStart,r=o.selectionEnd):document.selection&&document.selection.createRange&&(t=document.selection.createRange(),i=0-t.duplicate().moveStart("character",-1e5),r=i+t.text.length),i=s(i),r=s(r),{begin:i,end:r}):{begin:0,end:0}}function ft(r){var u=!1,f=0,h=i;return n.each(t,function(n,t){var l,a,h,y,p;if("object"==typeof t){if(i=n,l=k(o()),void 0!=t.lastValidPosition&&t.lastValidPosition>=f&&t.lastValidPosition==l){for(a=!0,h=0;h<=l;h++)if(y=c(h),p=v(h),y&&(void 0==r[h]||r[h]==s(h))||!y&&r[h]!=e()[p]){a=!1;break}if(u=u||a)return!1}f=t.lastValidPosition}}),i=h,u}function lt(n,t){return a?1<n-t||1==n-t&&u.insertMode:1<t-n||1==t-n&&u.insertMode}var a=!1;return this.unmaskedvalue=function(n,t){return a=n.data("_inputmask").isRTL,vt(n,t)},this.isComplete=function(n){return ft(n)},this.mask=function(y){function dt(t){t=n._data(t).events;n.each(t,function(t,i){n.each(i,function(n,t){if("inputmask"==t.namespace){var i=t.handler;t.handler=function(n){if(this.readOnly||this.disabled)n.preventDefault;else return i.apply(this,arguments)}}})})}function gt(t){var r,i,u;Object.getOwnPropertyDescriptor&&(r=Object.getOwnPropertyDescriptor(t,"value"));r&&r.get?t._valueGet||(i=r.get,u=r.set,t._valueGet=function(){return a?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(n){u.call(this,a?n.split("").reverse().join(""):n)},Object.defineProperty(t,"value",{get:function(){var i=n(this),t=n(this).data("_inputmask"),r=t.masksets,u=t.activeMasksetIndex;return t&&t.opts.autoUnmask?i.inputmask("unmaskedvalue"):this._valueGet()!=r[u]._buffer.join("")?this._valueGet():""},set:function(t){this._valueSet(t);n(this).triggerHandler("setvalue.inputmask")}})):document.__lookupGetter__&&t.__lookupGetter__("value")?t._valueGet||(i=t.__lookupGetter__("value"),u=t.__lookupSetter__("value"),t._valueGet=function(){return a?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(n){u.call(this,a?n.split("").reverse().join(""):n)},t.__defineGetter__("value",function(){var i=n(this),t=n(this).data("_inputmask"),r=t.masksets,u=t.activeMasksetIndex;return t&&t.opts.autoUnmask?i.inputmask("unmaskedvalue"):this._valueGet()!=r[u]._buffer.join("")?this._valueGet():""}),t.__defineSetter__("value",function(t){this._valueSet(t);n(this).triggerHandler("setvalue.inputmask")})):(t._valueGet||(t._valueGet=function(){return a?this.value.split("").reverse().join(""):this.value},t._valueSet=function(n){this.value=a?n.split("").reverse().join(""):n}),!0!=n.fn.val.inputmaskpatch)&&(n.fn.val=function(){var t,i,r;return arguments.length==0?(t=n(this),t.data("_inputmask"))?t.data("_inputmask").opts.autoUnmask?t.inputmask("unmaskedvalue"):(t=n.inputmask.val.apply(t),i=n(this).data("_inputmask"),t!=i.masksets[i.activeMasksetIndex]._buffer.join("")?t:""):n.inputmask.val.apply(t):(r=arguments,this.each(function(){var t=n(this),i=n.inputmask.val.apply(t,r);return t.data("_inputmask")&&t.triggerHandler("setvalue.inputmask"),i}))},n.extend(n.fn.val,{inputmaskpatch:!0}))}function vt(n,t,i){for(var u,a,y,h=f();!c(n)&&0<=n-1;)n--;for(u=n;u<t&&u<o();u++)if(c(u)){if(ut(h,u),a=l(u),y=g(h,a),y!=s(a))if(a<o()&&!1!==tt(u,y,!0)&&d()[v(u)].def==d()[v(a)].def)it(h,u,g(h,a),!0),a<t&&ut(h,a);else if(c(u))break}else ut(h,u);if(void 0!=i&&it(h,k(t),i),!1==r().greedy){for(t=ot(h.join("")).split(""),h.length=t.length,u=0,i=h.length;u<i;u++)h[u]=t[u];0==h.length&&(r().buffer=e().slice())}return n}function pt(n,t,i,u){for(var a,h=f();n<=t&&n<o();n++)if(c(n)){if(a=g(h,n,!0),it(h,n,i,!0),a!=s(n))if(i=l(n),i<o())if(!1!==tt(i,a,!0)&&d()[v(n)].def==d()[v(i)].def)i=a;else if(c(i))break;else i=a;else break;else if(i=a,!0!==u)break}else ut(h,n);if(u=h.length,!1==r().greedy){for(i=ot(h.join("")).split(""),h.length=i.length,n=0,a=h.length;n<a;n++)h[n]=i[n];0==h.length&&(r().buffer=e().slice())}return t-(u-h.length)}function ni(v){var g,tt;yt=!1;var d=this,b=v.keyCode,y=h(d);if(b==u.keyCode.BACKSPACE||b==u.keyCode.DELETE||w&&127==b||v.ctrlKey&&88==b){if(v.preventDefault(),u.numericInput||a)switch(b){case u.keyCode.BACKSPACE:b=u.keyCode.DELETE;break;case u.keyCode.DELETE:b=u.keyCode.BACKSPACE}if(lt(y.begin,y.end))if(a&&(g=y.end,y.end=y.begin,y.begin=g),et(f(),y.begin,y.end),0==y.begin&&y.end==o())n.each(t,function(n,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=0)});else{if(g=o(),!1==u.greedy)vt(y.begin,g);else for(tt=y.begin;tt<y.end;tt++)c(tt)&&vt(y.begin,g);rt(d,!1,!0,f())}else n.each(t,function(n,t){if("object"==typeof t){i=n;var h=p?y.end:y.begin,a=f(),c=l(-1),v=o();b==u.keyCode.DELETE?(h<c&&(h=c),h<v&&(u.isNumeric&&""!=u.radixPoint&&a[h]==u.radixPoint&&(h=a.length-1==h?h:l(h)),h=vt(h,v),void 0!=r().lastValidPosition&&(-1!=r().lastValidPosition&&f()[r().lastValidPosition]==e()[r().lastValidPosition]&&(r().lastValidPosition=0==r().lastValidPosition?-1:k(r().lastValidPosition)),r().lastValidPosition<c?(r().lastValidPosition=void 0,r().p=c):(r().writeOutBuffer=!0,r().p=h)))):b==u.keyCode.BACKSPACE&&(h>c?(h-=1,u.isNumeric&&""!=u.radixPoint&&a[h]==u.radixPoint?(h=pt(0,a.length-1==h?h:h-1,s(h),!0),h++):h=vt(h,v),void 0!=r().lastValidPosition)&&(-1!=r().lastValidPosition&&f()[r().lastValidPosition]==e()[r().lastValidPosition]&&(r().lastValidPosition=0==r().lastValidPosition?-1:k(r().lastValidPosition)),r().lastValidPosition<c?(r().lastValidPosition=void 0,r().p=c):(r().writeOutBuffer=!0,r().p=h)):0<i&&(r().lastValidPosition=void 0,r().writeOutBuffer=!0,r().p=c,i=0,r().buffer=e().slice(),r().p=l(-1),r().lastValidPosition=void 0))}});ht();nt(d,f(),r().p);d._valueGet()==e().join("")&&n(d).trigger("cleared");u.showTooltip&&ct.prop("title",r().mask)}else b==u.keyCode.END||b==u.keyCode.PAGE_DOWN?setTimeout(function(){var n=l(r().lastValidPosition);u.insertMode||n!=o()||v.shiftKey||n--;h(d,v.shiftKey?y.begin:n,n)},0):b==u.keyCode.HOME&&!v.shiftKey||b==u.keyCode.PAGE_UP?h(d,0,v.shiftKey?y.begin:0):b==u.keyCode.ESCAPE?(d._valueSet(r().undoBuffer),rt(d,!0,!0)):b==u.keyCode.INSERT&&!v.shiftKey&&!v.ctrlKey?(u.insertMode=!u.insertMode,h(d,!u.insertMode&&y.begin==o()?y.begin-1:y.begin)):!1==u.insertMode&&!v.shiftKey&&(b==u.keyCode.RIGHT?setTimeout(function(){var n=h(d);h(d,n.begin)},0):b==u.keyCode.LEFT&&setTimeout(function(){var n=h(d);h(d,n.begin-1)},0));g=h(d);u.onKeyDown.call(this,v,f(),u);h(d,g.begin,g.end);wt=-1!=n.inArray(b,u.ignorables)}function ti(e,v,y,p,w,b){var d,st,y,ct,ut,b,kt,at;if(void 0==y&&yt)return!1;yt=!0;var bt=n(this),e=e||window.event,y=y||e.which||e.charCode||e.keyCode,ot=String.fromCharCode(y);if((!e.ctrlKey||!e.altKey)&&(e.ctrlKey||e.metaKey||wt)&&!0!==v)return!0;y&&(v?(y=w?b:r().p,d={begin:y,end:y}):d=h(this),y=lt(d.begin,d.end),ct=!1,y&&(a&&(b=d.end,d.end=d.begin,d.begin=b),b=i,n.each(t,function(n,t){var e,h,s;if(typeof t=="object")if(i=n,r().undoBuffer=f().join(""),e=d.end<o()?d.end:o(),r().lastValidPosition>d.begin&&r().lastValidPosition<e?r().lastValidPosition=k(d.begin):ct=!0,et(f(),d.begin,e),h=o(),u.greedy==!1)vt(d.begin,h);else for(s=d.begin;s<e;s++)c(s)&&vt(d.begin,h)}),!0===ct&&(i=b,rt(this,!1,!0,f()),u.insertMode||n.each(t,function(n,t){typeof t=="object"&&(i=n,pt(d.begin,o(),s(d.begin),!0),r().lastValidPosition=l(r().lastValidPosition))})),i=b),u.isNumeric&&ot==u.radixPoint&&!0!==v&&(b=f().join("").indexOf(u.radixPoint),-1!=b&&(d.begin=d.begin==b?l(b):b,d.end=d.begin,h(this,d.begin))),ut=u.numericInput&&!0!=w&&!y?k(d.begin):l(d.begin-1),b=tt(ut,ot,w),!0===w&&(b=[{activeMasksetIndex:i,result:b}]),n.each(b,function(n,t){var e,c,h;if(i=t.activeMasksetIndex,r().writeOutBuffer=!0,e=t.result,e!==!1){if(c=!1,h=f(),e!==!0&&(c=e.refresh,ut=e.pos!=void 0?e.pos:ut,ot=e.c!=void 0?e.c:ot),c!==!0)if(u.insertMode==!0){for(e=o(),c=h.slice();g(c,e,!0)!=s(e)&&e>=ut;)e=e==0?-1:k(e);e>=ut?(pt(ut,h.length,ot),h=r().lastValidPosition,e=l(h),e!=o()&&h>=ut&&g(f(),e)!=s(e)&&(r().lastValidPosition=e)):r().writeOutBuffer=!1}else it(h,ut,ot,!0);r().p=l(ut)}}),!0!==w&&ht(),!1!==p&&(n.each(b,function(n,t){if(t.activeMasksetIndex==i)return st=t,!1}),void 0!=st)&&(kt=this,setTimeout(function(){u.onKeyValidation.call(kt,st.result,u)},0),r().writeOutBuffer&&!1!==st.result?(at=f(),nt(this,at,v?void 0:u.numericInput?k(r().p):r().p),!0!==v&&setTimeout(function(){ft(at)&&bt.trigger("complete")},0)):y&&(r().buffer=r().undoBuffer.split(""))),u.showTooltip&&bt.prop("title",r().mask),e.preventDefault())}function ii(t){var s=n(this),c=t.keyCode,i=f(),o=h(this);u.onKeyUp.call(this,t,i,u);h(this,o.begin,o.end);c==u.keyCode.TAB&&s.hasClass("focus.inputmask")&&0==this._valueGet().length&&u.showMaskOnFocus&&(i=e().slice(),nt(this,i),h(this,0),r().undoBuffer=this._valueGet())}var ct=n(y),at,yt,wt,bt,kt;if(ct.is(":input")){ct.data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:u,isRTL:!1});u.showTooltip&&ct.prop("title",r().mask);r().greedy=r().greedy?r().greedy:0==r().repeat;null!=ct.attr("maxLength")&&(at=ct.prop("maxLength"),-1<at&&n.each(t,function(n,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=at)}),o()>at&&-1<at&&(at<e().length&&(e().length=at),!1==r().greedy&&(r().repeat=Math.round(at/e().length)),ct.prop("maxLength",2*o())));gt(y);r().undoBuffer=y._valueGet();yt=!1;wt=!1;("rtl"==y.dir||u.numericInput&&u.rightAlignNumerics||u.isNumeric&&u.rightAlignNumerics)&&ct.css("text-align","right");("rtl"==y.dir||u.numericInput)&&(y.dir="ltr",ct.removeAttr("dir"),bt=ct.data("_inputmask"),bt.isRTL=!0,ct.data("_inputmask",bt),a=!0);ct.unbind(".inputmask");ct.removeClass("focus.inputmask");ct.closest("form").bind("submit",function(){ct[0]._valueGet&&ct[0]._valueGet()!=r().undoBuffer&&ct.change()}).bind("reset",function(){n.each(t,function(n,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=-1)})});ct.bind("mouseenter.inputmask",function(){!n(this).hasClass("focus.inputmask")&&u.showMaskOnHover&&this._valueGet()!=f().join("")&&nt(this,f())}).bind("blur.inputmask",function(){var o=n(this),s=this._valueGet(),h=f();o.removeClass("focus.inputmask");s!=r().undoBuffer&&o.change();u.clearMaskOnLostFocus&&""!=s&&(s==e().join("")?this._valueSet(""):st(this));ft(h)||(o.trigger("incomplete"),u.clearIncomplete&&(n.each(t,function(n,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=void 0,t.p=0)}),i=0,u.clearMaskOnLostFocus?this._valueSet(""):(h=e().slice(),nt(this,h))))}).bind("focus.inputmask",function(){var t=n(this),i=this._valueGet();u.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!u.showMaskOnHover||u.showMaskOnHover&&""==i)&&this._valueGet()!=f().join("")&&nt(this,f(),r().p);t.addClass("focus.inputmask");r().undoBuffer=this._valueGet();t.click()}).bind("mouseleave.inputmask",function(){var t=n(this);u.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||(this._valueGet()==e().join("")||""==this._valueGet()?this._valueSet(""):st(this)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var i=h(t),s=f();if(i.begin==i.end){var i=i.begin,e=r().lastValidPosition,e=u.isNumeric?!1===u.skipRadixDance&&""!=u.radixPoint&&-1!=n.inArray(u.radixPoint,s)?n.inArray(u.radixPoint,s):o():l(void 0==e?-1:e);h(t,i<e&&(!1!==tt(i,s[i],!0)||!c(i))?i:e)}},0)}).bind("dblclick.inputmask",function(){var n=this;void 0!=r().lastValidPosition&&setTimeout(function(){h(n,0,l(r().lastValidPosition))},0)}).bind("keydown.inputmask",ni).bind("keypress.inputmask",ti).bind("keyup.inputmask",ii).bind(b+".inputmask dragdrop.inputmask drop.inputmask",function(){var t=this,i=n(t);setTimeout(function(){rt(t,!0,!1);ft(f())&&i.trigger("complete");i.click()},0)}).bind("setvalue.inputmask",function(){r().undoBuffer=this._valueGet();rt(this,!0);this._valueGet()==e().join("")&&this._valueSet("")}).bind("complete.inputmask",u.oncomplete).bind("incomplete.inputmask",u.onincomplete).bind("cleared.inputmask",u.oncleared);rt(y,!0,!1);try{kt=document.activeElement}catch(ri){}kt===y?(ct.addClass("focus.inputmask"),h(y,r().p)):u.clearMaskOnLostFocus?f().join("")==e().join("")?y._valueSet(""):st(y):nt(y,f());dt(y)}},this}var u=n.extend(!0,{},n.inputmask.defaults,r),w=null!==navigator.userAgent.match(/iphone/i),y=null!==navigator.userAgent.match(/android.*safari.*/i),b=function(n){var t=document.createElement("input"),n="on"+n,i=n in t;return i||(t.setAttribute(n,"return;"),i="function"==typeof t[n]),i}("paste")?"paste":"input",p,f,e=0,o;if(y&&(o=navigator.userAgent.match(/safari.*/i),p=537>=parseInt(RegExp(/[0-9]+/).exec(o))),"string"==typeof t)switch(t){case"mask":return c(u.alias,r),f=v(),this.each(function(){h(n.extend(!0,{},f),0).mask(this)});case"unmaskedvalue":return o=n(this),o.data("_inputmask")?(f=o.data("_inputmask").masksets,e=o.data("_inputmask").activeMasksetIndex,u=o.data("_inputmask").opts,h(f,e).unmaskedvalue(o)):o.val();case"remove":return this.each(function(){var t=n(this),i;if(t.data("_inputmask")){f=t.data("_inputmask").masksets;e=t.data("_inputmask").activeMasksetIndex;u=t.data("_inputmask").opts;this._valueSet(h(f,e).unmaskedvalue(t,!0));t.removeData("_inputmask");t.unbind(".inputmask");t.removeClass("focus.inputmask");Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(this,"value"));i&&i.get?this._valueGet&&Object.defineProperty(this,"value",{get:this._valueGet,set:this._valueSet}):document.__lookupGetter__&&this.__lookupGetter__("value")&&this._valueGet&&(this.__defineGetter__("value",this._valueGet),this.__defineSetter__("value",this._valueSet));try{delete this._valueGet;delete this._valueSet}catch(r){this._valueSet=this._valueGet=void 0}}});case"getemptymask":return this.data("_inputmask")?(f=this.data("_inputmask").masksets,e=this.data("_inputmask").activeMasksetIndex,f[e]._buffer.join("")):"";case"hasMaskedValue":return this.data("_inputmask")?!this.data("_inputmask").opts.autoUnmask:!1;case"isComplete":return f=this.data("_inputmask").masksets,e=this.data("_inputmask").activeMasksetIndex,u=this.data("_inputmask").opts,h(f,e).isComplete(this[0]._valueGet().split(""));default:return c(t,r)||(u.mask=t),f=v(),this.each(function(){h(n.extend(!0,{},f),e).mask(this)})}else{if("object"==typeof t)return u=n.extend(!0,{},n.inputmask.defaults,t),c(u.alias,t),f=v(),this.each(function(){h(n.extend(!0,{},f),e).mask(this)});if(void 0==t)return this.each(function(){var t=n(this).attr("data-inputmask"),i;if(t&&""!=t)try{t=t.replace(RegExp("'","g"),'"');i=n.parseJSON("{"+t+"}");n.extend(!0,i,r);u=n.extend(!0,{},n.inputmask.defaults,i);c(u.alias,i);u.alias=void 0;n(this).inputmask(u)}catch(f){}})}return this})}(jQuery),function(n){n.extend(n.inputmask.defaults.definitions,{A:{validator:"[A-Za-z]",cardinality:1,casing:"upper"},"#":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1,casing:"upper"}});n.extend(n.inputmask.defaults.aliases,{url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:/[fh]/,urlpre2:/(ft|ht)/,urlpre3:/(ftp|htt)/,urlpre4:/(ftp:|http|ftps)/,urlpre5:/(ftp:\/|ftps:|http:|https)/,urlpre6:/(ftp:\/\/|ftps:\/|http:\/|https:)/,urlpre7:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/)/,urlpre8:/(ftp:\/\/|ftps:\/\/|http:\/\/|https:\/\/)/},definitions:{i:{validator:function(){return!0},cardinality:8,prevalidator:function(){for(var t=[],n=0;8>n;n++)t[n]=function(){var t=n;return{validator:function(n,i,r,u,f){if(f.regex["urlpre"+(t+1)]){var e=n;if(0<t+1-n.length&&(e=i.join("").substring(0,t+1-n.length)+""+e),n=f.regex["urlpre"+(t+1)].test(e),!u&&!n){for(r-=t,u=0;u<f.defaultPrefix.length;u++)i[r]=f.defaultPrefix[u],r++;for(u=0;u<e.length-1;u++)i[r]=e[u],r++;return{pos:r}}return n}return!1},cardinality:t}}();return t}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i.i.i.i",definitions:{i:{validator:"25[0-5]|2[0-4][0-9]|[01][0-9][0-9]",cardinality:3,prevalidator:[{validator:"[0-2]",cardinality:1},{validator:"2[0-5]|[01][0-9]",cardinality:2}]}}}})}(jQuery),function(n){n.extend(n.inputmask.defaults.definitions,{h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}});n.extend(n.inputmask.defaults.aliases,{"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:/[0-3]/,val1:/0[1-9]|[12][0-9]|3[01]/,val2pre:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|[12][0-9]|3[01])"+t+"[01])")},val2:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|[12][0-9])"+t+"(0[1-9]|1[012]))|(30"+t+"(0[13-9]|1[012]))|(31"+t+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(n,t,i){var r=parseInt(n.concat(t.toString().slice(n.length))),n=parseInt(n.concat(i.toString().slice(n.length)));return(NaN!=r?t<=r&&r<=i:!1)||(NaN!=n?t<=n&&n<=i:!1)},determinebaseyear:function(n,t,i){var r=(new Date).getFullYear(),u;if(n>r)return n;if(t<r){for(r=t.toString().slice(0,2),u=t.toString().slice(2,4);t<r+i;)r--;return t=r+u,n>t?n:t}return r},onKeyUp:function(t,i,r){i=n(this);t.ctrlKey&&t.keyCode==r.keyCode.RIGHT&&(t=new Date,i.val(t.getDate().toString()+(t.getMonth()+1).toString()+t.getFullYear().toString()))},definitions:{1:{validator:function(n,t,i,r,u){var f=u.regex.val1.test(n);return!r&&!f&&(n.charAt(1)==u.separator||-1!="-./".indexOf(n.charAt(1)))&&(f=u.regex.val1.test("0"+n.charAt(0)))?(t[i-1]="0",{pos:i,c:n.charAt(0)}):f},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var f=u.regex.val1pre.test(n);return!r&&!f&&(f=u.regex.val1.test("0"+n))?(t[i]="0",i++,{pos:i}):f},cardinality:1}]},2:{validator:function(n,t,i,r,u){var e=t.join("").substr(0,3),f=u.regex.val2(u.separator).test(e+n);return!r&&!f&&(n.charAt(1)==u.separator||-1!="-./".indexOf(n.charAt(1)))&&(f=u.regex.val2(u.separator).test(e+"0"+n.charAt(0)))?(t[i-1]="0",{pos:i,c:n.charAt(0)}):f},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var e=t.join("").substr(0,3),f=u.regex.val2pre(u.separator).test(e+n);return!r&&!f&&(f=u.regex.val2(u.separator).test(e+"0"+n))?(t[i]="0",i++,{pos:i}):f},cardinality:1}]},y:{validator:function(n,t,i,r,u){return u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear)?t.join("").substr(0,6)!=u.leapday?!0:(n=parseInt(n,10),0==n%4?0==n%100?0==n%400?!0:!1:!0:!1):!1},cardinality:4,prevalidator:[{validator:function(n,t,i,r,u){var f=u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear);if(!r&&!f){if(r=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n+"0").toString().slice(0,1),f=u.isInYearRange(r+n,u.yearrange.minyear,u.yearrange.maxyear))return t[i++]=r[0],{pos:i};if(r=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n+"0").toString().slice(0,2),f=u.isInYearRange(r+n,u.yearrange.minyear,u.yearrange.maxyear))return t[i++]=r[0],t[i++]=r[1],{pos:i}}return f},cardinality:1},{validator:function(n,t,i,r,u){var f=u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear);if(!r&&!f){if(r=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n).toString().slice(0,2),f=u.isInYearRange(n[0]+r[1]+n[1],u.yearrange.minyear,u.yearrange.maxyear))return t[i++]=r[1],{pos:i};if(r=u.determinebaseyear(u.yearrange.minyear,u.yearrange.maxyear,n).toString().slice(0,2),u.isInYearRange(r+n,u.yearrange.minyear,u.yearrange.maxyear)?t.join("").substr(0,6)!=u.leapday?f=!0:(u=parseInt(n,10),f=0==u%4?0==u%100?0==u%400?!0:!1:!0:!1):f=!1,f)return t[i-1]=r[0],t[i++]=r[1],t[i++]=n[0],{pos:i}}return f},cardinality:2},{validator:function(n,t,i,r,u){return u.isInYearRange(n,u.yearrange.minyear,u.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[13-9]|1[012])"+t+"[0-3])|(02"+t+"[0-2])")},val2:function(t){return t=n.inputmask.escapeRegex.call(this,t),RegExp("((0[1-9]|1[012])"+t+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+t+"30)|((0[13578]|1[02])"+t+"31)")},val1pre:/[01]/,val1:/0[1-9]|1[012]/},leapday:"02/29/",onKeyUp:function(t,i,r){i=n(this);t.ctrlKey&&t.keyCode==r.keyCode.RIGHT&&(t=new Date,i.val((t.getMonth()+1).toString()+t.getDate().toString()+t.getFullYear().toString()))}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyUp:function(t,i,r){i=n(this);t.ctrlKey&&t.keyCode==r.keyCode.RIGHT&&(t=new Date,i.val(t.getFullYear().toString()+(t.getMonth()+1).toString()+t.getDate().toString()))},definitions:{2:{validator:function(n,t,i,r,u){var e=t.join("").substr(5,3),f=u.regex.val2(u.separator).test(e+n);return!r&&!f&&(n.charAt(1)==u.separator||-1!="-./".indexOf(n.charAt(1)))&&(f=u.regex.val2(u.separator).test(e+"0"+n.charAt(0)))?(t[i-1]="0",{pos:i,c:n.charAt(0)}):f?t.join("").substr(4,4)+n!=u.leapday?!0:(n=parseInt(t.join("").substr(0,4),10),0==n%4?0==n%100?0==n%400?!0:!1:!0:!1):f},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var e=t.join("").substr(5,3),f=u.regex.val2pre(u.separator).test(e+n);return!r&&!f&&(f=u.regex.val2(u.separator).test(e+"0"+n))?(t[i]="0",i++,{pos:i}):f},cardinality:1}]}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:/[012]/,hrs24:/2[0-9]|1[3-9]/,hrs:/[01][0-9]|2[0-3]/,ampm:/^[a|p|A|P][m|M]/},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(n,t,i,r,u){var f=u.regex.hrs.test(n);return!r&&!f&&(n.charAt(1)==u.timeseparator||-1!="-.:".indexOf(n.charAt(1)))&&(f=u.regex.hrs.test("0"+n.charAt(0)))?(t[i-1]="0",t[i]=n.charAt(0),i++,{pos:i}):f&&"24"!==u.hourFormat&&u.regex.hrs24.test(n)?(n=parseInt(n,10),t[i+5]=24==n?"a":"p",t[i+6]="m",n-=12,10>n?(t[i]=n.toString(),t[i-1]="0"):(t[i]=n.toString().charAt(1),t[i-1]=n.toString().charAt(0)),{pos:i,c:t[i]}):f},cardinality:2,prevalidator:[{validator:function(n,t,i,r,u){var f=u.regex.hrspre.test(n);return!r&&!f&&(f=u.regex.hrs.test("0"+n))?(t[i]="0",i++,{pos:i}):f},cardinality:1}]},t:{validator:function(n,t,i,r,u){return u.regex.ampm.test(n+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",autoUnmask:!1},"hh:mm":{mask:"h:s",autoUnmask:!1},date:{alias:"dd/mm/yyyy"}})}(jQuery),function(n){n.extend(n.inputmask.defaults.aliases,{decimal:{mask:"~",placeholder:"",repeat:"*",greedy:!1,numericInput:!1,isNumeric:!0,digits:"*",groupSeparator:"",radixPoint:".",groupSize:3,autoGroup:!1,allowPlus:!0,allowMinus:!0,getMaskLength:function(t,i,r,u,f){var e=t.length;return i||("*"==r?e=u.length+1:1<r&&(e+=t.length*(r-1))),t=n.inputmask.escapeRegex.call(this,f.groupSeparator),f=n.inputmask.escapeRegex.call(this,f.radixPoint),u=u.join(""),f=u.replace(RegExp(t,"g"),"").replace(RegExp(f),""),e+(u.length-f.length)},postFormat:function(t,i,r,u){var f;if(""==u.groupSeparator)return i;if(f=t.slice(),n.inArray(u.radixPoint,t),r||f.splice(i,0,"?"),f=f.join(""),u.autoGroup||r&&-1!=f.indexOf(u.groupSeparator)){for(var e=n.inputmask.escapeRegex.call(this,u.groupSeparator),f=f.replace(RegExp(e,"g"),""),e=f.split(u.radixPoint),f=e[0],o=RegExp("([-+]?[\\d?]+)([\\d?]{"+u.groupSize+"})");o.test(f);)f=f.replace(o,"$1"+u.groupSeparator+"$2"),f=f.replace(u.groupSeparator+u.groupSeparator,u.groupSeparator);1<e.length&&(f+=u.radixPoint+e[1])}for(t.length=f.length,u=0,e=f.length;u<e;u++)t[u]=f.charAt(u);return f=n.inArray("?",t),r||t.splice(f,1),r?i:f},regex:{number:function(t){var i=n.inputmask.escapeRegex.call(this,t.groupSeparator),r=n.inputmask.escapeRegex.call(this,t.radixPoint),u=isNaN(t.digits)?t.digits:"{0,"+t.digits+"}";return RegExp("^"+("["+(t.allowPlus?"+":"")+(t.allowMinus?"-":"")+"]?")+"(\\d+|\\d{1,"+t.groupSize+"}(("+i+"\\d{"+t.groupSize+"})?)+)("+r+"\\d"+u+")?$")}},onKeyDown:function(t,i,r){var u=n(this);if(t.keyCode==r.keyCode.TAB){if(t=n.inArray(r.radixPoint,i),-1!=t){for(var e=u.data("_inputmask").masksets,u=u.data("_inputmask").activeMasksetIndex,f=1;f<=r.digits&&f<r.getMaskLength(e[u]._buffer,e[u].greedy,e[u].repeat,i,r);f++)void 0==i[t+f]&&(i[t+f]="0");this._valueSet(i.join(""))}}else(t.keyCode==r.keyCode.DELETE||t.keyCode==r.keyCode.BACKSPACE)&&(r.postFormat(i,0,!0,r),this._valueSet(i.join("")))},definitions:{"~":{validator:function(t,r,u,f,e){var o;if(""==t)return!1;if(!f&&1>=u&&"0"===r[0]&&/[\d-]/.test(t)&&1==r.length)return r[0]="",{pos:0};o=f?r.slice(0,u):r.slice();o.splice(u,0,t);var o=o.join(""),s=n.inputmask.escapeRegex.call(this,e.groupSeparator),o=o.replace(RegExp(s,"g"),""),s=e.regex.number(e).test(o);if(!s&&(o+="0",s=e.regex.number(e).test(o),!s)){for(s=o.lastIndexOf(e.groupSeparator),i=o.length-s;3>=i;i++)o+="0";if(s=e.regex.number(e).test(o),!s&&!f&&t==e.radixPoint&&(s=e.regex.number(e).test("0"+o+"0")))return r[u]="0",u++,{pos:u}}return!1!=s&&!f&&t!=e.radixPoint?{pos:e.postFormat(r,u,!1,e)}:s},cardinality:1,prevalidator:null}},insertMode:!0,autoUnmask:!1},integer:{regex:{number:function(t){var i=n.inputmask.escapeRegex.call(this,t.groupSeparator);return RegExp("^"+("["+(t.allowPlus?"+":"")+(t.allowMinus?"-":"")+"]?")+"(\\d+|\\d{1,"+t.groupSize+"}(("+i+"\\d{"+t.groupSize+"})?)+)$")}},alias:"decimal"}})}(jQuery),function(n){n.extend(n.inputmask.defaults.aliases,{Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,definitions:{r:{validator:function(n,t,i,r,u){function h(){var i={isQuantifier:!1,matches:[],isGroup:!1},n,t=[];for(u.regexTokens=[];n=u.tokenizer.exec(u.regex);)switch(n=n[0],n.charAt(0)){case"[":case"\\":!0!==i.isGroup&&(i={isQuantifier:!1,matches:[],isGroup:!1},u.regexTokens.push(i));0<t.length?t[t.length-1].matches.push(n):i.matches.push(n);break;case"(":i={isQuantifier:!1,matches:[],isGroup:!0};t.push(i);break;case")":n=t.pop();0<t.length?t[t.length-1].matches.push(n):(i=n,u.regexTokens.push(i));break;case"{":n={isQuantifier:!0,matches:[n],isGroup:!1};0<t.length?t[t.length-1].matches.push(n):i.matches.push(n);break;default:0<t.length?t[t.length-1].matches.push(n):i.matches.push(n)}}function s(n,t){var i=!1,c,r;for(t&&(f+="(",e++),c=0;c<n.matches.length;c++){if(r=n.matches[c],!0==r.isGroup)i=s(r,!0);else if(!0==r.isQuantifier){for(var r=r.matches[0],i=u.quantifierFilter.exec(r)[0].replace("}",""),i=f+"{1,"+i+"}",h=0;h<e;h++)i+=")";i=RegExp("^"+i+"$");i=i.test(o);f+=r}else{for(f+=r,i=f.replace(/\|$/,""),h=0;h<e;h++)i+=")";i=RegExp("^"+i+"$");i=i.test(o)}if(i)break}return t&&(f+=")",e--),i}var o,n;null==u.regexTokens&&h();var r=t.slice(),f="",t=!1,e=0;for(r.splice(i,0,n),o=r.join(""),n=0;n<u.regexTokens.length&&!(i=u.regexTokens[n],t=s(i,f,i.isGroup));n++);return t},cardinality:1}}}})}(jQuery)